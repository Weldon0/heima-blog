import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{r as e,o,c,a as n,b as l,F as i,e as s,d as a}from"./app.9e07841f.js";const u={},k=s('<h2 id="hooks\u57FA\u7840\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#hooks\u57FA\u7840\u4F7F\u7528" aria-hidden="true">#</a> hooks\u57FA\u7840\u4F7F\u7528</h2><h3 id="_1-hooks-\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_1-hooks-\u4ECB\u7ECD" aria-hidden="true">#</a> 1. hooks-\u4ECB\u7ECD</h3><blockquote><p>\u80FD\u591F\u8BF4\u51FA React Hooks \u662F\u4EC0\u4E48\uFF1F</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>hooks \u89E3\u91CA</li><li>hooks \u4F5C\u7528</li><li>\u6709\u4E86 hooks \u4E4B\u540E\u7EC4\u4EF6\u5F00\u53D1\u6A21\u5F0F</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>hooks \u89E3\u91CA <ul><li><code>Hooks</code>\uFF1A\u94A9\u5B50\u3001\u9493\u94A9\u3001\u94A9\u4F4F \uFF0C<code>Hooks</code> \u662F <strong>React v16.8</strong> \u4E2D\u7684\u65B0\u589E\u529F\u80FD</li></ul></li><li>hooks \u4F5C\u7528 <ul><li>\u4E3A<strong>\u51FD\u6570\u7EC4\u4EF6</strong>\u63D0\u4F9B\u72B6\u6001\u3001\u751F\u547D\u5468\u671F\u7B49\u539F\u672C class \u7EC4\u4EF6\u4E2D\u63D0\u4F9B\u7684 React \u529F\u80FD</li><li>\u53EF\u4EE5\u7406\u89E3\u4E3A\u901A\u8FC7 Hooks \u4E3A\u51FD\u6570\u7EC4\u4EF6\u94A9\u5165 class \u7EC4\u4EF6\u7684\u7279\u6027</li><li>\u6CE8\u610F\uFF1A<strong>Hooks \u53EA\u80FD\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u4F7F\u7528</strong>\uFF0C\u81EA\u6B64\uFF0C\u51FD\u6570\u7EC4\u4EF6\u6210\u4E3A React \u7684\u65B0\u5BA0\u513F</li></ul></li><li>React v16.8 \u7248\u672C\u524D\u540E\uFF0C\u7EC4\u4EF6\u5F00\u53D1\u6A21\u5F0F\u7684\u5BF9\u6BD4\uFF1A <ul><li>React v16.8 \u4EE5\u524D\uFF1A class \u7EC4\u4EF6(\u63D0\u4F9B\u72B6\u6001) + \u51FD\u6570\u7EC4\u4EF6(\u5C55\u793A\u5185\u5BB9)</li><li>React v16.8 \u53CA\u5176\u4EE5\u540E\uFF1A <ol><li>class \u7EC4\u4EF6(\u63D0\u4F9B\u72B6\u6001) + \u51FD\u6570\u7EC4\u4EF6(\u5C55\u793A\u5185\u5BB9)</li><li>Hooks(\u63D0\u4F9B\u72B6\u6001) + \u51FD\u6570\u7EC4\u4EF6(\u5C55\u793A\u5185\u5BB9)</li><li>\u6DF7\u7528\u4EE5\u4E0A\u4E24\u79CD\u65B9\u5F0F\uFF1A\u90E8\u5206\u529F\u80FD\u7528 class \u7EC4\u4EF6\uFF0C\u90E8\u5206\u529F\u80FD\u7528 Hooks+\u51FD\u6570\u7EC4\u4EF6</li></ol></li></ul></li></ol><p><strong>\u603B\u7ED3</strong>\uFF1A</p><ul><li>\u867D\u7136\u6709\u4E86 Hooks\uFF0C\u4F46 React \u5B98\u65B9\u5E76\u6CA1\u6709\u8BA1\u5212\u4ECE React \u5E93\u4E2D\u79FB\u9664 class</li><li>\u6709\u4E86 Hooks \u4EE5\u540E\uFF0C\u4E0D\u80FD\u518D\u628A<strong>\u51FD\u6570\u7EC4\u4EF6</strong>\u79F0\u4E3A<s>\u65E0\u72B6\u6001\u7EC4\u4EF6</s>\u4E86\uFF0C\u56E0\u4E3A Hooks \u4E3A\u51FD\u6570\u7EC4\u4EF6\u63D0\u4F9B\u4E86\u72B6\u6001</li></ul><h3 id="_2-hooks-\u89E3\u51B3\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_2-hooks-\u89E3\u51B3\u7684\u95EE\u9898" aria-hidden="true">#</a> 2. hooks-\u89E3\u51B3\u7684\u95EE\u9898</h3><blockquote><p>\u80FD\u591F\u8BF4\u51FA\u4E3A\u4EC0\u4E48\u8981\u6709 Hooks \u4EE5\u53CA Hooks \u80FD\u89E3\u51B3\u4EC0\u4E48\u95EE\u9898</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u7EC4\u4EF6\u7684\u72B6\u6001\u903B\u8F91\u590D\u7528\u95EE\u9898</li><li>class \u7EC4\u4EF6\u81EA\u8EAB\u7684\u95EE\u9898</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u7EC4\u4EF6\u7684\u72B6\u6001\u903B\u8F91\u590D\u7528\u95EE\u9898 <ul><li>\u5728 Hooks \u4E4B\u524D\uFF0C\u7EC4\u4EF6\u7684\u72B6\u6001\u903B\u8F91\u590D\u7528\u7ECF\u5386\u4E86\uFF1Amixins\uFF08\u6DF7\u5165\uFF09\u3001HOCs\uFF08\u9AD8\u9636\u7EC4\u4EF6\uFF09\u3001render-props \u7B49\u6A21\u5F0F</li><li>\uFF08\u65E9\u5DF2\u5E9F\u5F03\uFF09mixins \u7684\u95EE\u9898\uFF1A1 \u6570\u636E\u6765\u6E90\u4E0D\u6E05\u6670 2 \u547D\u540D\u51B2\u7A81</li><li>HOCs\u3001render-props \u7684\u95EE\u9898\uFF1A\u91CD\u6784\u7EC4\u4EF6\u7ED3\u6784\uFF0C\u5BFC\u81F4\u7EC4\u4EF6\u5F62\u6210 JSX \u5D4C\u5957\u5730\u72F1\u95EE\u9898</li></ul></li><li>class \u7EC4\u4EF6\u81EA\u8EAB\u7684\u95EE\u9898 <ul><li>\u9009\u62E9\uFF1A\u51FD\u6570\u7EC4\u4EF6\u548C class \u7EC4\u4EF6\u4E4B\u95F4\u7684\u533A\u522B\u4EE5\u53CA\u4F7F\u7528\u54EA\u79CD\u7EC4\u4EF6\u66F4\u5408\u9002</li><li>\u9700\u8981\u7406\u89E3 class \u4E2D\u7684 this \u662F\u5982\u4F55\u5DE5\u4F5C\u7684</li><li>\u76F8\u4E92\u5173\u8054\u4E14\u9700\u8981\u5BF9\u7167\u4FEE\u6539\u7684\u4EE3\u7801\u88AB\u62C6\u5206\u5230\u4E0D\u540C\u751F\u547D\u5468\u671F\u51FD\u6570\u4E2D</li><li>\u76F8\u6BD4\u4E8E\u51FD\u6570\u7EC4\u4EF6\u6765\u8BF4\uFF0C\u4E0D\u5229\u4E8E\u4EE3\u7801\u538B\u7F29\u548C\u4F18\u5316\uFF0C\u4E5F\u4E0D\u5229\u4E8E TS \u7684\u7C7B\u578B\u63A8\u5BFC</li></ul></li></ol><p><strong>\u603B\u7ED3</strong>\uFF1A</p><ul><li>\u6B63\u662F\u7531\u4E8E React \u539F\u6765\u5B58\u5728\u7684\u8FD9\u4E9B\u95EE\u9898\uFF0C\u624D\u6709\u4E86 Hooks \u6765\u89E3\u51B3\u8FD9\u4E9B\u95EE\u9898</li></ul><h3 id="_3-hooks-\u6E10\u8FDB\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-hooks-\u6E10\u8FDB\u7B56\u7565" aria-hidden="true">#</a> 3. hooks-\u6E10\u8FDB\u7B56\u7565</h3><blockquote><p>\u80FD\u591F\u7406\u89E3\u5728 react \u4E2D\u4EC0\u4E48\u573A\u666F\u5E94\u8BE5\u4F7F\u7528 hooks</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u4EC0\u4E48\u662F\u6E10\u8FDB\u5F0F\u7B56\u7565\uFF1F</li><li>\u5728 hooks \u4E2D\u5F00\u53D1\u4F1A\u4F7F\u7528\u90A3\u4E9B\u77E5\u8BC6\uFF1F</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p>',22),r=a("\u4EC0\u4E48\u662F\u6E10\u8FDB\u5F0F\u7B56\u7565\uFF08\u9879\u76EE\u5F00\u53D1\u573A\u666F\uFF09"),d={href:"https://zh-hans.reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"},v=a("\u6587\u6863"),m=n("ul",null,[n("li",null,"\u4E0D\u63A8\u8350\u76F4\u63A5\u4F7F\u7528 Hooks \u5927\u89C4\u6A21\u91CD\u6784\u73B0\u6709\u7EC4\u4EF6"),n("li",null,"\u63A8\u8350\uFF1A\u65B0\u529F\u80FD\u7528 Hooks\uFF0C\u590D\u6742\u529F\u80FD\u5B9E\u73B0\u4E0D\u4E86\u7684\uFF0C\u4E5F\u53EF\u4EE5\u7EE7\u7EED\u7528 class"),n("li",null,"\u627E\u4E00\u4E2A\u529F\u80FD\u7B80\u5355\u3001\u975E\u6838\u5FC3\u529F\u80FD\u7684\u7EC4\u4EF6\u5F00\u59CB\u4F7F\u7528 hooks")],-1),g=s("<li>\u5728 hooks \u4E2D\u5F00\u53D1\u4F1A\u4F7F\u7528\u90A3\u4E9B\u77E5\u8BC6\uFF1F <ul><li>class \u7EC4\u4EF6\u76F8\u5173\u7684 API \u5728 hooks \u4E2D\u4E0D\u53EF\u7528 <ul><li>class \u81EA\u8EAB\u8BED\u6CD5\uFF0C\u6BD4\u5982\uFF0Cconstructor\u3001static \u7B49</li><li>\u94A9\u5B50\u51FD\u6570\uFF0C<code>componentDidMount</code>\u3001<code>componentDidUpdate</code>\u3001<code>componentWillUnmount</code></li><li><code>this</code> \u76F8\u5173\u7684\u7528\u6CD5</li></ul></li><li>\u539F\u6765\u5B66\u4E60\u7684 React \u5185\u5BB9\u8FD8\u662F\u8981\u7528\u7684 <ul><li>JSX\uFF1A<code>{}</code>\u3001<code>onClick={handleClick}</code>\u3001\u6761\u4EF6\u6E32\u67D3\u3001\u5217\u8868\u6E32\u67D3\u3001\u6837\u5F0F\u5904\u7406\u7B49</li><li>\u7EC4\u4EF6\uFF1A\u51FD\u6570\u7EC4\u4EF6\u3001\u7EC4\u4EF6\u901A\u8BAF</li><li>React \u5F00\u53D1\u7406\u5FF5\uFF1A<code>\u5355\u5411\u6570\u636E\u6D41</code>\u3001<code>\u72B6\u6001\u63D0\u5347</code> \u7B49</li><li>\u89E3\u51B3\u95EE\u9898\u7684\u601D\u8DEF\u3001\u6280\u5DE7\u3001\u5E38\u89C1\u9519\u8BEF\u7684\u5206\u6790\u7B49</li></ul></li></ul></li>",1),b=s(`<p><strong>\u603B\u7ED3</strong>\uFF1A</p><ol><li>react \u6CA1\u6709\u8BA1\u5212\u4ECE React \u4E2D\u79FB\u9664 class</li><li>react \u5C06\u7EE7\u7EED\u4E3A class \u7EC4\u4EF6\u63D0\u4F9B\u652F\u6301</li><li>\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u540C\u65F6\u4F7F\u7528 hooks \u548C class</li></ol><h3 id="_4-usestate-\u57FA\u672C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_4-usestate-\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a> 4. useState-\u57FA\u672C\u4F7F\u7528</h3><blockquote><p>\u80FD\u591F\u4F7F\u7528<code>useState</code>\u4E3A\u51FD\u6570\u7EC4\u4EF6\u63D0\u4F9B\u72B6\u6001</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li><code>useState</code> \u4F5C\u7528\uFF1F</li><li><code>useState</code> \u8BED\u6CD5\uFF1F</li><li><code>useState</code> \u4F7F\u7528\u6B65\u9AA4\uFF1F</li><li><code>useState</code> \u5199\u6CD5\u6B63\u786E\u59FF\u52BF</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li><code>useState</code> \u4F5C\u7528</li></ol><ul><li>\u4E3A\u51FD\u6570\u7EC4\u4EF6\u63D0\u4F9B\u72B6\u6001</li><li>\u5B83\u662F\u4E00\u4E2A hook\uFF0C\u5C31\u662F\u4E00\u4E2A\u7279\u6B8A\u7684\u51FD\u6570\uFF0C\u8BA9\u4F60\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u72B6\u6001\u7B49 React \u7279\u6027\u3002</li><li>\u540D\u79F0\u4E0A\u770B hook \u90FD\u4EE5<code>use</code>\u5F00\u5934<code>useXxx</code></li></ul><ol><li><code>useState</code> \u8BED\u6CD5</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// \u53C2\u6570\uFF1A\u72B6\u6001\u521D\u59CB\u503C(\u6570\u503C\u3001\u5B57\u7B26\u4E32\u3001\u6570\u7EC4\uFF0C\u5BF9\u8C61)</span>
<span class="token comment">// \u8FD4\u56DE\u503C\uFF1AstateArray \u662F\u4E00\u4E2A\u6570\u7EC4</span>
<span class="token keyword">const</span> stateArray <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u7D22\u5F15 0 \u8868\u793A\uFF1A\u72B6\u6001\u503C\uFF08state\uFF09</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// \u7D22\u5F15 1 \u8868\u793A\uFF1A\u4FEE\u6539\u72B6\u6001\u7684\u51FD\u6570\uFF08setState\uFF09</span>
<span class="token keyword">const</span> setState <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>useState
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4F7F\u7528\u6B65\u9AA4</p><ol><li>\u5BFC\u5165 <code>useState</code> hook</li><li>\u8C03\u7528 <code>useState</code> \u51FD\u6570\uFF0C\u5E76\u4F20\u5165\u72B6\u6001\u7684\u521D\u59CB\u503C</li><li>\u4ECE <code>useState</code> \u51FD\u6570\u7684\u8FD4\u56DE\u503C\u4E2D\uFF0C\u62FF\u5230\u72B6\u6001\u548C\u4FEE\u6539\u72B6\u6001\u7684\u51FD\u6570</li><li>\u5728 JSX \u4E2D\u5C55\u793A\u72B6\u6001</li><li>\u5728\u6309\u94AE\u7684\u70B9\u51FB\u4E8B\u4EF6\u4E2D\u8C03\u7528\u4FEE\u6539\u72B6\u6001\u7684\u51FD\u6570\uFF0C\u6765\u66F4\u65B0\u72B6\u6001</li></ol></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">Count</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// stateArray \u662F\u4E00\u4E2A\u6570\u7EC4</span>
  <span class="token keyword">const</span> stateArray <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> setState <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* \u5C55\u793A\u72B6\u6001\u503C */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u72B6\u6001\u4E3A\uFF1A</span><span class="token punctuation">{</span>state<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* \u70B9\u51FB\u6309\u94AE\uFF0C\u8BA9\u72B6\u6001\u503C +1 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>useState
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5199\u6CD5\u6B63\u786E\u59FF\u52BF</p><ul><li>\u6570\u636E\u51FD\u6570\u9700\u8981\u7B26\u5408\u4E1A\u52A1\u8BED\u4E49\uFF0C\u4FEE\u6539\u72B6\u6001\u7684\u51FD\u6570\u540D\u79F0\u4EE5 set \u5F00\u5934\uFF0C\u540E\u9762\u8DDF\u4E0A\u72B6\u6001\u7684\u540D\u79F0\u3002</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">Count</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u89E3\u6784\uFF1A</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BA1\u6570\u5668\uFF1A</span><span class="token punctuation">{</span>state<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li><p>\u7ED9</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>useState
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u63D0\u4F9B\u521D\u59CB\u5316\u503C\uFF0C\u8FD4\u56DE\u6570\u7EC4\u3002</p><ul><li>\u6570\u7EC4[0] \u72B6\u6001\u6570\u636E</li><li>\u6570\u7EC4[1] \u4FEE\u6539\u72B6\u6001\u51FD\u6570</li></ul></li><li><p>\u53C2\u8003\u5199\u6CD5\uFF1A<code>const [count, setCount] = useState(0)</code></p></li></ul><h3 id="_5-usestate-\u8BFB\u53D6\u548C\u4FEE\u6539\u72B6\u6001" tabindex="-1"><a class="header-anchor" href="#_5-usestate-\u8BFB\u53D6\u548C\u4FEE\u6539\u72B6\u6001" aria-hidden="true">#</a> 5. useState-\u8BFB\u53D6\u548C\u4FEE\u6539\u72B6\u6001</h3><blockquote><p>\u80FD\u591F\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u548C\u4FEE\u6539\u72B6\u6001</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u8BFB\u53D6\u72B6\u6001</li><li>\u4FEE\u6539\u72B6\u6001</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u8BFB\u53D6\u72B6\u6001 <ul><li>\u8BFB\u53D6\u72B6\u6001\uFF1A<code>useState</code> \u63D0\u4F9B\u7684\u72B6\u6001\uFF0C\u662F\u51FD\u6570\u5185\u90E8\u7684\u5C40\u90E8\u53D8\u91CF\uFF0C\u53EF\u4EE5\u5728\u51FD\u6570\u5185\u7684\u4EFB\u610F\u4F4D\u7F6E\u4F7F</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">UserCom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u59D3\u540D\uFF1A</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5E74\u9F84\uFF1A</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u4FEE\u6539\u72B6\u6001 <ul><li><code>setCount(newValue)</code> \u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u53C2\u6570\u8868\u793A\uFF1A<strong>\u65B0\u7684\u72B6\u6001\u503C</strong></li><li>\u8C03\u7528\u8BE5\u51FD\u6570\u540E\uFF0C\u5C06<strong>\u4F7F\u7528\u65B0\u7684\u72B6\u6001\u503C<code>\u66FF\u6362</code>\u65E7\u503C</strong></li><li>\u4FEE\u6539\u72B6\u6001\u540E\uFF0C\u56E0\u4E3A\u72B6\u6001\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u6240\u4EE5\u8BE5\u7EC4\u4EF6\u4F1A\u91CD\u65B0\u6E32\u67D3</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">UserCom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onAgeAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>user<span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> user<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u59D3\u540D\uFF1A</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5E74\u9F84\uFF1A</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onAgeAdd<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5E74\u9F84+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li>\u4FEE\u6539\u72B6\u6001\u7684\u65F6\u5019\uFF0C\u4E00\u5B9A\u8981<strong>\u4F7F\u7528\u65B0\u7684\u72B6\u6001\u66FF\u6362\u65E7\u7684\u72B6\u6001</strong></li></ul><h3 id="_6-usestate-\u7EC4\u4EF6\u66F4\u65B0\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_6-usestate-\u7EC4\u4EF6\u66F4\u65B0\u8FC7\u7A0B" aria-hidden="true">#</a> 6. useState-\u7EC4\u4EF6\u66F4\u65B0\u8FC7\u7A0B</h3><blockquote><p>\u80FD\u591F\u8BF4\u51FA\u4F7F\u7528\u529F\u80FD<code>useState</code>\u4E4B\u540E\uFF0C\u7EC4\u4EF6\u7684\u66F4\u65B0\u8FC7\u7A0B</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u7EC4\u4EF6\u521D\u59CB\u5316\u65F6\u5019\u7684\u4E8B\u60C5</li><li>setState \u540E\u53D1\u751F\u7684\u4E8B\u60C5</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u7EC4\u4EF6\u521D\u59CB\u5316\u65F6\u5019\u7684\u4E8B\u60C5 <ol><li>\u4ECE\u5934\u5F00\u59CB\u6267\u884C\u8BE5\u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801\u903B\u8F91</li><li>\u8C03\u7528 <code>useState(0)</code> \u5C06\u4F20\u5165\u7684\u53C2\u6570\u4F5C\u4E3A\u72B6\u6001\u521D\u59CB\u503C\uFF0C\u5373\uFF1A0</li><li>\u6E32\u67D3\u7EC4\u4EF6\uFF0C\u6B64\u65F6\uFF0C\u83B7\u53D6\u5230\u7684\u72B6\u6001 count \u503C\u4E3A\uFF1A 0</li></ol></li><li>setState \u540E\u53D1\u751F\u7684\u4E8B\u60C5 <ol><li>\u70B9\u51FB\u6309\u94AE\uFF0C\u8C03\u7528 <code>setCount(count + 1)</code> \u4FEE\u6539\u72B6\u6001\uFF0C\u56E0\u4E3A\u72B6\u6001\u53D1\u751F\u6539\u53D8\uFF0C\u6240\u4EE5\uFF0C\u8BE5\u7EC4\u4EF6\u4F1A\u91CD\u65B0\u6E32\u67D3</li><li>\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u65F6\uFF0C\u4F1A\u518D\u6B21\u6267\u884C\u8BE5\u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801\u903B\u8F91</li><li>\u518D\u6B21\u8C03\u7528 <code>useState(0)</code>\uFF0C\u6B64\u65F6 <strong>React \u5185\u90E8\u4F1A\u62FF\u5230\u6700\u65B0\u7684\u72B6\u6001\u503C\u800C\u975E\u521D\u59CB\u503C</strong>\uFF0C\u6BD4\u5982\uFF0C\u8BE5\u6848\u4F8B\u4E2D\u6700\u65B0\u7684\u72B6\u6001\u503C\u4E3A 1</li><li>\u518D\u6B21\u6E32\u67D3\u7EC4\u4EF6\uFF0C\u6B64\u65F6\uFF0C\u83B7\u53D6\u5230\u7684\u72B6\u6001 count \u503C\u4E3A\uFF1A1</li></ol></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BA1\u6570\u5668\uFF1A</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li><strong>useState \u7684\u521D\u59CB\u503C(\u53C2\u6570)\u53EA\u4F1A\u5728\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u6E32\u67D3\u65F6\u751F\u6548</strong>\uFF0C\u4EE5\u540E\u7684\u6BCF\u6B21\u6E32\u67D3\uFF0CuseState \u83B7\u53D6\u5230\u90FD\u662F\u6700\u65B0\u7684\u72B6\u6001\u503C\u3002</li></ul><h3 id="_7-usestate-\u4F7F\u7528\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#_7-usestate-\u4F7F\u7528\u539F\u5219" aria-hidden="true">#</a> 7. useState-\u4F7F\u7528\u539F\u5219</h3><blockquote><p>\u5B9A\u4E49\u591A\u4E2A\u72B6\u6001\u7684\u539F\u5219\uFF0Chook \u51FD\u6570\u4E66\u5199\u4F4D\u7F6E\u539F\u5219</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u5B9A\u4E49\u591A\u4E2A\u72B6\u6001\u7684\u539F\u5219</li><li>hook \u51FD\u6570\u4E66\u5199\u4F4D\u7F6E\u539F\u5219</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u5B9A\u4E49\u591A\u4E2A\u72B6\u6001\u7684\u539F\u5219 <ul><li>\u8C03\u7528 <code>useState</code> Hook \u591A\u6B21\u5373\u53EF\uFF0C\u6BCF\u8C03\u7528\u4E00\u6B21 useState Hook \u53EF\u4EE5\u63D0\u4F9B\u4E00\u4E2A\u72B6\u6001</li><li><code>useState Hook</code> \u591A\u6B21\u8C03\u7528\u8FD4\u56DE\u7684 [state, setState]\uFF0C\u76F8\u4E92\u4E4B\u95F4\uFF0C\u4E92\u4E0D\u5F71\u54CD</li><li>\u5C3D\u91CF\u6309\u7167\u4E1A\u52A1\u6765\u5B9A\u4E49\u6570\u636E\uFF0C\u4E0D\u8981\u5168\u90E8\u5B9A\u4E49\u5728\u4E00\u8D77\uFF0C\u56E0\u4E3A\u662F\u66FF\u6362\uFF0C\u4E0D\u662F\u5408\u5E76</li></ul></li><li>hook \u51FD\u6570\u4E66\u5199\u4F4D\u7F6E\u539F\u5219 <ul><li><strong>React Hooks \u53EA\u80FD\u76F4\u63A5\u51FA\u73B0\u5728 \u51FD\u6570\u7EC4\u4EF6 \u4E2D</strong></li><li><strong>React Hooks \u4E0D\u80FD\u5D4C\u5957\u5728 if/for/\u5176\u4ED6\u51FD\u6570 \u4E2D</strong></li><li>\u539F\u7406\uFF1AReact \u662F\u6309\u7167 Hooks \u7684\u8C03\u7528\u987A\u5E8F\u6765\u8BC6\u522B\u6BCF\u4E00\u4E2A Hook\uFF0C\u5982\u679C\u6BCF\u6B21\u8C03\u7528\u7684\u987A\u5E8F\u4E0D\u540C\uFF0C\u5BFC\u81F4 React \u65E0\u6CD5\u77E5\u9053\u662F\u54EA\u4E00\u4E2A Hook</li></ul></li><li>\u53EF\u4EE5\u901A\u8FC7\u5F00\u53D1\u8005\u5DE5\u5177\u8FDB\u884C\u67E5\u770B\u7EC4\u4EF6\u7684 hooks\uFF1A<img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/uPic/01.053a5fe6.png" alt="img" loading="lazy"></li></ol><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li>\u53EA\u80FD\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF0C\u4E0D\u80FD\u5D4C\u5957\u5728 <code>\u5206\u652F\u5FAA\u73AF\u8BED\u53E5</code> \u4E2D\uFF0Creact \u5B58\u50A8 hooks \u72B6\u6001\u6309\u987A\u5E8F\u5B58\u50A8\u3002</li></ul><h3 id="_8-useeffect-\u526F\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_8-useeffect-\u526F\u4F5C\u7528" aria-hidden="true">#</a> 8. useEffect-\u526F\u4F5C\u7528</h3><blockquote><p>\u80FD\u591F\u8BF4\u51FA\u4EC0\u4E48\u662F\u526F\u4F5C\u7528</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li><code>side effect</code> \u526F\u4F5C\u7528\u4E13\u4E1A\u89E3\u91CA</li><li>\u901A\u8FC7\u751F\u6D3B\u4F8B\u5B50\uFF0C\u7406\u89E3\u526F\u4F5C\u7528</li><li>\u4F7F\u7528\u51FD\u6570\u7EC4\u4EF6\u5E38\u89C1\u7684\u526F\u4F5C\u7528</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li><code>side effect</code> \u526F\u4F5C\u7528\u4E13\u4E1A\u89E3\u91CA <ul><li>\u5728\u8BA1\u7B97\u673A\u79D1\u5B66\u4E2D\uFF0C\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u6216\u5176\u4ED6\u64CD\u4F5C\u4FEE\u6539\u4E86\u5176\u5C40\u90E8\u73AF\u5883\u4E4B\u5916\u7684\u72B6\u6001\u53D8\u91CF\u503C\uFF0C\u90A3\u4E48\u5B83\u5C31\u88AB\u79F0\u4E3A\u6709\u526F\u4F5C\u7528</li><li>\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\uFF1A\u804C\u8D23\u5C31\u884C\u6839\u636E\u72B6\u6001\u6E32\u67D3 UI\uFF0C\u5176\u4ED6\u7684\u4E8B\u60C5\u90FD\u662F\u526F\u4F5C\u7528</li></ul></li><li>\u901A\u8FC7\u751F\u6D3B\u4F8B\u5B50\uFF0C\u7406\u89E3\u526F\u4F5C\u7528 <ul><li>999 \u611F\u5192\u7075\uFF0C\u4E3B\u4F5C\u7528\uFF1A\u7528\u4E8E\u611F\u5192\u5F15\u8D77\u7684\u5934\u75DB\uFF0C\u53D1\u70ED\uFF0C\u9F3B\u585E\uFF0C\u6D41\u6D95\uFF0C\u54BD\u75DB\u7B49</li><li>\u526F\u4F5C\u7528\uFF1A\u53EF\u89C1\u56F0\u5026\u3001\u55DC\u7761\u3001\u53E3\u6E34\u3001\u865A\u5F31\u611F</li></ul></li><li>\u4F7F\u7528\u51FD\u6570\u7EC4\u4EF6\u5E38\u89C1\u7684\u526F\u4F5C\u7528 <ul><li>\u5BF9\u4E8E React \u7EC4\u4EF6\u6765\u8BF4\uFF0C<strong>\u4E3B\u4F5C\u7528\u5C31\u662F\u6839\u636E\u6570\u636E\uFF08state/props\uFF09\u6E32\u67D3 UI</strong>\uFF0C\u9664\u6B64\u4E4B\u5916\u90FD\u662F\u526F\u4F5C\u7528\uFF08\u6BD4\u5982\uFF0C\u624B\u52A8\u4FEE\u6539 DOM\uFF09</li><li>\u5E38\u89C1\u7684\u526F\u4F5C\u7528\uFF08side effect\uFF09\uFF1A\u6570\u636E\uFF08Ajax\uFF09\u8BF7\u6C42\u3001\u624B\u52A8\u4FEE\u6539 DOM\u3001localStorage\u3001console.log \u64CD\u4F5C\u7B49</li><li>\u5F53\u4F60\u60F3\u8981\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\uFF0C<strong>\u5904\u7406\u526F\u4F5C\u7528\uFF08side effect\uFF09\u65F6</strong>\uFF0C\u5C31\u8981\u4F7F\u7528 <strong>useEffect</strong> Hook \u4E86</li></ul></li></ol><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li>\u5BF9\u4E8E react \u7EC4\u4EF6\u6765\u8BF4\uFF0C\u9664\u4E86\u6E32\u67D3 UI \u4E4B\u5916\u7684\u5176\u4ED6\u64CD\u4F5C\uFF0C\u90FD\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u526F\u4F5C\u7528</li></ul><h3 id="_9-useeffect-\u57FA\u672C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_9-useeffect-\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a> 9. useEffect-\u57FA\u672C\u4F7F\u7528</h3><blockquote><p>\u80FD\u591F\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u64CD\u4F5C DOM\uFF08\u5904\u7406\u526F\u4F5C\u7528\uFF09</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u8BED\u6CD5\u4ECB\u7ECD</li><li>\u968F\u5802\u7EC3\u4E60</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u8BED\u6CD5\u4ECB\u7ECD <ul><li>\u53C2\u6570\uFF1A\u56DE\u8C03\u51FD\u6570\uFF08\u79F0\u4E3A <strong>effect</strong>\uFF09\uFF0C\u5C31\u662F<strong>\u5728\u8BE5\u51FD\u6570\u4E2D\u5199\u526F\u4F5C\u7528\u4EE3\u7801</strong></li><li>\u6267\u884C\u65F6\u673A\uFF1A\u8BE5 effect \u4F1A\u5728\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u6E32\u67D3\u4EE5\u53CA\u6BCF\u6B21\u7EC4\u4EF6\u66F4\u65B0\u540E\u6267\u884C</li><li>\u76F8\u5F53\u4E8E componentDidMount + componentDidUpdate</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E66\u5199\u526F\u4F5C\u7528\u4EE3\u7801</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u968F\u5802\u7EC3\u4E60 <ul><li>count \u66F4\u65B0\u7684\u65F6\u5019\u663E\u793A\u5230\u6807\u9898</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u5F53\u524D\u5DF2\u70B9\u51FB </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \u6B21</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BA1\u6570\u5668\uFF1A</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li>\u5728\u51FD\u6570\u7EC4\u4EF6\u5904\u7406\u526F\u4F5C\u7528 <code>useEffect(()=&gt;{})</code> \u7EC4\u4EF6\u521D\u59CB\u5316\uFF0C\u66F4\u65B0\u7684\u65F6\u5019\u6267\u884C</li></ul><h3 id="_10-useeffect-\u4F9D\u8D56\u9879" tabindex="-1"><a class="header-anchor" href="#_10-useeffect-\u4F9D\u8D56\u9879" aria-hidden="true">#</a> 10. useEffect-\u4F9D\u8D56\u9879</h3><blockquote><p>\u80FD\u591F\u8BBE\u7F6E useEffect \u7684\u4F9D\u8D56\u53EA\u5728 \u67D0\u4E2A\u72B6\u6001 \u53D8\u5316\u65F6\u6267\u884C\u76F8\u5E94\u7684 effect</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u9ED8\u8BA4\u4F7F\u7528 useEffect \u7684\u95EE\u9898</li><li>useEffect \u4F9D\u8D56\u9879\u7684\u4F7F\u7528</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li>\u9ED8\u8BA4\u4F7F\u7528 useEffect \u7684\u95EE\u9898 <ul><li><code>useEffect(()=&gt;{})</code> \u53EA\u8981\u72B6\u6001\u53D1\u751F\u66F4\u65B0 useEffect \u7684 effect \u56DE\u8C03\u5C31\u4F1A\u6267\u884C</li><li>\u5982\u679C\u7EC4\u4EF6\u4E2D\u6709\u53E6\u5916\u4E00\u4E2A\u72B6\u6001\uFF0C\u53E6\u4E00\u4E2A\u72B6\u6001\u66F4\u65B0\u65F6\uFF0C\u521A\u521A\u7684 effect \u56DE\u8C03\u4E5F\u4F1A\u6267\u884C</li></ul></li><li>useEffect \u4F9D\u8D56\u9879\u7684\u4F7F\u7528 <ul><li>\u8DF3\u8FC7\u4E0D\u5FC5\u8981\u7684\u6267\u884C\uFF0C\u53EA\u5728 count \u53D8\u5316\u65F6\uFF0C\u624D\u6267\u884C\u76F8\u5E94\u7684 effect</li><li><code>useEffect(()=&gt;{},[\u4F9D\u8D56\u9879])</code> \u4F9D\u8D56\u9879\u7684\u503C\u53D8\u5316\u624D\u4F1A\u6267\u884C effect</li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u5F53\u524D\u5DF2\u70B9\u51FB </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \u6B21</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BA1\u6570\u5668\uFF1A</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token operator">!</span>loading<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5207\u6362 loading</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li><code>useEffect(()=&gt;{},[\u4F9D\u8D56\u9879])</code> \u4F9D\u8D56\u9879\u53EF\u4EE5\u6307\u5B9A\u67D0\u4E9B\u72B6\u6001\u53D8\u5316\u518D\u53BB\u6267\u884C\u526F\u4F5C\u7528</li></ul><h3 id="_11-useeffect-\u4E0D\u8981\u5BF9\u4F9D\u8D56\u9879\u6492\u8C0E" tabindex="-1"><a class="header-anchor" href="#_11-useeffect-\u4E0D\u8981\u5BF9\u4F9D\u8D56\u9879\u6492\u8C0E" aria-hidden="true">#</a> 11. useEffect-\u4E0D\u8981\u5BF9\u4F9D\u8D56\u9879\u6492\u8C0E</h3><blockquote><p>\u80FD\u591F\u7406\u89E3\u4E0D\u6B63\u786E\u4F7F\u7528\u4F9D\u8D56\u9879\u7684\u540E\u679C</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u4E0D\u8981\u5BF9\u4F9D\u8D56\u9879\u6492\u8C0E</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ul><li>useEffect \u5B8C\u5168\u6307\u5357\uFF1Ahttps://overreacted.io/zh-hans/a-complete-guide-to-useeffect/</li><li>useEffect \u56DE\u8C03\u51FD\u6570\uFF08effect\uFF09\u4E2D\u7528\u5230\u7684\u6570\u636E\uFF08\u6BD4\u5982\uFF0Ccount\uFF09\u5C31\u662F\u4F9D\u8D56\u6570\u636E\uFF0C\u5C31\u5E94\u8BE5\u51FA\u73B0\u5728\u4F9D\u8D56\u9879\u6570\u7EC4\u4E2D</li><li>\u5982\u679C useEffect \u56DE\u8C03\u51FD\u6570\u4E2D\u7528\u5230\u4E86\u67D0\u4E2A\u6570\u636E\uFF0C\u4F46\u662F\uFF0C\u6CA1\u6709\u51FA\u73B0\u5728\u4F9D\u8D56\u9879\u6570\u7EC4\u4E2D\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u4E00\u4E9B Bug \u51FA\u73B0</li><li>\u6240\u4EE5\uFF0C\u4E0D\u8981\u5BF9 useEffect \u7684\u4F9D\u8D56\u6492\u8C0E</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// \u9519\u8BEF\u6F14\u793A\uFF1A</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&#39;\u70B9\u51FB\u4E86&#39;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&#39;\u6B21&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8BA1\u6570\u5668\uFF1A</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li>\u526F\u4F5C\u7528\u4E2D\u4F7F\u7528\u7684\u72B6\u6001\uFF0C\u9700\u8981\u5199\u5728\u4F9D\u8D56\u9879\u4E2D</li></ul><h3 id="_12-useeffect-\u4F9D\u8D56\u662F\u4E00\u4E2A\u7A7A\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#_12-useeffect-\u4F9D\u8D56\u662F\u4E00\u4E2A\u7A7A\u6570\u7EC4" aria-hidden="true">#</a> 12. useEffect-\u4F9D\u8D56\u662F\u4E00\u4E2A\u7A7A\u6570\u7EC4</h3><blockquote><p>\u80FD\u591F\u8BBE\u7F6E useEffect \u7684\u4F9D\u8D56\uFF0C\u8BA9\u7EC4\u4EF6\u53EA\u6709\u5728\u7B2C\u4E00\u6B21\u6E32\u67D3\u540E\u4F1A\u6267\u884C</p></blockquote><p><strong>\u5927\u81F4\u6B65\u9AA4\uFF1A</strong></p><ul><li>\u77E5\u9053 useEffect \u7684\u4F9D\u8D56\u662F\u4E00\u4E2A\u7A7A\u6570\u7EC4\u4F55\u65F6\u6267\u884C</li><li>\u4E00\u822C\u5728\u8FD9\u6837\u7684 effect \u4E2D\u505A\u4E9B\u4EC0\u4E48\u4E8B</li></ul><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ol><li><p>useEffect \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u8FD8\u53EF\u4EE5\u662F\u4E00\u4E2A</p><p>\u7A7A\u6570\u7EC4\uFF08[]\uFF09</p><ol><li>\u8868\u793A\u53EA\u5728\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u6E32\u67D3\u540E\u6267\u884C effect</li><li>\u8BE5 effect \u53EA\u4F1A\u5728\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u6E32\u67D3\u540E\u6267\u884C\uFF0C\u56E0\u6B64\u53EF\u4EE5\u6267\u884C\u50CF\u4E8B\u4EF6\u7ED1\u5B9A\u7B49\u53EA\u9700\u8981\u6267\u884C\u4E00\u6B21\u7684\u64CD\u4F5C\u3002</li><li>\u76F8\u5F53\u4E8E class \u7EC4\u4EF6\u7684 componentDidMount \u94A9\u5B50\u51FD\u6570\u7684\u4F5C\u7528</li></ol></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6CE8\u610F\uFF1A</strong></p><ul><li>\u8DDF useState Hook \u4E00\u6837\uFF0C\u4E00\u4E2A\u7EC4\u4EF6\u4E2D\u4E5F\u53EF\u4EE5\u8C03\u7528 useEffect Hook \u591A\u6B21</li><li>\u63A8\u8350\uFF1A<strong>\u4E00\u4E2A useEffect \u53EA\u5904\u7406\u4E00\u4E2A\u529F\u80FD\uFF0C\u6709\u591A\u4E2A\u529F\u80FD\u65F6\uFF0C\u4F7F\u7528\u591A\u6B21 useEffect</strong></li></ul><h3 id="_13-useeffect-\u6E05\u9664\u526F\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_13-useeffect-\u6E05\u9664\u526F\u4F5C\u7528" aria-hidden="true">#</a> 13. useEffect-\u6E05\u9664\u526F\u4F5C\u7528</h3><blockquote><p>\u80FD\u591F\u5728\u7EC4\u4EF6\u5378\u8F7D\u7684\u65F6\u5019\u6E05\u9664\u526F\u4F5C\u7528</p></blockquote><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><ul><li>effect \u7684<strong>\u8FD4\u56DE\u503C</strong>\u662F\u53EF\u9009\u7684\uFF0C\u53EF\u7701\u7565\u3002\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A<strong>\u6E05\u7406\u51FD\u6570</strong>\uFF0C\u7528\u6765\u6267\u884C\u4E8B\u4EF6\u89E3\u7ED1\u7B49\u6E05\u7406\u64CD\u4F5C</li><li>\u6E05\u7406\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A\uFF1A <ul><li><strong>\u6E05\u7406\u51FD\u6570</strong>\u4F1A\u5728\u7EC4\u4EF6\u5378\u8F7D\u65F6\u4EE5\u53CA\u4E0B\u4E00\u6B21\u526F\u4F5C\u7528\u56DE\u8C03\u51FD\u6570\u8C03\u7528\u7684\u65F6\u5019\u6267\u884C\uFF0C\u7528\u4E8E\u6E05\u9664\u4E0A\u4E00\u6B21\u7684\u526F\u4F5C\u7528\u3002</li><li>\u5982\u679C\u4F9D\u8D56\u9879\u4E3A\u7A7A\u6570\u7EC4\uFF0C\u90A3\u4E48\u4F1A\u5728\u7EC4\u4EF6\u5378\u8F7D\u65F6\u4F1A\u6267\u884C\u3002\u76F8\u5F53\u4E8E\u7EC4\u4EF6\u7684<code>componetWillUnmount</code></li></ul></li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// \u8FD9\u4E2A\u8FD4\u56DE\u7684\u51FD\u6570\uFF0C\u4F1A\u5728\u8BE5\u7EC4\u4EF6\u5378\u8F7D\u65F6\u6765\u6267\u884C</span>
  <span class="token comment">// \u56E0\u6B64\uFF0C\u53EF\u4EE5\u53BB\u6267\u884C\u4E00\u4E9B\u6E05\u7406\u64CD\u4F5C\uFF0C\u6BD4\u5982\uFF0C\u89E3\u7ED1 window \u7684\u4E8B\u4EF6\u3001\u6E05\u7406\u5B9A\u65F6\u5668 \u7B49</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-useeffect-\u4F7F\u7528\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_14-useeffect-\u4F7F\u7528\u603B\u7ED3" aria-hidden="true">#</a> 14. useEffect-\u4F7F\u7528\u603B\u7ED3</h3><blockquote><p>\u80FD\u591F\u8BF4\u51FA useEffect \u7684 4 \u79CD\u4F7F\u7528\u4F7F\u7528\u65B9\u5F0F</p></blockquote><p><strong>\u5177\u4F53\u5185\u5BB9\uFF1A</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 1</span>
<span class="token comment">// \u89E6\u53D1\u65F6\u673A\uFF1A1 \u7B2C\u4E00\u6B21\u6E32\u67D3\u4F1A\u6267\u884C 2 \u6BCF\u6B21\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u90FD\u4F1A\u518D\u6B21\u6267\u884C</span>
<span class="token comment">// componentDidMount + ComponentDidUpdate</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 2\uFF08\u4F7F\u7528\u9891\u7387\u6700\u9AD8\uFF09</span>
<span class="token comment">// \u89E6\u53D1\u65F6\u673A\uFF1A\u53EA\u5728\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u6E32\u67D3\u65F6\u6267\u884C</span>
<span class="token comment">// componentDidMount</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 3\uFF08\u4F7F\u7528\u9891\u7387\u6700\u9AD8\uFF09</span>
<span class="token comment">// \u89E6\u53D1\u65F6\u673A\uFF1A1 \u7B2C\u4E00\u6B21\u6E32\u67D3\u4F1A\u6267\u884C 2 \u5F53 count \u53D8\u5316\u65F6\u4F1A\u518D\u6B21\u6267\u884C</span>
<span class="token comment">// componentDidMount + componentDidUpdate\uFF08\u5224\u65AD count \u6709\u6CA1\u6709\u6539\u53D8\uFF09</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 4</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8FD4\u56DE\u503C\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A\uFF1A\u7EC4\u4EF6\u5378\u8F7D\u65F6</span>
  <span class="token comment">// \u5728\u8FD4\u56DE\u7684\u51FD\u6570\u4E2D\uFF0C\u6E05\u7406\u5DE5\u4F5C</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u76F8\u5F53\u4E8E componentWillUnmount</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8FD4\u56DE\u503C\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A\uFF1A1 \u7EC4\u4EF6\u5378\u8F7D\u65F6 2 count \u53D8\u5316\u65F6</span>
  <span class="token comment">// \u5728\u8FD4\u56DE\u7684\u51FD\u6570\u4E2D\uFF0C\u6E05\u7406\u5DE5\u4F5C</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-\u8D2D\u7269\u8F66\u9879\u76EE\u521D\u59CB\u5316" tabindex="-1"><a class="header-anchor" href="#_15-\u8D2D\u7269\u8F66\u9879\u76EE\u521D\u59CB\u5316" aria-hidden="true">#</a> 15. \u8D2D\u7269\u8F66\u9879\u76EE\u521D\u59CB\u5316</h3><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/uPic/02.a943b573.png" alt="img" loading="lazy"></p><blockquote><p>\u80FD\u591F\u4F7F\u7528 React \u811A\u624B\u67B6\u521B\u5EFA\u9879\u76EE\u5E76\u6839\u636E\u6A21\u677F\u642D\u5EFA\u9875\u9762\u7ED3\u6784</p></blockquote><p><strong>\u5206\u6790\u8BF4\u660E</strong>\uFF1A</p><ul><li>\u6CE8\u610F\uFF1AReact \u811A\u624B\u67B6\u9ED8\u8BA4\u652F\u6301 <code>sass</code>\uFF0C\u4F46\u662F\u9700\u8981\u81EA\u5DF1\u624B\u52A8\u5B89\u88C5 <code>sass</code> \u4F9D\u8D56\u5305\uFF08\u7528\u6765\u89E3\u6790 sass \u8BED\u6CD5\uFF09</li><li>\u5B89\u88C5\u547D\u4EE4\uFF1A<code>yarn add sass</code></li></ul><p><strong>\u6B65\u9AA4</strong>\uFF1A</p><ol><li>\u6E05\u7406\u9879\u76EE\u76EE\u5F55</li><li>\u6839\u636E\u6A21\u677F\u642D\u5EFA\u57FA\u672C\u9875\u9762\u7ED3\u6784</li><li>\u5B89\u88C5\u89E3\u6790 sass \u7684\u5305\uFF1A<code>yarn add sass</code>\uFF0C\u91CD\u542F\u9879\u76EE</li><li>\u5B89\u88C5 bootstrap\uFF1A<code>yarn add bootstrap@4.5.0</code>\uFF0C\u5E76\u5BFC\u5165 bootstrap \u6837\u5F0F\u6587\u4EF6</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// \u5BFC\u5165 bootstrap \u6837\u5F0F\u6587\u4EF6\uFF1A</span>
<span class="token keyword">import</span> <span class="token string">&#39;bootstrap/dist/css/bootstrap.css&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-\u5C01\u88C5-cartheader-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_16-\u5C01\u88C5-cartheader-\u7EC4\u4EF6" aria-hidden="true">#</a> 16. \u5C01\u88C5 CartHeader \u7EC4\u4EF6</h3><blockquote><p>\u80FD\u591F\u5C01\u88C5\u8D2D\u7269\u8F66\u7684 CartHeader \u7EC4\u4EF6</p></blockquote><p><strong>\u6B65\u9AA4</strong>\uFF1A</p><ol><li>\u65B0\u5EFA components/CartHeader/index.js \u6587\u4EF6</li><li>\u5728\u8BE5\u6587\u4EF6\u4E2D\uFF0C\u901A\u8FC7\u51FD\u6570\u7EC4\u4EF6\u521B\u5EFA CartHeader \u7EC4\u4EF6</li><li>\u901A\u8FC7 children \u5C5E\u6027\uFF0C\u63A5\u6536\u4F20\u9012\u8FC7\u6765\u7684\u6807\u9898</li><li>\u5728 App \u7EC4\u4EF6\u4E2D\u5BFC\u5165 CartHeader \u7EC4\u4EF6\u5E76\u6E32\u67D3</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>src/components/CartHeader/index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;./index.scss&#39;</span><span class="token punctuation">;</span>


<span class="token comment">// \u6309\u9700\u5BFC\u51FA</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">CartHeader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/components/CartHeader/index.scss \u4E2D\uFF1A</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.cart-header </span><span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 999<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #1d7bff<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// \u6309\u9700\u5BFC\u5165\u7EC4\u4EF6</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CartHeader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/CartHeader&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8D2D\u7269\u8F66</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">CartHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-\u5C01\u88C5-cartfooter-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_17-\u5C01\u88C5-cartfooter-\u7EC4\u4EF6" aria-hidden="true">#</a> 17. \u5C01\u88C5 CartFooter \u7EC4\u4EF6</h3><blockquote><p>\u80FD\u591F\u5C01\u88C5\u8D2D\u7269\u8F66\u7684 CartFooter \u7EC4\u4EF6</p></blockquote><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/uPic/image-20211021180953961.png" alt="image-20211021180953961" loading="lazy"></p><p><strong>\u6B65\u9AA4</strong></p><ol><li>\u521B\u5EFA CartFooter \u7EC4\u4EF6</li><li>\u521B\u5EFA CartFooter \u7EC4\u4EF6\u7684\u6837\u5F0F\u6587\u4EF6</li><li>\u5728 App \u7EC4\u4EF6\u4E2D\u6E32\u67D3</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801\uFF1A</strong></p><p>src/components/CartFooter/index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;./index.scss&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">cartFooter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control custom-checkbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-input<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footerCheck<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">htmlFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footerCheck<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          \u5168\u9009
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5408\u8BA1:</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\xA5 100</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-btn btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        \u7ED3\u7B97 (0)
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/components/CartFooter/index.scss \u4E2D\uFF1A</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.cart-footer </span><span class="token punctuation">{</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 999<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>


  <span class="token selector">.price </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.footer-btn </span><span class="token punctuation">{</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> CartFooter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/CartFooter&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartFooter</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-\u5C01\u88C5-goodsitem-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_18-\u5C01\u88C5-goodsitem-\u7EC4\u4EF6" aria-hidden="true">#</a> 18. \u5C01\u88C5 GoodsItem \u7EC4\u4EF6</h3><blockquote><p>\u80FD\u591F\u5C01\u88C5 GoodsItems \u7EC4\u4EF6</p></blockquote><p><strong>\u6B65\u9AA4</strong>\uFF1A</p><ol><li>\u521B\u5EFA GoodsItem \u7EC4\u4EF6</li><li>\u63D0\u4F9B GoodsItem \u7EC4\u4EF6\u7684\u6837\u5F0F\u6587\u4EF6</li><li>\u5728 App \u7EC4\u4EF6\u4E2D\u6E32\u67D3\u8BE5\u7EC4\u4EF6</li><li>\u4E3A App \u7EC4\u4EF6\u6DFB\u52A0\u6837\u5F0F\uFF0C\u8FDB\u884C\u6837\u5F0F\u8C03\u6574</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>src/components/GoodsItem/index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;./index.scss&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">GoodsItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-goods-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control custom-checkbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">htmlFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
              <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5546\u54C1\u540D\u79F0</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\xA5 \u5546\u54C1\u4EF7\u683C</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">counter\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/components/GoodsItem/index.scss \u4E2D\uFF1A</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.cart-goods-item </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
  <span class="token selector">.left </span><span class="token punctuation">{</span>
    <span class="token selector">img </span><span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
      <span class="token property">margin-right</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.custom-control-label::before,
    .custom-control-label::after </span><span class="token punctuation">{</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.right </span><span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
    <span class="token selector">.bottom </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 5px 0<span class="token punctuation">;</span>
      <span class="token selector">.price </span><span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> GoodsItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/GoodsItem&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8D2D\u7269\u8F66</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">CartHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartItem</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartItem</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartItem</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartFooter</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.scss \u4E2D\uFF1A</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.app </span><span class="token punctuation">{</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_19-\u5546\u54C1\u5217\u8868\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#_19-\u5546\u54C1\u5217\u8868\u6E32\u67D3" aria-hidden="true">#</a> 19. \u5546\u54C1\u5217\u8868\u6E32\u67D3</h3><blockquote><p>\u80FD\u591F\u5B8C\u6210\u5546\u54C1\u5217\u8868\u7684\u6570\u636E\u6E32\u67D3</p></blockquote><p><strong>\u6B65\u9AA4\uFF1A</strong></p><ol><li>\u5C06\u8D2D\u7269\u8F66\u6570\u636E\u7684 json \u62F7\u8D1D\u5230\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E2D</li><li>\u4F7F\u7528 json-server \u63D0\u4F9B\u4E00\u4E2A\u6570\u636E\u63A5\u53E3\uFF1A<code>npx json-server ./data.json --port 8888</code></li><li>\u5B89\u88C5 axios\uFF1A<code>yarn add axios</code></li><li>\u5728 App \u4E2D\u521B\u5EFA\u5546\u54C1\u5217\u8868\u7684\u72B6\u6001</li><li>\u6E32\u67D3\u9875\u9762\u65F6\uFF0C\u5728 App \u7EC4\u4EF6\u4E2D\u901A\u8FC7 axios \u53D1\u9001\u8BF7\u6C42\u83B7\u53D6\u6570\u636E</li><li>\u62FF\u5230\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E\uFF0C\u66F4\u65B0\u5230\u72B6\u6001\u4E2D\uFF0C\u5E76\u6E32\u67D3\u5217\u8868</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>data.json
{
  &quot;goodsList&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;goods_name&quot;: &quot;\u73ED\u4FCFBANQIAO\u8D85\u706Bins\u6F6E\u536B\u8863\u5973\u58EB2020\u79CB\u5B63\u65B0\u6B3E\u97E9\u7248\u5BBD\u677E\u6175\u61D2\u98CE\u8584\u6B3E\u5916\u5957\u5E26\u5E3D\u4E0A\u8863&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/1.png&quot;,
      &quot;goods_price&quot;: 108,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 2,
      &quot;goods_name&quot;: &quot;\u5609\u53F6\u5E0C\u8FDE\u5E3D\u536B\u8863\u5973\u6625\u79CB\u8584\u6B3E2020\u65B0\u6B3E\u5BBD\u677Ebf\u97E9\u7248\u5B57\u6BCD\u5370\u82B1\u4E2D\u957F\u6B3E\u5916\u5957ins\u6F6E&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/2.png&quot;,
      &quot;goods_price&quot;: 129,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 3,
      &quot;goods_name&quot;: &quot;\u601D\u871C\u60212020\u4F11\u95F2\u8FD0\u52A8\u5957\u88C5\u5973\u6625\u79CB\u5B63\u65B0\u6B3E\u65F6\u5C1A\u5927\u7801\u5BBD\u677E\u957F\u8896\u536B\u8863\u4E24\u4EF6\u5957&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/3.png&quot;,
      &quot;goods_price&quot;: 198,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: false
    },
    {
      &quot;id&quot;: 4,
      &quot;goods_name&quot;: &quot;\u601D\u871C\u6021\u536B\u8863\u5973\u52A0\u7ED2\u52A0\u539A2020\u79CB\u51AC\u88C5\u65B0\u6B3E\u97E9\u7248\u5BBD\u677E\u4E0A\u8863\u8FDE\u5E3D\u4E2D\u957F\u6B3E\u5916\u5957&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/4.png&quot;,
      &quot;goods_price&quot;: 99,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: false
    },
    {
      &quot;id&quot;: 5,
      &quot;goods_name&quot;: &quot;\u5E42\u51DD\u65E9\u79CB\u5B63\u536B\u8863\u5973\u6625\u79CB\u88C5\u97E9\u7248\u5BBD\u677E\u4E2D\u957F\u6B3E\u5047\u4E24\u4EF6\u4E0A\u8863\u8584\u6B3Eins\u76D0\u7CFB\u5916\u5957\u6F6E&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/5.png&quot;,
      &quot;goods_price&quot;: 156,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 6,
      &quot;goods_name&quot;: &quot;ME&amp;CITY\u5973\u88C5\u51AC\u5B63\u65B0\u6B3E\u9488\u7EC7\u62BD\u7EF3\u4F11\u95F2\u8FDE\u5E3D\u536B\u8863\u5973&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/6.png&quot;,
      &quot;goods_price&quot;: 142.8,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 7,
      &quot;goods_name&quot;: &quot;\u5E42\u51DD\u5047\u4E24\u4EF6\u5973\u58EB\u536B\u8863\u79CB\u51AC\u5973\u88C52020\u5E74\u65B0\u6B3E\u97E9\u7248\u5BBD\u677E\u6625\u79CB\u5B63\u8584\u6B3Eins\u6F6E\u5916\u5957&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/7.png&quot;,
      &quot;goods_price&quot;: 219,
      &quot;goods_count&quot;: 2,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 8,
      &quot;goods_name&quot;: &quot;\u4F9D\u9B45\u4EBA2020\u4F11\u95F2\u8FD0\u52A8\u8863\u5957\u88C5\u5973\u79CB\u5B63\u65B0\u6B3E\u79CB\u5B63\u97E9\u7248\u5BBD\u677E\u536B\u8863 \u65F6\u5C1A\u4E24\u4EF6\u5957&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/8.png&quot;,
      &quot;goods_price&quot;: 178,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: true
    },
    {
      &quot;id&quot;: 9,
      &quot;goods_name&quot;: &quot;\u82B7\u81FB(zhizhen)\u52A0\u539A\u536B\u88632020\u6625\u79CB\u5B63\u5973\u957F\u8896\u97E9\u7248\u5BBD\u677E\u77ED\u6B3E\u52A0\u7ED2\u6625\u79CB\u88C5\u8FDE\u5E3D\u5F00\u886B\u5916\u5957\u51AC&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/9.png&quot;,
      &quot;goods_price&quot;: 128,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: false
    },
    {
      &quot;id&quot;: 10,
      &quot;goods_name&quot;: &quot;Semir\u68EE\u9A6C\u536B\u8863\u5973\u51AC\u88C52019\u65B0\u6B3E\u53EF\u7231\u751C\u7F8E\u5927\u649E\u8272\u5C0F\u6E05\u65B0\u8FDE\u5E3D\u8584\u7ED2\u5973\u58EB\u5957\u5934\u886B&quot;,
      &quot;goods_img&quot;: &quot;https://www.escook.cn/vuebase/pics/10.png&quot;,
      &quot;goods_price&quot;: 153,
      &quot;goods_count&quot;: 1,
      &quot;goods_state&quot;: false
    }
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> http <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:8888&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>goodsList<span class="token punctuation">,</span> setGoodsList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">loadData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> htpp<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/goodsList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setGoodsList</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* \u5546\u54C1\u5217\u8868\u9879 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>goodsList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodsItem</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>item<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>GoodsItem/index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">GoodsItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  goods_count<span class="token punctuation">,</span>
  goods_img<span class="token punctuation">,</span>
  goods_name<span class="token punctuation">,</span>
  goods_price<span class="token punctuation">,</span>
  goods_state<span class="token punctuation">,</span>
  id<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-goods-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control custom-checkbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-input<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">id</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">input-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span>
          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">htmlFor</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">input-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>goods_img<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>goods_name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\xA5 </span><span class="token punctuation">{</span>goods_price<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">counter\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_20-\u5546\u54C1\u9009\u4E2D\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_20-\u5546\u54C1\u9009\u4E2D\u529F\u80FD" aria-hidden="true">#</a> 20. \u5546\u54C1\u9009\u4E2D\u529F\u80FD</h3><blockquote><p>\u80FD\u591F\u5B8C\u6210\u5546\u54C1\u7684\u9009\u4E2D\u5207\u6362\u529F\u80FD</p></blockquote><p><strong>\u5206\u6790\u8BF4\u660E</strong>\uFF1A\u5BF9\u4E8E checkbox \u8868\u5355\u9879\u6765\u8BF4\uFF0C\u5728\u4F7F\u7528\u53D7\u63A7\u7EC4\u4EF6\u83B7\u53D6\u503C\u7684\u65F6\u5019\uFF0C\u9700\u8981\u6307\u5B9A <code>checked</code> \u5C5E\u6027</p><p><strong>\u6B65\u9AA4\uFF1A</strong></p><ol><li>\u5728 GoodsItem \u7EC4\u4EF6\u4E2D\u901A\u8FC7\u4F20\u9012\u8FC7\u6765\u7684\u9009\u4E2D\u72B6\u6001\u503C\u4F5C\u4E3A\u590D\u9009\u6846\u7684 checked \u503C</li><li>\u5C06 id \u548C \u4FEE\u6539\u540E\u7684\u9009\u4E2D\u72B6\u6001\u503C\u56DE\u4F20\u7ED9\u7236\u7EC4\u4EF6</li><li>\u7236\u7EC4\u4EF6\u4E2D\u51C6\u5907\u4E00\u4E2A\u7528\u4E8E\u4FEE\u6539\u4FEE\u6539\u9009\u4E2D\u72B6\u6001\u7684\u56DE\u8C03\u51FD\u6570</li><li>\u56DE\u8C03\u51FD\u6570\u4E2D\uFF0C\u6839\u636E\u63A5\u6536\u5230\u7684\u6570\u636E\u4FEE\u6539\u672C\u5730\u5546\u54C1\u5217\u8868\u6570\u636E</li><li>\u56DE\u8C03\u51FD\u6570\u4E2D\uFF0C\u66F4\u65B0\u63A5\u53E3\u4E2D\u7684\u9009\u4E2D\u72B6\u6001\u6570\u636E</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong></p><p>GoodsItem/index.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-input<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>goods_state<span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">changeState</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">changeGoodsState</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> goods_state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setGoodsList</span><span class="token punctuation">(</span>
    goodsList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>item<span class="token punctuation">,</span>
          goods_state<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/goodsList/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    goods_state<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// ...</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodsItem</span></span> <span class="token attr-name">changeGoodsState</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeGoodsState<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_21-\u5546\u54C1\u5168\u9009\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_21-\u5546\u54C1\u5168\u9009\u529F\u80FD" aria-hidden="true">#</a> 21. \u5546\u54C1\u5168\u9009\u529F\u80FD</h3><blockquote><p>\u80FD\u591F\u5B8C\u6210\u5546\u54C1\u5168\u9009\u5207\u6362\u529F\u80FD</p></blockquote><p><strong>\u5206\u6790\u8BF4\u660E</strong>\uFF1A</p><p>\u5168\u9009\u6309\u94AE\u662F\u5426\u9009\u4E2D\uFF0C\u5206\u4E3A 3 \u79CD\u60C5\u51B5\uFF1A</p><ol><li>\u8FDB\u5165\u9875\u9762\u65F6\uFF0C\u5224\u65AD\u6240\u6709\u5546\u54C1\u662F\u5426\u90FD\u9009\u4E2D\uFF0C\u5982\u679C\u90FD\u9009\u4E2D\u4E86\uFF0C\u8BA9\u5168\u9009\u6309\u94AE\u4E5F\u9009\u4E2D\uFF1B\u5426\u5219\uFF0C\u4E0D\u9009\u4E2D</li><li>\u5207\u6362\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\uFF0C\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001\u4F1A\u968F\u4E4B\u5207\u6362</li><li>\u5207\u6362\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001\uFF0C\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\u4F1A\u968F\u4E4B\u5207\u6362</li></ol><p>\u56E0\u6B64\uFF0CGoodsItem \u548C CartFooter \u7EC4\u4EF6\u90FD\u9700\u8981\u64CD\u4F5C\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\u3002\u6240\u4EE5\uFF0C\u5E94\u8BE5\u5C06 \u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001 \u63D0\u5347\u5230\u7236\u7EC4\u4EF6 App \u4E2D\uFF08\u72B6\u6001\u63D0\u5347\uFF09</p><p>\u63A5\u4E0B\u6765\uFF0C\u6309\u7167\u4E0A\u9762\u7684 3 \u79CD\u60C5\u51B5\uFF0C\u6765\u5B9E\u73B0\u8BE5\u529F\u80FD\u3002</p><p>\u60C5\u51B5 1\uFF1A\u8FDB\u5165\u9875\u9762\u63A7\u5236\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001</p><p><strong>\u6B65\u9AA4</strong>\uFF1A</p><ol><li>\u5728 App \u7236\u7EC4\u4EF6\u4E2D\u6DFB\u52A0\u63A7\u5236\u5168\u9009\u6309\u94AE\u9009\u4E2D\u72B6\u6001 checkAll</li><li>\u5C06 checkAll \u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6 CartFooter</li><li>\u5728 CartFooter \u4E2D\u901A\u8FC7 props \u63A5\u6536\u5230 checkAll</li><li>\u5C06 checkAll \u4F5C\u4E3A\u5168\u9009\u6309\u94AE\u7684 checked \u5C5E\u6027\u503C</li><li>\u4E3A\u5168\u9009\u6309\u94AE\u63D0\u4F9B change \u4E8B\u4EF6\uFF0C\u5E76\u8C03\u7528 changeCheckAll \u56DE\u8C03\uFF0C\u5C06\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\u56DE\u4F20\u7ED9\u7236\u7EC4\u4EF6</li><li>\u5728 App \u4E2D\u63D0\u4F9B changeCheckAll \u56DE\u8C03\u51FD\u6570\uFF0C\u66F4\u65B0\u72B6\u6001\uFF0C\u5E76\u5C06\u8BE5\u51FD\u6570\u4F20\u9012\u7ED9 CartFooter \u5B50\u7EC4\u4EF6</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801\uFF1A</strong></p><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>checkAll<span class="token punctuation">,</span> setCheckAll<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">loadData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/goodsList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> list <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
      <span class="token function">setGoodsList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>


      <span class="token function">setCheckAll</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">const</span> <span class="token function-variable function">changeCheckAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">checkAll</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setCheckAll</span><span class="token punctuation">(</span>checkAll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// ...</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartFooter</span></span> <span class="token attr-name">checkAll</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>checkAll<span class="token punctuation">}</span></span> <span class="token attr-name">changeCheckAll</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeCheckAll<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CartFooter.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">CartFooter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> checkAll<span class="token punctuation">,</span> changeCheckAll <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control custom-checkbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-input<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footerCheck<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">checked</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>checkAll<span class="token punctuation">}</span></span>
          <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">changeCheckAll</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-control-label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">htmlFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footerCheck<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          \u5168\u9009
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5408\u8BA1:</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\xA5 100</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-btn btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        \u7ED3\u7B97 (0)
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u60C5\u51B5 2\uFF1A\u5207\u6362\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\uFF0C\u63A7\u5236\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001</p><p><strong>\u5206\u6790\u8BF4\u660E</strong>\uFF1A</p><ul><li>\u6CE8\u610F\uFF1A<code>json-server</code> \u63D0\u4F9B\u7684\u63A5\u53E3\uFF0C\u65E0\u6CD5\u6279\u91CF\u66F4\u65B0\u6570\u636E\uFF0C\u53EA\u80FD\u81EA\u5DF1\u904D\u5386\u6240\u6709\u6570\u636E\uFF0C\u5206\u522B\u4FEE\u6539\u6BCF\u4E2A\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001</li><li>\u95EE\u9898\uFF1A\u5982\u679C\u8981\u5FAA\u73AF\u53D1\u9001\u8BF7\u6C42\uFF0C\u66F4\u65B0\u6570\u636E\uFF0C\u6700\u597D\u5728\u542F\u52A8 json-server \u65F6\uFF0C\u53BB\u6389 <code>--watch</code> \u547D\u4EE4\u3002\u5426\u5219\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u8BF7\u6C42\u5931\u8D25\u5931\u8D25\u7684\u60C5\u51B5</li><li>\u539F\u56E0\uFF1A<code>--watch</code> \u547D\u4EE4\u4F1A\u76D1\u89C6 json \u6587\u4EF6\u7684\u53D8\u5316\uFF0C\u5982\u679C\u6570\u636E\u53D8\u5316\u4E86 json-server \u6216\u91CD\u65B0\u8BFB\u53D6 json \u6587\u4EF6\u4E2D\u7684\u6570\u636E\u5E76\u91CD\u542F json-server\u3002 <ul><li>\u5982\u679C\u6B63\u597D\u5728\u91CD\u542F\u8FC7\u7A0B\u4E2D\u53D1\u9001\u4E86\u8BF7\u6C42\uFF0C\u8FD9\u4E2A\u8BF7\u6C42\u5C31\u53EF\u80FD\u65E0\u6CD5\u94FE\u63A5\u5230\u63A5\u53E3\uFF0C\u5BFC\u81F4\u8BF7\u6C42\u5931\u8D25</li></ul></li></ul><p><strong>\u6B65\u9AA4</strong>\uFF1A</p><ol><li>\u6839\u636E\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001\uFF0C\u4FEE\u6539\u672C\u5730\u5546\u54C1\u6570\u636E\u7684\u9009\u4E2D\u72B6\u6001</li><li>\u904D\u5386\u6240\u6709\u5546\u54C1\uFF0C\u5206\u522B\u53D1\u9001\u8BF7\u6C42\uFF0C\u4FEE\u6539\u6BCF\u4E2A\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">changeCheckAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">checkAll</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setCheckAll</span><span class="token punctuation">(</span>checkAll<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// \u672C\u5730\u6570\u636E\u72B6\u6001\u4FEE\u6539</span>
  <span class="token function">setGoodsList</span><span class="token punctuation">(</span>
    goodsList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>item<span class="token punctuation">,</span>
        <span class="token literal-property property">goods_state</span><span class="token operator">:</span> checkAll<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// \u63A5\u53E3\u6570\u636E\u72B6\u6001\u4FEE\u6539</span>
  goodsList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    http<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/goodsList/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">goods_state</span><span class="token operator">:</span> checkAll<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u60C5\u51B5 3\uFF1A\u5207\u6362\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001\uFF0C\u63A7\u5236\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001</p><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>App.js \u4E2D\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">changeGoodsState</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> goods_state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u62FF\u5230\u8981\u8DDF\u65B0\u7684 goodsList \u503C</span>
  <span class="token keyword">const</span> newGoodsList <span class="token operator">=</span> goodsList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>item<span class="token punctuation">,</span>
        goods_state<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setGoodsList</span><span class="token punctuation">(</span>newGoodsList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u6CE8\u610F\uFF1A\u6B64\u5904\u904D\u5386\u7684\u662F newGoodsList</span>
  <span class="token function">setCheckAll</span><span class="token punctuation">(</span>newGoodsList<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_22-\u5C55\u793A\u7ED3\u7B97\u6570\u91CF\u4E0E\u603B\u4EF7" tabindex="-1"><a class="header-anchor" href="#_22-\u5C55\u793A\u7ED3\u7B97\u6570\u91CF\u4E0E\u603B\u4EF7" aria-hidden="true">#</a> 22. \u5C55\u793A\u7ED3\u7B97\u6570\u91CF\u4E0E\u603B\u4EF7</h3><blockquote><p>\u80FD\u591F\u5C55\u793A\u7ED3\u7B97\u6570\u91CF\u548C\u603B\u4EF7\u683C</p></blockquote><p><strong>\u6B65\u9AA4\uFF1A</strong></p><ol><li>\u5728 App \u7EC4\u4EF6\u4E2D\u8BA1\u7B97\u603B\u6570\u91CF\u548C\u603B\u4EF7\u683C</li><li>\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\u6765\u5C55\u793A</li></ol><p><strong>\u6838\u5FC3\u4EE3\u7801</strong>\uFF1A</p><p>App.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> totalCount <span class="token operator">=</span> goodsList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">+</span> item<span class="token punctuation">.</span>goods_count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> totalPrice <span class="token operator">=</span> goodsList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">+</span> item<span class="token punctuation">.</span>goods_count <span class="token operator">*</span> item<span class="token punctuation">.</span>goods_price<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CartFooter</span></span> <span class="token attr-name">totalCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>totalCount<span class="token punctuation">}</span></span> <span class="token attr-name">totalPrice</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>totalPrice<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CartFooter.js \u4E2D\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">CartFooter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> totalCount<span class="token punctuation">,</span> totalPrice <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      // ...
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5408\u8BA1:</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\xA5 </span><span class="token punctuation">{</span>totalPrice<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer-btn btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        \u7ED3\u7B97 (</span><span class="token punctuation">{</span>totalCount<span class="token punctuation">}</span><span class="token plain-text">)
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_23-\u4ECA\u65E5\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_23-\u4ECA\u65E5\u603B\u7ED3" aria-hidden="true">#</a> 23. \u4ECA\u65E5\u603B\u7ED3</h3><ol><li>hooks \u51FA\u73B0\u7684\u610F\u4E49\uFF1F <ul><li>\u4E3A\u51FD\u6570\u7EC4\u4EF6\u63D0\u4F9B\u7C7B\u7EC4\u4EF6\u624D\u6709\u7684\u72B6\u6001\u548C\u751F\u547D\u5468\u671F</li><li>\u4FBF\u4E8E\u7EC4\u4EF6\u4E1A\u52A1\u4EE3\u7801\u8FDB\u884C\u903B\u8F91\u590D\u7528\uFF0C\u89C4\u907F\u7C7B\u7EC4\u4EF6\u6709\u7684 this \u95EE\u9898\uFF0C\u4E1A\u52A1\u4EE3\u7801\u5206\u6563</li></ul></li><li>hooks \u7684\u6E10\u8FDB\u7B56\u7565\uFF1F <ul><li>\u65B0\u529F\u80FD\u65B0\u9879\u76EE\u91C7\u7528 hooks\uFF0C\u4E0D\u662F\u5B8C\u5168\u4E22\u5F03\u7C7B\u7EC4\u4EF6</li></ul></li><li>useState \u7684\u4F7F\u7528\uFF1F <ul><li><code>const [data,setData] = useState(\u521D\u59CB\u6570\u636E)</code></li></ul></li><li>useState \u7684\u66F4\u65B0\u8FC7\u7A0B\uFF1F <ul><li>\u521D\u59CB\u5316\u6570\u636E\u6267\u884C\u4E00\u6B21\uFF0C\u6BCF\u6B21\u7EC4\u4EF6\u6267\u884C\u540E\u53BB\u6700\u65B0\u7684\u72B6\u6001</li></ul></li><li>useState \u7684\u4F7F\u7528\u539F\u5219\uFF1F <ul><li>\u53EA\u80FD\u5728\u51FD\u6570\u7EC4\u4EF6\u8C03\u7528\uFF0C\u4E0D\u80FD\u5D4C\u5957\u5728 \u5206\u652F\u5FAA\u73AF \u8BED\u53E5\u4E2D</li></ul></li><li>useEffect \u7684\u4F7F\u7528\uFF1F <ul><li><code>useEffect(()=&gt;{})</code> \u521D\u59CB\u5316\uFF0C\u66F4\u65B0\u7684\u65F6\u5019\u6267\u884C</li><li><code>useEffect(()=&gt;{},[data])</code> \u521D\u59CB\u5316\uFF0Cdata \u66F4\u65B0\u7684\u65F6\u5019\u6267\u884C</li><li><code>useEffect(()=&gt;{},[])</code> \u521D\u59CB\u5316\u65F6\u5019\u6267\u884C</li><li><code>useEffect(()=&gt;{ //... return ()=&gt;{} },[])</code> \u6E05\u9664\u526F\u4F5C\u7528</li></ul></li><li>\u7EFC\u5408\u6848\u4F8B <ul><li>\u7406\u89E3\u5230 hooks \u53EF\u4EE5\u5206\u5757\u7EC4\u4EF6\u4E1A\u52A1</li></ul></li></ol>`,204);function f(h,x){const t=e("ExternalLinkIcon");return o(),c(i,null,[k,n("ol",null,[n("li",null,[r,n("a",d,[v,l(t)]),m]),g]),b],64)}var w=p(u,[["render",f],["__file","02-hooks\u57FA\u672C\u4F7F\u7528.html.vue"]]);export{w as default};
