<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html"><meta property="og:site_name" content="è¯¾ç¨‹ç¬”è®°"><meta property="og:title" content="ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-22T10:16:09.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-05-22T10:16:09.000Z"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><title>ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹ | è¯¾ç¨‹ç¬”è®°</title><meta name="description" content="è¯¾ç¨‹ç¬”è®°åšå®¢ç³»ç»Ÿ">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.3bd5937b.css">
    <link rel="modulepreload" href="/assets/app.88f692a7.js"><link rel="modulepreload" href="/assets/æå®¢å›­ç§»åŠ¨ç«¯1.html.a66b7710.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/æå®¢å›­ç§»åŠ¨ç«¯1.html.8a9842c1.js"><link rel="prefetch" href="/assets/index.html.ca01698f.js"><link rel="prefetch" href="/assets/home.html.81aa3df7.js"><link rel="prefetch" href="/assets/1. åˆ›å»ºé¡¹ç›®.html.f66b314f.js"><link rel="prefetch" href="/assets/1.è®¤è¯†antd-pro.html.7d38f9c3.js"><link rel="prefetch" href="/assets/1.è‡ªå®šä¹‰è¯·æ±‚hook.html.db1df6e6.js"><link rel="prefetch" href="/assets/2.é¢è¯•é¢˜.html.f9564bfe.js"><link rel="prefetch" href="/assets/index.html.f8c12963.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬01å¤©ç¬”è®°.html.a6aeb32d.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬02å¤©ç¬”è®°.html.30839f58.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬03å¤©ç¬”è®°.html.c2171967.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬04å¤©ç¬”è®°.html.66d28a86.js"><link rel="prefetch" href="/assets/es6-ES6æ¦‚å¿µ_æ–°å¢è¯­æ³•_å†…ç½®å¯¹è±¡æ‹“å±•.html.f88ecef3.js"><link rel="prefetch" href="/assets/index.html.70ae272b.js"><link rel="prefetch" href="/assets/1.åŸºç¡€ç¯‡-è®¤è¯†jsx.html.702b4234.js"><link rel="prefetch" href="/assets/10.ä¼˜åŒ–ç¯‡-æ¸²æŸ“æ§åˆ¶.html.fad7f2e0.js"><link rel="prefetch" href="/assets/11.ä¼˜åŒ–ç¯‡-æ¸²æŸ“è°ƒä¼˜.html.e63cb2d1.js"><link rel="prefetch" href="/assets/12.ä¼˜åŒ–ç¯‡-å¤„ç†æµ·é‡æ•°æ®.html.a0c2b2ce.js"><link rel="prefetch" href="/assets/13.ä¼˜åŒ–ç¯‡-ç»†èŠ‚å¤„ç†ï¼ˆæŒç»­ï¼‰.html.c65b8cd7.js"><link rel="prefetch" href="/assets/14.åŸç†ç¯‡-äº‹ä»¶åŸç†.html.8afee511.js"><link rel="prefetch" href="/assets/15.åŸç†ç¯‡-è°ƒåº¦ä¸æ—¶é—´ç‰‡.html.0d3898e4.js"><link rel="prefetch" href="/assets/16.åŸç†ç¯‡-è°ƒå’Œfiber.html.8481d2d4.js"><link rel="prefetch" href="/assets/17.åŸç†ç¯‡-HooksåŸç†.html.e75dad9e.js"><link rel="prefetch" href="/assets/18.ç”Ÿæ€ç¯‡-React-router.html.3b0f2542.js"><link rel="prefetch" href="/assets/19.ç”Ÿæ€ç¯‡-React-redux.html.aa1a53ba.js"><link rel="prefetch" href="/assets/2.åŸºç¡€ç¯‡-èµ·æºComponent.html.834f4363.js"><link rel="prefetch" href="/assets/20.ç”Ÿæ€ç¯‡-React-mobx.html.6c2a8061.js"><link rel="prefetch" href="/assets/21.å®è·µç¯‡-å®ç°mini-Router.html.7357ef97.js"><link rel="prefetch" href="/assets/22.å®è·µç¯‡-è¡¨å•éªŒè¯ä¸Š.html.4a1d6215.js"><link rel="prefetch" href="/assets/23.å®è·µç¯‡-è¡¨å•éªŒè¯ä¸‹.html.64801825.js"><link rel="prefetch" href="/assets/24.å®è·µç¯‡-è‡ªå®šä¹‰å¼¹çª—.html.936ebede.js"><link rel="prefetch" href="/assets/25.å®è·µç¯‡-è‡ªå®šä¹‰Hooksè®¾è®¡ï¼ˆæŒç»­ï¼‰.html.947041c3.js"><link rel="prefetch" href="/assets/26.å®è·µç¯‡-è‡ªå®šä¹‰Hookså®è·µï¼ˆæŒç»­ï¼‰.html.667bef52.js"><link rel="prefetch" href="/assets/27.åŸç†ç¯‡-ContextåŸç†.html.b49fb708.js"><link rel="prefetch" href="/assets/28.åŸç†ç¯‡-beginWorkå’Œrenderå…¨æµç¨‹.html.576b5069.js"><link rel="prefetch" href="/assets/29.V18ç‰¹æ€§ç¯‡-useMutableSourceå¤–éƒ¨æ•°æ®æº.html.d7d2313a.js"><link rel="prefetch" href="/assets/3.åŸºç¡€ç¯‡-ç„å­¦state.html.5b73b9a5.js"><link rel="prefetch" href="/assets/30.V18ç‰¹æ€§ç¯‡-transition.html.1a3ddbd5.js"><link rel="prefetch" href="/assets/31.åŸç†ç¯‡-æ›´æ–°æµç¨‹ï¼šè¿›å…¥è°ƒåº¦ä»»åŠ¡.html.1dcac68c.js"><link rel="prefetch" href="/assets/4.åŸºç¡€ç¯‡-æ·±å…¥props.html.d1c7bbc7.js"><link rel="prefetch" href="/assets/5.åŸºç¡€ç¯‡-ç†è§£lifeCycle.html.fa97fc71.js"><link rel="prefetch" href="/assets/6.åŸºç¡€ç¯‡-å¤šåŠŸèƒ½Ref.html.26c74189.js"><link rel="prefetch" href="/assets/7.åŸºç¡€ç¯‡-æä¾›è€…context.html.ab90909d.js"><link rel="prefetch" href="/assets/8.åŸºç¡€ç¯‡-æ¨¡å—åŒ–css.html.31c44402.js"><link rel="prefetch" href="/assets/9.åŸºç¡€ç¯‡-é«˜é˜¶ç»„ä»¶.html.b33857ef.js"><link rel="prefetch" href="/assets/index.html.8ca698b1.js"><link rel="prefetch" href="/assets/Suspense.html.2bb1bc55.js"><link rel="prefetch" href="/assets/index.html.1f84ce60.js"><link rel="prefetch" href="/assets/index.html.c0eeff31.js"><link rel="prefetch" href="/assets/1.å¦‚ä½•æ­å»ºä¸€ä¸ªantd-proé¡¹ç›®.html.bdcc4c21.js"><link rel="prefetch" href="/assets/1.é…ç½®å¼è·¯ç”±.html.07918737.js"><link rel="prefetch" href="/assets/index.html.1c49b44f.js"><link rel="prefetch" href="/assets/lesson.html.c9f58489.js"><link rel="prefetch" href="/assets/test1.html.ace72297.js"><link rel="prefetch" href="/assets/wechat-1.html.43a33bde.js"><link rel="prefetch" href="/assets/wechat-2.html.abebbbc2.js"><link rel="prefetch" href="/assets/wechat-3.html.e0b7c4dd.js"><link rel="prefetch" href="/assets/wechat-4.html.e03b42c8.js"><link rel="prefetch" href="/assets/wechat-5.html.62d7ae87.js"><link rel="prefetch" href="/assets/01-vuexåŸºç¡€.html.cae06ec5.js"><link rel="prefetch" href="/assets/02-åŸºç¡€ç¯å¢ƒæ­å»º.html.d36c5826.js"><link rel="prefetch" href="/assets/03-ç™»å½•æ¨¡å—.html.d7c8321d.js"><link rel="prefetch" href="/assets/04-ä¸»é¡µæ¨¡å—.html.e7b0021a.js"><link rel="prefetch" href="/assets/05-è·¯ç”±å’Œé¡µé¢.html.ee2c822c.js"><link rel="prefetch" href="/assets/06-ç»„ç»‡æ¶æ„.html.e6b2d740.js"><link rel="prefetch" href="/assets/07-å…¬å¸å’Œè§’è‰².html.8a35836a.js"><link rel="prefetch" href="/assets/08-å‘˜å·¥ç®¡ç†.html.b2d487fd.js"><link rel="prefetch" href="/assets/09-æƒé™è®¾è®¡å’Œç®¡ç†.html.85d044a3.js"><link rel="prefetch" href="/assets/10-å…¶ä»–æ¨¡å—é›†æˆ.html.71fe0b65.js"><link rel="prefetch" href="/assets/11-ä¸»é¡µå®¡æ‰¹-å›¾è¡¨.html.859486fb.js"><link rel="prefetch" href="/assets/12-å¤šè¯­è¨€tabé¡µå…¨å±ä¸»é¢˜.html.79cb962a.js"><link rel="prefetch" href="/assets/13-æ‰“åŒ…ä¸Šçº¿.html.de5db446.js"><link rel="prefetch" href="/assets/index.html.891e93c8.js"><link rel="prefetch" href="/assets/äººèµ„ç¬¬äºŒå¤©-Elementè¡¨å•æ ¡éªŒè¡¥å…….html.bf8ac87c.js"><link rel="prefetch" href="/assets/äººèµ„é¡¹ç›®é—®é¢˜.html.db8d8c00.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®åˆå§‹åŒ–.html.037fc481.js"><link rel="prefetch" href="/assets/02-ç™»å½•æ³¨å†Œ.html.f3fc8d82.js"><link rel="prefetch" href="/assets/03-ä¸ªäººä¸­å¿ƒ.html.d9c0fe0c.js"><link rel="prefetch" href="/assets/04-é¦–é¡µ-æ–‡ç« åˆ—è¡¨.html.70b76265.js"><link rel="prefetch" href="/assets/05-é¦–é¡µ-é¢‘é“ç¼–è¾‘.html.a5f45a92.js"><link rel="prefetch" href="/assets/06-æ–‡ç« æœç´¢.html.ca7783cc.js"><link rel="prefetch" href="/assets/07-æ–‡ç« è¯¦æƒ….html.990635f9.js"><link rel="prefetch" href="/assets/08-æ–‡ç« è¯„è®º.html.06cee9d1.js"><link rel="prefetch" href="/assets/09-ç¼–è¾‘ç”¨æˆ·èµ„æ–™.html.5c63a74a.js"><link rel="prefetch" href="/assets/10-ç¼–è¾‘ç”¨æˆ·å¤´åƒ.html.1f302467.js"><link rel="prefetch" href="/assets/11-æ–‡ç« è¯„è®º-1.html.da2b2358.js"><link rel="prefetch" href="/assets/index.html.46aeb955.js"><link rel="prefetch" href="/assets/01-vue3ç¬”è®°.html.1c702be5.js"><link rel="prefetch" href="/assets/02-piniaç¬”è®°.html.65f02adf.js"><link rel="prefetch" href="/assets/03-Typescript.html.7a218258.js"><link rel="prefetch" href="/assets/04-é¡¹ç›®æ­å»º.html.fb341036.js"><link rel="prefetch" href="/assets/05-å¸ƒå±€æ¨¡å—.html.b7839d73.js"><link rel="prefetch" href="/assets/06-é¦–é¡µæ¨¡å—.html.e496d65d.js"><link rel="prefetch" href="/assets/07-åˆ†ç±»æ¨¡å—.html.082ccb90.js"><link rel="prefetch" href="/assets/08-å•†å“è¯¦æƒ….html.81049dab.js"><link rel="prefetch" href="/assets/09-ç™»å½•æ¨¡å—.html.41abc95f.js"><link rel="prefetch" href="/assets/10-ç™»å½•æ¨¡å—-ç¬¬ä¸‰æ–¹ç™»å½•.html.c5c9a23d.js"><link rel="prefetch" href="/assets/11-è´­ç‰©è½¦æ¨¡å—.html.6a09632e.js"><link rel="prefetch" href="/assets/12-ç»“ç®—æ¨¡å—.html.be015a82.js"><link rel="prefetch" href="/assets/13-æ”¯ä»˜æ¨¡å—.html.5622a856.js"><link rel="prefetch" href="/assets/14-è®¢å•æ¨¡å—.html.853507b4.js"><link rel="prefetch" href="/assets/jsBridge.html.66128ad1.js"><link rel="prefetch" href="/assets/ç§»åŠ¨ç«¯é—®é¢˜.html.6e322578.js"><link rel="prefetch" href="/assets/1.HTTP ç¼“å­˜1ï¼šå¼€é—¨è§å±±â€”â€”è¯·æ±‚å“åº”å¤´ä¸­å…³äºç¼“å­˜çš„å¥¥ç§˜.html.c045d22b.js"><link rel="prefetch" href="/assets/2.HTTP ç¼“å­˜2ï¼šå§è™è—é¾™â€”â€”ç½‘é¡µç”±æ…¢åˆ°å¿«èƒŒåçš„å¼ºç¼“å­˜.html.fffa483a.js"><link rel="prefetch" href="/assets/3.HTTP ç¼“å­˜3ï¼šåˆ¨æ ¹é—®åº•â€”â€”ç¼“å­˜æ–°é²œåº¦ä¸ä½¿ç”¨æœŸç®—æ³•.html.65fe806a.js"><link rel="prefetch" href="/assets/4. HTTP ç¼“å­˜4ï¼šç›¸è¾…ç›¸æˆâ€”â€”ä»åå•†ç¼“å­˜åˆ°å¯å‘å¼ç¼“å­˜.html.ff96e829.js"><link rel="prefetch" href="/assets/5.åº”ç”¨ç¯‡ï¼šä»ç†è®ºåˆ°å®é™…â€”â€”HTTP ç¼“å­˜æ–¹æ¡ˆè§£æ.html.f68ade06.js"><link rel="prefetch" href="/assets/6.ç¦åˆ©ç¯‡ï¼šæ¢ä¸€ç§è§’åº¦â€”â€”ç”¨æˆ·æ“ä½œä¸ HTTP ç¼“å­˜.html.fd17717d.js"><link rel="prefetch" href="/assets/index.html.1d88bfb6.js"><link rel="prefetch" href="/assets/æ‹“å±•-https.html.a7de494a.js"><link rel="prefetch" href="/assets/1.htmlåŸºç¡€.html.b1493ac6.js"><link rel="prefetch" href="/assets/10.react.html.d69cd119.js"><link rel="prefetch" href="/assets/2.cssåŸºç¡€.html.a1f66c29.js"><link rel="prefetch" href="/assets/3.js.html.3a1175b2.js"><link rel="prefetch" href="/assets/4.httpåè®®.html.95605a65.js"><link rel="prefetch" href="/assets/5.tcp.html.c3c4d92c.js"><link rel="prefetch" href="/assets/6.dom.html.c5866e65.js"><link rel="prefetch" href="/assets/7.æµè§ˆå™¨ä¸æ–°æŠ€æœ¯.html.3ed24cc9.js"><link rel="prefetch" href="/assets/8.å‰ç«¯å·¥ç¨‹åŒ–.html.e067139e.js"><link rel="prefetch" href="/assets/9.vue.html.02668e79.js"><link rel="prefetch" href="/assets/ä¸€ã€Vueç”Ÿå‘½å‘¨æœŸ.html.37bf19f8.js"><link rel="prefetch" href="/assets/ä¸ƒã€ç»„ä»¶ä¼ å€¼.html.2b8e1e98.js"><link rel="prefetch" href="/assets/ä¸‰ã€v-if_v-show.html.3237c4b0.js"><link rel="prefetch" href="/assets/äºŒã€å¯¹keep-aliveçš„ç†è§£.html.1e622e23.js"><link rel="prefetch" href="/assets/äº”ã€scopedåŸç†æ˜¯ä»€ä¹ˆ.html.730de7fd.js"><link rel="prefetch" href="/assets/å…­ã€å¦‚ä½•åšæ ·å¼ç©¿é€.html.7c5cba1e.js"><link rel="prefetch" href="/assets/å››ã€refæ˜¯ä»€ä¹ˆ.html.05a56e5c.js"><link rel="prefetch" href="/assets/æ–‡ä»¶ä¸Šä¼ .html.c82f818b.js"><link rel="prefetch" href="/assets/é˜¿é‡Œå¤–åŒ…ç¬”è¯•é¢˜ç›®.html.563e32b0.js"><link rel="prefetch" href="/assets/index.html.3a96919a.js"><link rel="prefetch" href="/assets/1.node-sassé—®é¢˜.html.840f87d6.js"><link rel="prefetch" href="/assets/index.html.6a71294a.js"><link rel="prefetch" href="/assets/index.html.9bbe26a7.js"><link rel="prefetch" href="/assets/01-ReactåŸºç¡€.html.ff963e44.js"><link rel="prefetch" href="/assets/02-ç»„ä»¶åŸºç¡€.html.f51ff404.js"><link rel="prefetch" href="/assets/03-ç»„ä»¶é€šè®¯.html.f1f4e209.js"><link rel="prefetch" href="/assets/04-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ.html.ab1dfa3f.js"><link rel="prefetch" href="/assets/05-reactåŸç†æ­ç§˜.html.847ccd1a.js"><link rel="prefetch" href="/assets/06-reactè·¯ç”±.html.3a0d93a3.js"><link rel="prefetch" href="/assets/fiber.html.2ced87ff.js"><link rel="prefetch" href="/assets/index.html.ca39004e.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®æ­å»º.html.85bbaa7f.js"><link rel="prefetch" href="/assets/02-ç™»å½•åŠŸèƒ½.html.26f492fa.js"><link rel="prefetch" href="/assets/03-é¦–é¡µ.html.d689bce9.js"><link rel="prefetch" href="/assets/04-æ–‡ç« åˆ—è¡¨.html.4fcbaa93.js"><link rel="prefetch" href="/assets/index.html.6d118562.js"><link rel="prefetch" href="/assets/01-react-ç»„ä»¶å¤ç”¨.html.675f519c.js"><link rel="prefetch" href="/assets/02-hooksåŸºæœ¬ä½¿ç”¨.html.7fcc93b2.js"><link rel="prefetch" href="/assets/03-hooksè¿›é˜¶_reduxå­¦ä¹ .html.1df17b13.js"><link rel="prefetch" href="/assets/index.html.fb3cdcce.js"><link rel="prefetch" href="/assets/æ‰©å±•-useCallbackå’ŒuseMemo.html.dce6103f.js"><link rel="prefetch" href="/assets/æ‰©å±•-useImperativeHandleçš„ä½¿ç”¨.html.9c184f3b.js"><link rel="prefetch" href="/assets/æ‹“å±•-redux-createStoreå®ç°.html.ed14cbab.js"><link rel="prefetch" href="/assets/æ‹“å±•-useEffectå’ŒuseLayoutEffect.html.e76e1090.js"><link rel="prefetch" href="/assets/applymiddleWareåŸç†.html.b0f5bf0f.js"><link rel="prefetch" href="/assets/index.html.6c9dbbfb.js"><link rel="prefetch" href="/assets/redux-acionsç”¨æ³•.html.ef100d02.js"><link rel="prefetch" href="/assets/reduxä¸­é—´ä»¶.html.32f898f8.js"><link rel="prefetch" href="/assets/reduxè¯¾ç¨‹.html.941c1cc4.js"><link rel="prefetch" href="/assets/todolist.html.ddba1ac5.js"><link rel="prefetch" href="/assets/reacté¢è¯•é¢˜.html.8a177f91.js"><link rel="prefetch" href="/assets/index.html.6fbbd3b8.js"><link rel="prefetch" href="/assets/webpacké¢è¯•é¢˜.html.6faf54bd.js"><link rel="prefetch" href="/assets/æå®¢å›­ç§»åŠ¨ç«¯2.html.da6d9bb1.js"><link rel="prefetch" href="/assets/é¢è¯•é¢˜.html.6b25199c.js"><link rel="prefetch" href="/assets/ğŸŒ¹ã€æ‹“å±•ã€‘-ahooksä¹‹useCountDownç”¨æ³•.html.d5eb51b8.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-1ã€é¡¹ç›®æ­å»ºã€‘.html.eb794133.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-2ã€ç™»å½•æ¨¡å—ã€‘.html.b06eda54.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-3ã€å¸ƒå±€é¡µé¢ã€‘.html.0529e18f.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-4ã€ä¸ªäººä¸­å¿ƒã€‘.html.0f622c5c.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-5ã€é¦–é¡µã€‘.html.420e3b8f.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-6ã€æœç´¢ã€‘.html.e25f11e8.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-7ã€æ–‡ç« è¯¦æƒ…ã€‘.html.3568b2d7.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-8ã€å°æ™ºåŒå­¦ã€‘.html.149a18bc.js"><link rel="prefetch" href="/assets/01-TypeScript ä»‹ç».html.f281375e.js"><link rel="prefetch" href="/assets/02-TypeScript å¸¸ç”¨ç±»å‹.html.3107d700.js"><link rel="prefetch" href="/assets/03-TypeScript é«˜çº§ç±»å‹.html.d90d452a.js"><link rel="prefetch" href="/assets/04-åœ¨ React é¡¹ç›®ä¸­ä½¿ç”¨ TS.html.74454474.js"><link rel="prefetch" href="/assets/05-ä½¿ç”¨Typescriptæ”¹é€ é¡¹ç›®.html.3f68380e.js"><link rel="prefetch" href="/assets/index.html.c27573b7.js"><link rel="prefetch" href="/assets/1.å“åº”å¼åŸç†.html.7c78f125.js"><link rel="prefetch" href="/assets/404.html.60f752fd.js"><link rel="prefetch" href="/assets/index.html.8b72e0f0.js"><link rel="prefetch" href="/assets/index.html.a9728e99.js"><link rel="prefetch" href="/assets/index.html.05cb2bb2.js"><link rel="prefetch" href="/assets/index.html.2d2968d1.js"><link rel="prefetch" href="/assets/index.html.c4db3dcf.js"><link rel="prefetch" href="/assets/index.html.08d256c4.js"><link rel="prefetch" href="/assets/index.html.46a383bf.js"><link rel="prefetch" href="/assets/index.html.54dbd027.js"><link rel="prefetch" href="/assets/index.html.6d08f253.js"><link rel="prefetch" href="/assets/home.html.d2383193.js"><link rel="prefetch" href="/assets/1. åˆ›å»ºé¡¹ç›®.html.8af12bb0.js"><link rel="prefetch" href="/assets/1.è®¤è¯†antd-pro.html.5db98694.js"><link rel="prefetch" href="/assets/1.è‡ªå®šä¹‰è¯·æ±‚hook.html.85e82c26.js"><link rel="prefetch" href="/assets/2.é¢è¯•é¢˜.html.b2323f31.js"><link rel="prefetch" href="/assets/index.html.924e9cbd.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬01å¤©ç¬”è®°.html.fe0056be.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬02å¤©ç¬”è®°.html.b749b6a4.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬03å¤©ç¬”è®°.html.95c3ab2c.js"><link rel="prefetch" href="/assets/JavaScripté«˜çº§ç¬¬04å¤©ç¬”è®°.html.1ffeaebe.js"><link rel="prefetch" href="/assets/es6-ES6æ¦‚å¿µ_æ–°å¢è¯­æ³•_å†…ç½®å¯¹è±¡æ‹“å±•.html.1c4a2ef1.js"><link rel="prefetch" href="/assets/index.html.7e21076f.js"><link rel="prefetch" href="/assets/1.åŸºç¡€ç¯‡-è®¤è¯†jsx.html.78c189e0.js"><link rel="prefetch" href="/assets/10.ä¼˜åŒ–ç¯‡-æ¸²æŸ“æ§åˆ¶.html.8c16ec7f.js"><link rel="prefetch" href="/assets/11.ä¼˜åŒ–ç¯‡-æ¸²æŸ“è°ƒä¼˜.html.fb0ae698.js"><link rel="prefetch" href="/assets/12.ä¼˜åŒ–ç¯‡-å¤„ç†æµ·é‡æ•°æ®.html.57ed8514.js"><link rel="prefetch" href="/assets/13.ä¼˜åŒ–ç¯‡-ç»†èŠ‚å¤„ç†ï¼ˆæŒç»­ï¼‰.html.bcab3511.js"><link rel="prefetch" href="/assets/14.åŸç†ç¯‡-äº‹ä»¶åŸç†.html.3464aeca.js"><link rel="prefetch" href="/assets/15.åŸç†ç¯‡-è°ƒåº¦ä¸æ—¶é—´ç‰‡.html.e4aea8e7.js"><link rel="prefetch" href="/assets/16.åŸç†ç¯‡-è°ƒå’Œfiber.html.8d508658.js"><link rel="prefetch" href="/assets/17.åŸç†ç¯‡-HooksåŸç†.html.3e908510.js"><link rel="prefetch" href="/assets/18.ç”Ÿæ€ç¯‡-React-router.html.dfafa26e.js"><link rel="prefetch" href="/assets/19.ç”Ÿæ€ç¯‡-React-redux.html.5149eb08.js"><link rel="prefetch" href="/assets/2.åŸºç¡€ç¯‡-èµ·æºComponent.html.398e96d6.js"><link rel="prefetch" href="/assets/20.ç”Ÿæ€ç¯‡-React-mobx.html.ebf1f6c0.js"><link rel="prefetch" href="/assets/21.å®è·µç¯‡-å®ç°mini-Router.html.78ae301d.js"><link rel="prefetch" href="/assets/22.å®è·µç¯‡-è¡¨å•éªŒè¯ä¸Š.html.bc339e0a.js"><link rel="prefetch" href="/assets/23.å®è·µç¯‡-è¡¨å•éªŒè¯ä¸‹.html.02589685.js"><link rel="prefetch" href="/assets/24.å®è·µç¯‡-è‡ªå®šä¹‰å¼¹çª—.html.64258227.js"><link rel="prefetch" href="/assets/25.å®è·µç¯‡-è‡ªå®šä¹‰Hooksè®¾è®¡ï¼ˆæŒç»­ï¼‰.html.e888784b.js"><link rel="prefetch" href="/assets/26.å®è·µç¯‡-è‡ªå®šä¹‰Hookså®è·µï¼ˆæŒç»­ï¼‰.html.7d16444e.js"><link rel="prefetch" href="/assets/27.åŸç†ç¯‡-ContextåŸç†.html.f0edfc59.js"><link rel="prefetch" href="/assets/28.åŸç†ç¯‡-beginWorkå’Œrenderå…¨æµç¨‹.html.ee0507fd.js"><link rel="prefetch" href="/assets/29.V18ç‰¹æ€§ç¯‡-useMutableSourceå¤–éƒ¨æ•°æ®æº.html.7c16e776.js"><link rel="prefetch" href="/assets/3.åŸºç¡€ç¯‡-ç„å­¦state.html.8f7cc377.js"><link rel="prefetch" href="/assets/30.V18ç‰¹æ€§ç¯‡-transition.html.a9495a4f.js"><link rel="prefetch" href="/assets/31.åŸç†ç¯‡-æ›´æ–°æµç¨‹ï¼šè¿›å…¥è°ƒåº¦ä»»åŠ¡.html.350c8172.js"><link rel="prefetch" href="/assets/4.åŸºç¡€ç¯‡-æ·±å…¥props.html.744ef28e.js"><link rel="prefetch" href="/assets/5.åŸºç¡€ç¯‡-ç†è§£lifeCycle.html.1abc25a5.js"><link rel="prefetch" href="/assets/6.åŸºç¡€ç¯‡-å¤šåŠŸèƒ½Ref.html.c9a61df7.js"><link rel="prefetch" href="/assets/7.åŸºç¡€ç¯‡-æä¾›è€…context.html.fd112f4f.js"><link rel="prefetch" href="/assets/8.åŸºç¡€ç¯‡-æ¨¡å—åŒ–css.html.d674e2f9.js"><link rel="prefetch" href="/assets/9.åŸºç¡€ç¯‡-é«˜é˜¶ç»„ä»¶.html.2f3b039b.js"><link rel="prefetch" href="/assets/index.html.a498e451.js"><link rel="prefetch" href="/assets/Suspense.html.29f91fa6.js"><link rel="prefetch" href="/assets/index.html.f1f75e1e.js"><link rel="prefetch" href="/assets/index.html.f5b11e44.js"><link rel="prefetch" href="/assets/1.å¦‚ä½•æ­å»ºä¸€ä¸ªantd-proé¡¹ç›®.html.36ac4a80.js"><link rel="prefetch" href="/assets/1.é…ç½®å¼è·¯ç”±.html.029397b9.js"><link rel="prefetch" href="/assets/index.html.7c5a3e5d.js"><link rel="prefetch" href="/assets/lesson.html.4aa3ca6a.js"><link rel="prefetch" href="/assets/test1.html.66e62c07.js"><link rel="prefetch" href="/assets/wechat-1.html.ffec603a.js"><link rel="prefetch" href="/assets/wechat-2.html.9bf17f3f.js"><link rel="prefetch" href="/assets/wechat-3.html.d2be8ac3.js"><link rel="prefetch" href="/assets/wechat-4.html.4086b0d7.js"><link rel="prefetch" href="/assets/wechat-5.html.b7cbcca7.js"><link rel="prefetch" href="/assets/01-vuexåŸºç¡€.html.1d8e42fd.js"><link rel="prefetch" href="/assets/02-åŸºç¡€ç¯å¢ƒæ­å»º.html.e785bb47.js"><link rel="prefetch" href="/assets/03-ç™»å½•æ¨¡å—.html.b670d97a.js"><link rel="prefetch" href="/assets/04-ä¸»é¡µæ¨¡å—.html.7e3385a1.js"><link rel="prefetch" href="/assets/05-è·¯ç”±å’Œé¡µé¢.html.86fe128a.js"><link rel="prefetch" href="/assets/06-ç»„ç»‡æ¶æ„.html.d968fae9.js"><link rel="prefetch" href="/assets/07-å…¬å¸å’Œè§’è‰².html.d15f3a4f.js"><link rel="prefetch" href="/assets/08-å‘˜å·¥ç®¡ç†.html.5e37d789.js"><link rel="prefetch" href="/assets/09-æƒé™è®¾è®¡å’Œç®¡ç†.html.c6e3349a.js"><link rel="prefetch" href="/assets/10-å…¶ä»–æ¨¡å—é›†æˆ.html.244e03c9.js"><link rel="prefetch" href="/assets/11-ä¸»é¡µå®¡æ‰¹-å›¾è¡¨.html.513b43c6.js"><link rel="prefetch" href="/assets/12-å¤šè¯­è¨€tabé¡µå…¨å±ä¸»é¢˜.html.6c4ff7ee.js"><link rel="prefetch" href="/assets/13-æ‰“åŒ…ä¸Šçº¿.html.b7b0d637.js"><link rel="prefetch" href="/assets/index.html.d81081df.js"><link rel="prefetch" href="/assets/äººèµ„ç¬¬äºŒå¤©-Elementè¡¨å•æ ¡éªŒè¡¥å…….html.aa56da0e.js"><link rel="prefetch" href="/assets/äººèµ„é¡¹ç›®é—®é¢˜.html.a26af7b2.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®åˆå§‹åŒ–.html.ce33e576.js"><link rel="prefetch" href="/assets/02-ç™»å½•æ³¨å†Œ.html.e606b2f0.js"><link rel="prefetch" href="/assets/03-ä¸ªäººä¸­å¿ƒ.html.e6fb7ce4.js"><link rel="prefetch" href="/assets/04-é¦–é¡µ-æ–‡ç« åˆ—è¡¨.html.a1daf701.js"><link rel="prefetch" href="/assets/05-é¦–é¡µ-é¢‘é“ç¼–è¾‘.html.8bcd70aa.js"><link rel="prefetch" href="/assets/06-æ–‡ç« æœç´¢.html.fb6a3359.js"><link rel="prefetch" href="/assets/07-æ–‡ç« è¯¦æƒ….html.d8ded61a.js"><link rel="prefetch" href="/assets/08-æ–‡ç« è¯„è®º.html.a866bbd7.js"><link rel="prefetch" href="/assets/09-ç¼–è¾‘ç”¨æˆ·èµ„æ–™.html.8d718a32.js"><link rel="prefetch" href="/assets/10-ç¼–è¾‘ç”¨æˆ·å¤´åƒ.html.f02e0858.js"><link rel="prefetch" href="/assets/11-æ–‡ç« è¯„è®º-1.html.4cce99d8.js"><link rel="prefetch" href="/assets/index.html.16893cbc.js"><link rel="prefetch" href="/assets/01-vue3ç¬”è®°.html.3935ddc4.js"><link rel="prefetch" href="/assets/02-piniaç¬”è®°.html.c1acd935.js"><link rel="prefetch" href="/assets/03-Typescript.html.26f87e54.js"><link rel="prefetch" href="/assets/04-é¡¹ç›®æ­å»º.html.1bc311b7.js"><link rel="prefetch" href="/assets/05-å¸ƒå±€æ¨¡å—.html.aca987c0.js"><link rel="prefetch" href="/assets/06-é¦–é¡µæ¨¡å—.html.b841acc5.js"><link rel="prefetch" href="/assets/07-åˆ†ç±»æ¨¡å—.html.d3647bdb.js"><link rel="prefetch" href="/assets/08-å•†å“è¯¦æƒ….html.8988cd03.js"><link rel="prefetch" href="/assets/09-ç™»å½•æ¨¡å—.html.2743e145.js"><link rel="prefetch" href="/assets/10-ç™»å½•æ¨¡å—-ç¬¬ä¸‰æ–¹ç™»å½•.html.5f4c9e04.js"><link rel="prefetch" href="/assets/11-è´­ç‰©è½¦æ¨¡å—.html.aebe4a58.js"><link rel="prefetch" href="/assets/12-ç»“ç®—æ¨¡å—.html.6b4cb7c2.js"><link rel="prefetch" href="/assets/13-æ”¯ä»˜æ¨¡å—.html.b198ea92.js"><link rel="prefetch" href="/assets/14-è®¢å•æ¨¡å—.html.264874d5.js"><link rel="prefetch" href="/assets/jsBridge.html.c26435e6.js"><link rel="prefetch" href="/assets/ç§»åŠ¨ç«¯é—®é¢˜.html.9cd56874.js"><link rel="prefetch" href="/assets/1.HTTP ç¼“å­˜1ï¼šå¼€é—¨è§å±±â€”â€”è¯·æ±‚å“åº”å¤´ä¸­å…³äºç¼“å­˜çš„å¥¥ç§˜.html.d4c08f33.js"><link rel="prefetch" href="/assets/2.HTTP ç¼“å­˜2ï¼šå§è™è—é¾™â€”â€”ç½‘é¡µç”±æ…¢åˆ°å¿«èƒŒåçš„å¼ºç¼“å­˜.html.c25c3b4a.js"><link rel="prefetch" href="/assets/3.HTTP ç¼“å­˜3ï¼šåˆ¨æ ¹é—®åº•â€”â€”ç¼“å­˜æ–°é²œåº¦ä¸ä½¿ç”¨æœŸç®—æ³•.html.87b19d8f.js"><link rel="prefetch" href="/assets/4. HTTP ç¼“å­˜4ï¼šç›¸è¾…ç›¸æˆâ€”â€”ä»åå•†ç¼“å­˜åˆ°å¯å‘å¼ç¼“å­˜.html.cefaa22e.js"><link rel="prefetch" href="/assets/5.åº”ç”¨ç¯‡ï¼šä»ç†è®ºåˆ°å®é™…â€”â€”HTTP ç¼“å­˜æ–¹æ¡ˆè§£æ.html.6a2a87e7.js"><link rel="prefetch" href="/assets/6.ç¦åˆ©ç¯‡ï¼šæ¢ä¸€ç§è§’åº¦â€”â€”ç”¨æˆ·æ“ä½œä¸ HTTP ç¼“å­˜.html.faff51c1.js"><link rel="prefetch" href="/assets/index.html.a390cf83.js"><link rel="prefetch" href="/assets/æ‹“å±•-https.html.78426ea8.js"><link rel="prefetch" href="/assets/1.htmlåŸºç¡€.html.451ec60e.js"><link rel="prefetch" href="/assets/10.react.html.6f029ccb.js"><link rel="prefetch" href="/assets/2.cssåŸºç¡€.html.9fac3537.js"><link rel="prefetch" href="/assets/3.js.html.44c0869b.js"><link rel="prefetch" href="/assets/4.httpåè®®.html.4c10b0fe.js"><link rel="prefetch" href="/assets/5.tcp.html.d682895d.js"><link rel="prefetch" href="/assets/6.dom.html.db1e6858.js"><link rel="prefetch" href="/assets/7.æµè§ˆå™¨ä¸æ–°æŠ€æœ¯.html.59b8f1d0.js"><link rel="prefetch" href="/assets/8.å‰ç«¯å·¥ç¨‹åŒ–.html.1f0ae2e3.js"><link rel="prefetch" href="/assets/9.vue.html.b9de9baf.js"><link rel="prefetch" href="/assets/ä¸€ã€Vueç”Ÿå‘½å‘¨æœŸ.html.67a4f9c2.js"><link rel="prefetch" href="/assets/ä¸ƒã€ç»„ä»¶ä¼ å€¼.html.77b45d25.js"><link rel="prefetch" href="/assets/ä¸‰ã€v-if_v-show.html.101c15f2.js"><link rel="prefetch" href="/assets/äºŒã€å¯¹keep-aliveçš„ç†è§£.html.64ab34c8.js"><link rel="prefetch" href="/assets/äº”ã€scopedåŸç†æ˜¯ä»€ä¹ˆ.html.6987d95c.js"><link rel="prefetch" href="/assets/å…­ã€å¦‚ä½•åšæ ·å¼ç©¿é€.html.86df9b5d.js"><link rel="prefetch" href="/assets/å››ã€refæ˜¯ä»€ä¹ˆ.html.57d93fca.js"><link rel="prefetch" href="/assets/æ–‡ä»¶ä¸Šä¼ .html.7972d2fd.js"><link rel="prefetch" href="/assets/é˜¿é‡Œå¤–åŒ…ç¬”è¯•é¢˜ç›®.html.a9ddac06.js"><link rel="prefetch" href="/assets/index.html.95cf1ad9.js"><link rel="prefetch" href="/assets/1.node-sassé—®é¢˜.html.c9ffcac0.js"><link rel="prefetch" href="/assets/index.html.dad4447d.js"><link rel="prefetch" href="/assets/index.html.9f761659.js"><link rel="prefetch" href="/assets/01-ReactåŸºç¡€.html.fe6cc461.js"><link rel="prefetch" href="/assets/02-ç»„ä»¶åŸºç¡€.html.26261800.js"><link rel="prefetch" href="/assets/03-ç»„ä»¶é€šè®¯.html.fce6101b.js"><link rel="prefetch" href="/assets/04-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ.html.5916e65c.js"><link rel="prefetch" href="/assets/05-reactåŸç†æ­ç§˜.html.401ac2b5.js"><link rel="prefetch" href="/assets/06-reactè·¯ç”±.html.f5751a7a.js"><link rel="prefetch" href="/assets/fiber.html.e1761934.js"><link rel="prefetch" href="/assets/index.html.2602e09e.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®æ­å»º.html.b33fe151.js"><link rel="prefetch" href="/assets/02-ç™»å½•åŠŸèƒ½.html.313d1d63.js"><link rel="prefetch" href="/assets/03-é¦–é¡µ.html.1937e5d0.js"><link rel="prefetch" href="/assets/04-æ–‡ç« åˆ—è¡¨.html.5e25b9af.js"><link rel="prefetch" href="/assets/index.html.12375ec9.js"><link rel="prefetch" href="/assets/01-react-ç»„ä»¶å¤ç”¨.html.38de85eb.js"><link rel="prefetch" href="/assets/02-hooksåŸºæœ¬ä½¿ç”¨.html.242e6b6b.js"><link rel="prefetch" href="/assets/03-hooksè¿›é˜¶_reduxå­¦ä¹ .html.a8044d95.js"><link rel="prefetch" href="/assets/index.html.133f2559.js"><link rel="prefetch" href="/assets/æ‰©å±•-useCallbackå’ŒuseMemo.html.93eb7960.js"><link rel="prefetch" href="/assets/æ‰©å±•-useImperativeHandleçš„ä½¿ç”¨.html.98a85665.js"><link rel="prefetch" href="/assets/æ‹“å±•-redux-createStoreå®ç°.html.b48da31b.js"><link rel="prefetch" href="/assets/æ‹“å±•-useEffectå’ŒuseLayoutEffect.html.79df999b.js"><link rel="prefetch" href="/assets/applymiddleWareåŸç†.html.94948d05.js"><link rel="prefetch" href="/assets/index.html.c118bf5a.js"><link rel="prefetch" href="/assets/redux-acionsç”¨æ³•.html.94402108.js"><link rel="prefetch" href="/assets/reduxä¸­é—´ä»¶.html.b07eacd1.js"><link rel="prefetch" href="/assets/reduxè¯¾ç¨‹.html.615fa86c.js"><link rel="prefetch" href="/assets/todolist.html.3f259b2f.js"><link rel="prefetch" href="/assets/reacté¢è¯•é¢˜.html.a6dcd425.js"><link rel="prefetch" href="/assets/index.html.de81af2d.js"><link rel="prefetch" href="/assets/webpacké¢è¯•é¢˜.html.b41d1d2c.js"><link rel="prefetch" href="/assets/æå®¢å›­ç§»åŠ¨ç«¯2.html.8afa138f.js"><link rel="prefetch" href="/assets/é¢è¯•é¢˜.html.5b071689.js"><link rel="prefetch" href="/assets/ğŸŒ¹ã€æ‹“å±•ã€‘-ahooksä¹‹useCountDownç”¨æ³•.html.f5ab7492.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-1ã€é¡¹ç›®æ­å»ºã€‘.html.81b03a0c.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-2ã€ç™»å½•æ¨¡å—ã€‘.html.5b691baf.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-3ã€å¸ƒå±€é¡µé¢ã€‘.html.47a1846f.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-4ã€ä¸ªäººä¸­å¿ƒã€‘.html.a5f98f1e.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-5ã€é¦–é¡µã€‘.html.d0f7ca61.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-6ã€æœç´¢ã€‘.html.826a27f8.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-7ã€æ–‡ç« è¯¦æƒ…ã€‘.html.ef090b8c.js"><link rel="prefetch" href="/assets/ğŸ“šæå®¢å›­M-8ã€å°æ™ºåŒå­¦ã€‘.html.e5180c67.js"><link rel="prefetch" href="/assets/01-TypeScript ä»‹ç».html.fc6d630f.js"><link rel="prefetch" href="/assets/02-TypeScript å¸¸ç”¨ç±»å‹.html.f15a5a9c.js"><link rel="prefetch" href="/assets/03-TypeScript é«˜çº§ç±»å‹.html.ec671993.js"><link rel="prefetch" href="/assets/04-åœ¨ React é¡¹ç›®ä¸­ä½¿ç”¨ TS.html.3077e5da.js"><link rel="prefetch" href="/assets/05-ä½¿ç”¨Typescriptæ”¹é€ é¡¹ç›®.html.5e2d0b5a.js"><link rel="prefetch" href="/assets/index.html.bc16088d.js"><link rel="prefetch" href="/assets/1.å“åº”å¼åŸç†.html.1895587b.js"><link rel="prefetch" href="/assets/404.html.c9cb4d2d.js"><link rel="prefetch" href="/assets/index.html.4da2f53c.js"><link rel="prefetch" href="/assets/index.html.74b284bb.js"><link rel="prefetch" href="/assets/index.html.79511d8a.js"><link rel="prefetch" href="/assets/index.html.94dd083b.js"><link rel="prefetch" href="/assets/index.html.cd7f9896.js"><link rel="prefetch" href="/assets/index.html.cac6b252.js"><link rel="prefetch" href="/assets/index.html.fa9188ec.js"><link rel="prefetch" href="/assets/index.html.8075d560.js"><link rel="prefetch" href="/assets/404.17b7571b.js"><link rel="prefetch" href="/assets/Layout.706c9e43.js"><link rel="prefetch" href="/assets/Slide.9e82aa3a.js"><link rel="prefetch" href="/assets/Blog.1d3992d7.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.092fbc15.js"><link rel="prefetch" href="/assets/index.0e8935cb.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="è¯¾ç¨‹ç¬”è®°"><!----><span class="site-name hide-in-pad">è¯¾ç¨‹ç¬”è®°</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home" style=""></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E9%A1%B9%E7%9B%AE%E8%B5%84%E6%BA%90" class="nav-link" aria-label="é¡¹ç›®èµ„æº"><!---->é¡¹ç›®èµ„æº<!----></a></div><div class="nav-item hide-in-mobile"><a href="/react%E8%AF%BE%E7%A8%8B/" class="nav-link active" aria-label="è¯¾ç¨‹ç¬”è®°"><span class="icon iconfont icon-book-font" style=""></span>è¯¾ç¨‹ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98" class="nav-link" aria-label="é¡¹ç›®é—®é¢˜"><span class="icon iconfont icon-book-font" style=""></span>é¡¹ç›®é—®é¢˜<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-javascript" style=""></span><span class="title">jsé«˜çº§ç¬”è®°</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><a href="/%E9%A1%B9%E7%9B%AE%E8%B5%84%E6%BA%90" class="nav-link sidebar-link sidebar-page" aria-label="é¡¹ç›®èµ„æº"><span class="icon iconfont icon-repo" style=""></span>é¡¹ç›®èµ„æº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="icon iconfont icon-repo" style=""></span><a href="/%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98" class="title">é¡¹ç›®é—®é¢˜</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98/1.node-sass%E9%97%AE%E9%A2%98.html" class="nav-link sidebar-link sidebar-page" aria-label="1.node-sassé—®é¢˜"><!---->1.node-sassé—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-react" style=""></span><span class="title">reactè¯¾ç¨‹</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-vue" style=""></span><span class="title">vueäººåŠ›èµ„æºé¡¹ç›®</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-vue" style=""></span><span class="title">vueé»‘é©¬å¤´æ¡é¡¹ç›®</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-wechat" style=""></span><span class="title">å°ç¨‹åºè¯¾ç¨‹ç¬”è®°</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-repo" style=""></span><span class="title">é¢è¯•é¢˜</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-vue" style=""></span><span class="title">vue3å°å…”é²œé¡¹ç›®</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-react" style=""></span><span class="title">reactè¿›é˜¶ç¬”è®°</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-cache" style=""></span><span class="title">ç¼“å­˜ç›¸å…³</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-vue" style=""></span><span class="title">é¢è¯•é¢˜ç³»åˆ—</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">vueåŸç†</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´5æœˆ22æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://blog-1gxfs2h1401f4f58-1254415986.tcloudbaseapp.com/" target="_blank" rel="noopener noreferrer">æ­¦æ™“æ…§</a></span><span property="author" content="æ­¦æ™“æ…§"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´5æœˆ22æ—¥</span><meta property="datePublished" content="2022-05-22T10:16:09.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´5æœˆ22æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 53 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT53M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é¡¹ç›®ä»‹ç»" class="router-link-active router-link-exact-active toc-link level2">é¡¹ç›®ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åŠŸèƒ½æ¼”ç¤º" class="router-link-active router-link-exact-active toc-link level2">åŠŸèƒ½æ¼”ç¤º</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é¡¹ç›®æŠ€æœ¯æ ˆ" class="router-link-active router-link-exact-active toc-link level2">é¡¹ç›®æŠ€æœ¯æ ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åˆ›å»ºæ–°é¡¹ç›®" class="router-link-active router-link-exact-active toc-link level2">åˆ›å»ºæ–°é¡¹ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å…¬ç”¨æ ·å¼" class="router-link-active router-link-exact-active toc-link level2">å…¬ç”¨æ ·å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®-sass-æ”¯æŒ" class="router-link-active router-link-exact-active toc-link level2">é…ç½® SASS æ”¯æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®-ui-ç»„ä»¶åº“" class="router-link-active router-link-exact-active toc-link level2">é…ç½® UI ç»„ä»¶åº“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#antd-æŒ‰éœ€åŠ è½½" class="router-link-active router-link-exact-active toc-link level2">antd-æŒ‰éœ€åŠ è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®å¿«æ·è·¯å¾„" class="router-link-active router-link-exact-active toc-link level2">é…ç½®å¿«æ·è·¯å¾„ @</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®è§†å£å•ä½æ’ä»¶" class="router-link-active router-link-exact-active toc-link level2">é…ç½®è§†å£å•ä½æ’ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®è·¯ç”±ç®¡ç†å™¨" class="router-link-active router-link-exact-active toc-link level2">é…ç½®è·¯ç”±ç®¡ç†å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é…ç½®-redux" class="router-link-active router-link-exact-active toc-link level2">é…ç½® Redux</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å­—ä½“å›¾æ ‡çš„åŸºæœ¬ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level2">å­—ä½“å›¾æ ‡çš„åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°è£…-svg-å›¾æ ‡å°ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">å°è£… svg å›¾æ ‡å°ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç§»åŠ¨ç«¯-1px-åƒç´ è¾¹æ¡†" class="router-link-active router-link-exact-active toc-link level2">ç§»åŠ¨ç«¯ 1px åƒç´ è¾¹æ¡†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶-å°è£…" class="router-link-active router-link-exact-active toc-link level2">å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶-å°è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#è¡¨å•åŸºæœ¬ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">è¡¨å•åŸºæœ¬ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å®ç°èƒ½æ˜¾ç¤ºé¢å¤–å†…å®¹çš„inputç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">å®ç°èƒ½æ˜¾ç¤ºé¢å¤–å†…å®¹çš„Inputç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç™»å½•é¡µé¢çš„é™æ€ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">ç™»å½•é¡µé¢çš„é™æ€ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç™»å½•è¡¨å•çš„æ•°æ®ç»‘å®š" class="router-link-active router-link-exact-active toc-link level2">ç™»å½•è¡¨å•çš„æ•°æ®ç»‘å®š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯-åŸºæœ¬" class="router-link-active router-link-exact-active toc-link level2">ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯-åŸºæœ¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯" class="router-link-active router-link-exact-active toc-link level2">ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åˆæ­¥å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—" class="router-link-active router-link-exact-active toc-link level2">åˆæ­¥å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å‘é€æ‰‹æœºéªŒè¯ç " class="router-link-active router-link-exact-active toc-link level2">å‘é€æ‰‹æœºéªŒè¯ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½" class="router-link-active router-link-exact-active toc-link level2">éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level2">å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#userefé«˜çº§ç”¨æ³•" class="router-link-active router-link-exact-active toc-link level2">useRefé«˜çº§ç”¨æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç™»å½•å¹¶è·å–-token" class="router-link-active router-link-exact-active toc-link level2">ç™»å½•å¹¶è·å– Token</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ä¿å­˜-token-åˆ°-redux" class="router-link-active router-link-exact-active toc-link level2">ä¿å­˜ Token åˆ° Redux</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#æç¤ºæ¶ˆæ¯ä¼˜åŒ–" class="router-link-active router-link-exact-active toc-link level2">æç¤ºæ¶ˆæ¯ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ä¿å­˜-token-åˆ°æœ¬åœ°ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level2">ä¿å­˜ Token åˆ°æœ¬åœ°ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åŠ è½½ç¼“å­˜çš„-token-æ¥åˆå§‹åŒ–-redux" class="router-link-active router-link-exact-active toc-link level2">åŠ è½½ç¼“å­˜çš„ Token æ¥åˆå§‹åŒ– Redux</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#redux-åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸ç”¨æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level2">Redux åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸ç”¨æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ -token-è¯·æ±‚å¤´" class="router-link-active router-link-exact-active toc-link level2">ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ  Token è¯·æ±‚å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å®ç°åº•éƒ¨-tab-å¸ƒå±€" class="router-link-active router-link-exact-active toc-link level2">å®ç°åº•éƒ¨ tab å¸ƒå±€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åˆ›å»º-tab-æŒ‰é’®é¡µé¢å¹¶é…ç½®åµŒå¥—è·¯ç”±" class="router-link-active router-link-exact-active toc-link level2">åˆ›å»º tab æŒ‰é’®é¡µé¢å¹¶é…ç½®åµŒå¥—è·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#åˆ›å»ºå…¶ä»–åŠŸèƒ½é¡µé¢å¹¶é…ç½®è·¯ç”±" class="router-link-active router-link-exact-active toc-link level2">åˆ›å»ºå…¶ä»–åŠŸèƒ½é¡µé¢å¹¶é…ç½®è·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ä¸ªäººä¸­å¿ƒä¸»é¡µçš„é™æ€ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">ä¸ªäººä¸­å¿ƒä¸»é¡µçš„é™æ€ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#è¯·æ±‚ä¸ªäººåŸºæœ¬ä¿¡æ¯" class="router-link-active router-link-exact-active toc-link level2">è¯·æ±‚ä¸ªäººåŸºæœ¬ä¿¡æ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥-redux" class="router-link-active router-link-exact-active toc-link level2">å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥ Redux</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯æ¸²æŸ“åˆ°ç•Œé¢" class="router-link-active router-link-exact-active toc-link level2">å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯æ¸²æŸ“åˆ°ç•Œé¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ä¸ªäººè¯¦æƒ…é¡µé¢çš„é™æ€ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">ä¸ªäººè¯¦æƒ…é¡µé¢çš„é™æ€ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#è¯·æ±‚ä¸ªäººè¯¦æƒ…" class="router-link-active router-link-exact-active toc-link level2">è¯·æ±‚ä¸ªäººè¯¦æƒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°†ä¸ªäººè¯¦æƒ…å­˜å…¥-redux" class="router-link-active router-link-exact-active toc-link level2">å°†ä¸ªäººè¯¦æƒ…å­˜å…¥ Redux</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°†ä¸ªäººè¯¦æƒ…æ¸²æŸ“åˆ°ç•Œé¢" class="router-link-active router-link-exact-active toc-link level2">å°†ä¸ªäººè¯¦æƒ…æ¸²æŸ“åˆ°ç•Œé¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-ä»‹ç»" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ç»„ä»¶åŸºæœ¬ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ç»„ä»¶åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editinputç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-EditInputç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-navbarç»„ä»¶ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-navBarç»„ä»¶ä¿®æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-åŒæ—¶æ§åˆ¶æ˜µç§°å’Œç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-åŒæ—¶æ§åˆ¶æ˜µç§°å’Œç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å°è£…åŒ…å«å­—æ•°ç»Ÿè®¡çš„textarea" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å°è£…åŒ…å«å­—æ•°ç»Ÿè®¡çš„TextArea</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ˜µç§°å’Œç®€ä»‹çš„å›æ˜¾" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ˜µç§°å’Œç®€ä»‹çš„å›æ˜¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ˜µç§°å’Œç®€ä»‹çš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆæ˜µç§°å’Œç®€ä»‹çš„ä¿®æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å‡†å¤‡æ€§åˆ«å’Œå¤´åƒçš„æŠ½å±‰ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å‡†å¤‡æ€§åˆ«å’Œå¤´åƒçš„æŠ½å±‰ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editlistç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-EditListç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ§åˆ¶æ˜¾ç¤º" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ§åˆ¶æ˜¾ç¤º</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ä¸Šçš„åˆ—è¡¨ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šæŠ½å±‰ä¸Šçš„åˆ—è¡¨ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ€§åˆ«çš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆæ€§åˆ«çš„ä¿®æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆå¤´åƒçš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆå¤´åƒçš„ä¿®æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆç”Ÿæ—¥çš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆç”Ÿæ—¥çš„ä¿®æ”¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#èŠå¤©å®¢æœ-å°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">èŠå¤©å®¢æœï¼šå°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#èŠå¤©å®¢æœ-åŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨" class="router-link-active router-link-exact-active toc-link level2">èŠå¤©å®¢æœï¼šåŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#èŠå¤©å®¢æœ-å»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥" class="router-link-active router-link-exact-active toc-link level2">èŠå¤©å®¢æœï¼šå»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#èŠå¤©å®¢æœ-ç»™æœºå™¨äººå‘æ¶ˆæ¯" class="router-link-active router-link-exact-active toc-link level2">èŠå¤©å®¢æœï¼šç»™æœºå™¨äººå‘æ¶ˆæ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#èŠå¤©å®¢æœ-æ¥æ”¶æœºå™¨äººå›å¤çš„æ¶ˆæ¯" class="router-link-active router-link-exact-active toc-link level2">èŠå¤©å®¢æœï¼šæ¥æ”¶æœºå™¨äººå›å¤çš„æ¶ˆæ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#é€€å‡ºç™»å½•" class="router-link-active router-link-exact-active toc-link level2">é€€å‡ºç™»å½•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å¤„ç†ç™»å½•åçš„é¡µé¢è·³è½¬" class="router-link-active router-link-exact-active toc-link level2">å¤„ç†ç™»å½•åçš„é¡µé¢è·³è½¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#token-çš„å¤±æ•ˆå¤„ç†å’Œæ— æ„Ÿåˆ·æ–°" class="router-link-active router-link-exact-active toc-link level2">Token çš„å¤±æ•ˆå¤„ç†å’Œæ— æ„Ÿåˆ·æ–°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#å°è£…é‰´æƒè·¯ç”±ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">å°è£…é‰´æƒè·¯ç”±ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/react%E8%AF%BE%E7%A8%8B/05-react-%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E6%9E%81%E5%AE%A2%E5%9B%AD%E7%A7%BB%E5%8A%A8%E7%AB%AF1.html#_404-é”™è¯¯é¡µé¢" class="router-link-active router-link-exact-active toc-link level2">404 é”™è¯¯é¡µé¢</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹" tabindex="-1"><a class="header-anchor" href="#ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹" aria-hidden="true">#</a> ã€Šæå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®1ã€‹</h1><h1 id="é¡¹ç›®æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®æ¦‚è¿°" aria-hidden="true">#</a> é¡¹ç›®æ¦‚è¿°</h1><h2 id="é¡¹ç›®ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®ä»‹ç»" aria-hidden="true">#</a> é¡¹ç›®ä»‹ç»</h2><blockquote><p>ã€Œæå®¢å›­ã€å¯¹æ ‡<code>CSDN</code>ã€<code>åšå®¢å›­</code>ç­‰ç«å“ï¼Œè‡´åŠ›æˆä¸ºæ›´åŠ è´´è¿‘å¹´è½» IT ä»ä¸šè€…ï¼ˆå­¦å‘˜ï¼‰çš„ç§‘æŠ€èµ„è®¯ç±»åº”ç”¨<br> äº§å“å…³é”®è¯ï¼šITã€æå®¢ã€æ´»åŠ›ã€ç§‘æŠ€ã€æŠ€æœ¯åˆ†äº«ã€å‰æ²¿åŠ¨æ€ã€å†…å®¹ç¤¾äº¤<br> ç”¨æˆ·ç‰¹ç‚¹ï¼šå¹´è½»æœ‰æ´»åŠ›ï¼Œå¯¹ITé¢†åŸŸå‰è¨€ç§‘æŠ€ä¿¡æ¯å……æ»¡æ¢ç´¢æ¬²å’Œå­¦ä¹ çƒ­æƒ…</p></blockquote><hr><h2 id="åŠŸèƒ½æ¼”ç¤º" tabindex="-1"><a class="header-anchor" href="#åŠŸèƒ½æ¼”ç¤º" aria-hidden="true">#</a> åŠŸèƒ½æ¼”ç¤º</h2><blockquote><p>ç›®æ ‡ï¼šäº†è§£æå®¢å›­ç§»åŠ¨ç«¯é¡¹ç›®çš„ä¸»è¦ç•Œé¢å¸ƒå±€å’Œæœ¬è¯¾ç¨‹ä¸­éœ€è¦å®ç°çš„åŠŸèƒ½ç‚¹</p></blockquote><p>å®Œæ•´çš„å¯æ¼”ç¤ºä»£ç ï¼Œåœ¨å‘æ”¾èµ„æ–™ä¸­çš„ <code>èµ„æº &gt; ready &gt; geek-park</code> ç›®å½•ä¸‹ã€‚</p><p>ä»£ç å¯åŠ¨æ–¹å¼å¦‚ä¸‹ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># å®‰è£…ä¾èµ–åŒ…</span>
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># å¯åŠ¨</span>
<span class="token function">npm</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210830114836045.png" alt="image-20210830114836045" style="zoom:50%;"><hr><h2 id="é¡¹ç›®æŠ€æœ¯æ ˆ" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®æŠ€æœ¯æ ˆ" aria-hidden="true">#</a> é¡¹ç›®æŠ€æœ¯æ ˆ</h2><blockquote><p>ç›®æ ‡ï¼šäº†è§£å¼€å‘æœ¬é¡¹ç›®æ‰€è¦ä½¿ç”¨çš„å„ç±»æ¡†æ¶ã€åº“</p></blockquote><ul><li><p>è„šæ‰‹æ¶å·¥å…·ï¼š<code>create-react-app</code></p></li><li><p>ç»„ä»¶ç¼–å†™æ–¹å¼ï¼š <code>å‡½æ•°ç»„ä»¶</code> + <code>Hooks</code></p></li><li><p>è·¯ç”±ç»„ä»¶åº“ï¼š<code>react-router-dom</code></p></li><li><p>å…¨å±€çŠ¶æ€åº“ï¼š<code>redux + redux-thunk</code></p></li><li><p>ç½‘ç»œè¯·æ±‚åº“ï¼š<code>axios</code></p></li><li><p>UIç»„ä»¶åº“ï¼š<code>antd-mobile</code>ã€ä»¥åŠä¸€äº›ç”¨æ¥å®ç°ç‰¹å®šåŠŸèƒ½çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼ˆå¦‚ï¼š<code>formik</code>ã€<code>react-content-loader</code>ã€<code>react-window-infinite-loader</code> ç­‰ï¼‰</p></li></ul><h1 id="é¡¹ç›®å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®å‡†å¤‡" aria-hidden="true">#</a> é¡¹ç›®å‡†å¤‡</h1><h2 id="åˆ›å»ºæ–°é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ–°é¡¹ç›®" aria-hidden="true">#</a> åˆ›å»ºæ–°é¡¹ç›®</h2><blockquote><p>ç›®æ ‡ï¼šä½¿ç”¨è„šæ‰‹æ¶å‘½ä»¤åˆ›æ–°é¡¹ç›®</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºé¡¹ç›®</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>create-react-app geek-park
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>ä¿®æ”¹é¡µé¢æ¨¡æ¿ <code>public/index.html</code> ä¸­çš„é¡µé¢æ ‡é¢˜</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æå®¢å›­ App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>åˆ é™¤ <code>src</code> ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶</li><li>æ–°å¢æ–‡ä»¶</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/src
  /assets         é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚ï¼Œå›¾ç‰‡ ç­‰
  /components     é€šç”¨ç»„ä»¶
  /pages          é¡µé¢
  /utils          å·¥å…·ï¼Œæ¯”å¦‚ï¼Œtokenã€axios çš„å°è£…ç­‰
  App.js          æ ¹ç»„ä»¶
  index.scss      å…¨å±€æ ·å¼
  index.js        é¡¹ç›®å…¥å£
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å…¬ç”¨æ ·å¼" tabindex="-1"><a class="header-anchor" href="#å…¬ç”¨æ ·å¼" aria-hidden="true">#</a> å…¬ç”¨æ ·å¼</h2><blockquote><p>ç›®æ ‡ï¼šå°†æœ¬é¡¹ç›®è¦ç”¨çš„å…¬ç”¨æ ·å¼æ–‡ä»¶æ”¾å…¥åˆé€‚çš„ç›®å½•ï¼Œå¹¶è°ƒç”¨</p></blockquote><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>ã€é‡è¦è¯´æ˜ã€‘
åœ¨æœ¬è¯¾ç¨‹å‘æ”¾çš„èµ„æ–™ä¸­ï¼Œæœ‰ä¸ª <span class="token code-snippet code keyword">`èµ„æº &gt; srcä»£ç æ–‡ä»¶ &gt; assets`</span> ç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ç€å…¬ç”¨æ ·å¼æ–‡ä»¶å’Œå›¾ç‰‡èµ„æºï¼Œå¯ç›´æ¥å¤åˆ¶åˆ°ä½ çš„ä»£ç ä¸­ä½¿ç”¨ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li><p>å°†ä¸Šé¢æåˆ°çš„<code>assets</code>ç›®å½•ï¼Œç›´æ¥æ‹·è´åˆ°æ–°é¡¹ç›®çš„ <code>src</code> ç›®å½•ä¸‹</p></li><li><p>åœ¨ä¸»å…¥å£ <code>index.js</code> ä¸­å¯¼å…¥å…¬ç”¨æ ·å¼æ–‡ä»¶</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;./assets/styles/index.scss&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="é…ç½®-sass-æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#é…ç½®-sass-æ”¯æŒ" aria-hidden="true">#</a> é…ç½® SASS æ”¯æŒ</h2><blockquote><p>ç›®æ ‡ï¼šè®©é¡¹ç›®æ ·å¼æ”¯æŒä½¿ç”¨ SASS/SCSS è¯­æ³•ç¼–å†™</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>sass</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> sass --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="é…ç½®-ui-ç»„ä»¶åº“" tabindex="-1"><a class="header-anchor" href="#é…ç½®-ui-ç»„ä»¶åº“" aria-hidden="true">#</a> é…ç½® UI ç»„ä»¶åº“</h2><blockquote><p>ç›®æ ‡ï¼šå®‰è£…æœ¬é¡¹ç›®ä½¿ç”¨çš„ UI ç»„ä»¶åº“ Ant Design Mobileï¼Œå¹¶é€šè¿‡ Babel æ’ä»¶å®ç°æŒ‰éœ€åŠ è½½</p></blockquote><p><a href="https://mobile.ant.design/index-cn" target="_blank" rel="noopener noreferrer">https://mobile.ant.design/index-cn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>antd-mobile</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> antd-mobile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>å¯¼å…¥æ ·å¼</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;antd-mobile/dist/antd-mobile.css&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>ä½¿ç”¨ç»„ä»¶</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Toast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;antd-mobile&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&#39;Load success !!!&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        default disabled
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="antd-æŒ‰éœ€åŠ è½½" tabindex="-1"><a class="header-anchor" href="#antd-æŒ‰éœ€åŠ è½½" aria-hidden="true">#</a> antd-æŒ‰éœ€åŠ è½½</h2><blockquote><p><a href="https://mobile.ant.design/docs/react/use-with-create-react-app-cn" target="_blank" rel="noopener noreferrer">https://mobile.ant.design/docs/react/use-with-create-react-app-cn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>craco</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <a href="https://github.com/arackaf/customize-cra/blob/HEAD/api.md" target="_blank" rel="noopener noreferrer">customize-cra<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥æ·»åŠ å’Œè¦†ç›–è„šæ‰‹æ¶çš„ webpack é…ç½®</li><li>ä½¿ç”¨ <code>react-app-rewired</code> æ¥æ‰“åŒ…å’Œè¿è¡Œä»£ç </li></ul><ul><li>ä½¿ç”¨ babel-plugin-import, <a href="https://github.com/ant-design/babel-plugin-import" target="_blank" rel="noopener noreferrer">babel-plugin-import<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ˜¯ä¸€ä¸ªç”¨äºæŒ‰éœ€åŠ è½½ç»„ä»¶ä»£ç å’Œæ ·å¼çš„ babel æ’ä»¶</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>customize-cra</code> å’Œ <code>react-app-rewired</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> customize-cra react-app-rewired babel-plugin-import -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º <code>config-overrides.js</code>ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> fixBabelImports <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;customize-cra&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºè¦è¿›è¡Œè¦†ç›–çš„ webpack é…ç½®</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
  <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">&#39;import&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">&#39;antd-mobile&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&#39;css&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ä¿®æ”¹å¯åŠ¨å‘½ä»¤</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired start&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired test&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åˆ é™¤index.jsçš„æ ·å¼å¯¼å…¥</li></ol><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import &#39;antd-mobile/dist/antd-mobile.css&#39;
</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>é‡å¯é¡¹ç›®æµ‹è¯•</li></ol><h2 id="é…ç½®å¿«æ·è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#é…ç½®å¿«æ·è·¯å¾„" aria-hidden="true">#</a> é…ç½®å¿«æ·è·¯å¾„ @</h2><blockquote><p>ç›®æ ‡ï¼šè®©ä»£ç ä¸­æ”¯æŒä»¥ <code>@/xxxx</code> å½¢å¼çš„è·¯å¾„æ¥å¯¼å…¥æ–‡ä»¶</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º <code>config-overrides.js</code>ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">,</span> addWebpackAlias <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;customize-cra&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> babelPlugins <span class="token operator">=</span> <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">&#39;import&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">&#39;antd-mobile&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&#39;css&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackAlias <span class="token operator">=</span> <span class="token function">addWebpackAlias</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;@scss&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;styles&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºè¦è¿›è¡Œè¦†ç›–çš„ webpack é…ç½®</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>babelPlugins<span class="token punctuation">,</span> webpackAlias<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º <code>jsconfig.json</code>ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œä¸ºäº†è·¯å¾„æœ‰æç¤º</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;@scss/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/assets/styles/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®è§†å£å•ä½æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#é…ç½®è§†å£å•ä½æ’ä»¶" aria-hidden="true">#</a> é…ç½®è§†å£å•ä½æ’ä»¶</h2><blockquote><p>ç›®æ ‡ï¼šé€šè¿‡ webpack æ’ä»¶å°† px å•ä½è‡ªåŠ¨è½¬æ¢æˆè§†å£é•¿åº¦å•ä½ vw/vhï¼Œå®ç°é¡µé¢å¯¹ä¸åŒå±å¹•çš„è‡ªåŠ¨é€‚é…</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><p>ä½¿ç”¨ <code>postcss-px-to-viewport</code> æ’ä»¶ï¼Œå¯è®©æˆ‘ä»¬ç›´æ¥åœ¨ä»£ç ä¸­æŒ‰è®¾è®¡ç¨¿çš„ px å€¼æ¥ç¼–å†™å…ƒç´ å°ºå¯¸ï¼Œå®ƒä»¬æœ€ç»ˆä¼šè‡ªåŠ¨è½¬æ¢æˆ vw/vh é•¿åº¦å•ä½ã€‚</p><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>postcss-px-to-viewport</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> postcss-px-to-viewport -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>config-overrides.js</code> ä¸­æ·»åŠ é…ç½®ä»£ç ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> addWebpackAlias<span class="token punctuation">,</span> addPostcssPlugins <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;customize-cra&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> px2viewport <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-px-to-viewport&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// é…ç½®è·¯å¾„åˆ«å</span>
<span class="token comment">// ...</span>

<span class="token comment">// é…ç½® PostCSS æ ·å¼è½¬æ¢æ’ä»¶</span>
<span class="token keyword">const</span> postcssPlugins <span class="token operator">=</span> <span class="token function">addPostcssPlugins</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token comment">// ç§»åŠ¨ç«¯å¸ƒå±€ viewport é€‚é…æ–¹æ¡ˆ</span>
  <span class="token function">px2viewport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// è§†å£å®½åº¦ï¼šå¯ä»¥è®¾ç½®ä¸ºè®¾è®¡ç¨¿çš„å®½åº¦</span>
    <span class="token literal-property property">viewportWidth</span><span class="token operator">:</span> <span class="token number">375</span><span class="token punctuation">,</span>
    <span class="token comment">// ç™½åå•ï¼šä¸éœ€å¯¹å…¶ä¸­çš„ px å•ä½è½¬æˆ vw çš„æ ·å¼ç±»ç±»å</span>
    <span class="token comment">// selectorBlackList: [&#39;.ignore&#39;, &#39;.hairlines&#39;]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºè¦è¿›è¡Œè¦†ç›–çš„ webpack é…ç½®</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>alias<span class="token punctuation">,</span> postcssPlugins<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®è·¯ç”±ç®¡ç†å™¨" tabindex="-1"><a class="header-anchor" href="#é…ç½®è·¯ç”±ç®¡ç†å™¨" aria-hidden="true">#</a> é…ç½®è·¯ç”±ç®¡ç†å™¨</h2><blockquote><p>ç›®æ ‡ï¼šå®‰è£… react-router-domï¼Œåˆ›å»º App æ ¹ç»„ä»¶å¹¶åœ¨è¯¥ç»„ä»¶ä¸­é…ç½®è·¯ç”±</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>react-router-dom</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> react-router-dom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åˆ›å»ºä¸¤ä¸ªç»„ä»¶</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pages/Home/index.js
pages/Login/index.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åˆ›å»º <code>App.js</code>ï¼Œç¼–å†™æ ¹ç»„ä»¶ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span>
  Route<span class="token punctuation">,</span>
  Switch<span class="token punctuation">,</span>
  Redirect<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./App.scss&#39;</span>
<span class="token keyword">const</span> Login <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Home <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Home&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Link to=&quot;/login&quot;&gt;ç™»å½•&lt;/Link&gt;
        &lt;Link to=&quot;/home&quot;&gt;é¦–é¡µ&lt;/Link&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Redirect</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®-redux" tabindex="-1"><a class="header-anchor" href="#é…ç½®-redux" aria-hidden="true">#</a> é…ç½® Redux</h2><blockquote><p>ç›®æ ‡ï¼šå®‰è£… <code>redux</code> å’Œ <code>redux-thunk</code> ç›¸å…³çš„ä¾èµ–åŒ…ï¼Œå¹¶åˆ›å»º Redux Store å®ä¾‹åå…³è”åˆ°åº”ç”¨ä¸Š</p></blockquote><p>æ‰€è¦ç”¨åˆ°çš„ä¾èµ–åŒ…ï¼š</p><ul><li>redux</li><li>react-redux</li><li>redux-thunk</li><li>redux-devtools-extension</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£…ä¾èµ–åŒ…</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> redux react-redux redux-thunk redux-devtools-extension
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li><p>åˆ›å»º <code>store</code> ç›®å½•åŠå®ƒçš„å­ç›®å½• <code>actions</code>ã€<code>reducers</code>ï¼Œä¸“é—¨å­˜æ”¾ redux ç›¸å…³ä»£ç </p></li><li><p>åˆ›å»º <code>store/reducers/index.js</code>ï¼Œç”¨æ¥ä½œä¸ºç»„åˆæ‰€æœ‰ reducers çš„ä¸»å…¥å£ï¼š</p></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>

<span class="token comment">// ç»„åˆå„ä¸ª reducer å‡½æ•°ï¼Œæˆä¸ºä¸€ä¸ªæ ¹ reducer</span>
<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ä¸€ä¸ªæµ‹è¯•ç”¨çš„ reducerï¼Œé¿å…è¿è¡Œæ—¶å› æ²¡æœ‰ reducer è€ŒæŠ¥é”™</span>
  <span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span>

  <span class="token comment">// åœ¨è¿™é‡Œé…ç½®æœ‰æ‰€çš„ reducer ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºæ ¹ reducer</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> rootReducer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åˆ›å»º <code>store/index.js</code>ï¼Œç¼–å†™ Redux Store å®ä¾‹ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> composeWithDevTools <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux-devtools-extension&#39;</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">&#39;redux-thunk&#39;</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span>

<span class="token comment">// åˆ›å»º Store å®ä¾‹</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  <span class="token comment">// å‚æ•°ä¸€ï¼šæ ¹ reducer</span>
  rootReducer<span class="token punctuation">,</span>

  <span class="token comment">// å‚æ•°äºŒï¼šåˆå§‹åŒ–æ—¶è¦åŠ è½½çš„çŠ¶æ€</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// å‚æ•°ä¸‰ï¼šå¢å¼ºå™¨</span>
  <span class="token function">composeWithDevTools</span><span class="token punctuation">(</span>
    <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡º Store å®ä¾‹</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>åœ¨ä¸»å…¥å£ <code>index.js</code> ä¸­ï¼Œé…ç½® Redux Provider</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token string">&#39;@scss/index.scss&#39;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;@/store&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ç™»å½•é¡µé¢" tabindex="-1"><a class="header-anchor" href="#ç™»å½•é¡µé¢" aria-hidden="true">#</a> ç™»å½•é¡µé¢</h1><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210906163210003.png" alt="image-20210906163210003" loading="lazy"></p><h2 id="å­—ä½“å›¾æ ‡çš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å­—ä½“å›¾æ ‡çš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> å­—ä½“å›¾æ ‡çš„åŸºæœ¬ä½¿ç”¨</h2><ol><li>å¦‚æœä½¿ç”¨classç±»åçš„æ–¹å¼ï¼Œå½©è‰²å›¾æ ‡æ— æ³•ç”Ÿæ•ˆ</li><li>å¯ä»¥é€šè¿‡jsçš„æ–¹å¼æ¥ä½¿ç”¨å›¾æ ‡</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. å¼•å…¥js
&lt;script src=&quot;//at.alicdn.com/t/font_2791161_ymhdfblw14.js&quot;&gt;&lt;/script&gt;

2. æ ·å¼
/* å­—ä½“å›¾æ ‡ */
.icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}


3. ä½¿ç”¨
&lt;svg className=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;
  &lt;use xlinkHref=&quot;#icon-mianxingfeizhunan&quot;&gt;&lt;/use&gt;
&lt;/svg&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å°è£…-svg-å›¾æ ‡å°ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å°è£…-svg-å›¾æ ‡å°ç»„ä»¶" aria-hidden="true">#</a> å°è£… svg å›¾æ ‡å°ç»„ä»¶</h2><blockquote><p><a href="//at.alicdn.com/t/font_2503709_f4q9dl3hktl.js" target="_blank" rel="noopener noreferrer">//at.alicdn.com/t/font_2503709_f4q9dl3hktl.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><blockquote><p>ç›®æ ‡ï¼šå®ç°ä¸€ä¸ªç”¨äºåœ¨é¡µé¢ä¸Šæ˜¾ç¤º svg å°å›¾æ ‡çš„ç»„ä»¶ï¼Œæ–¹ä¾¿åç»­å¼€å‘ä¸­ä¸ºç•Œé¢æ·»åŠ å°å›¾æ ‡</p></blockquote><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210905204352596.png" alt="image-20210905204352596" loading="lazy"></p><p>å®ç°æ€è·¯ï¼š</p><ul><li>åœ¨ç»„ä»¶ä¸­ï¼Œè¾“å‡ºä¸€æ®µä½¿ç”¨ <code>&lt;use&gt;</code> æ ‡ç­¾å¼•ç”¨äº‹å…ˆå‡†å¤‡å¥½çš„ SVG å›¾ç‰‡èµ„æºçš„ <code>&lt;svg&gt;</code> ä»£ç </li><li>ç»„ä»¶éœ€è¦ä¼ å…¥ SVG å›¾ç‰‡çš„åå­—ï¼Œç”¨æ¥æ˜¾ç¤ºä¸åŒçš„å›¾æ ‡</li><li>ç»„ä»¶å¯ä»¥è®¾ç½®é¢å¤–çš„æ ·å¼ç±»åã€åŠç‚¹å‡»äº‹ä»¶ç›‘å¬</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>classnames</code> ï¼Œè¾…åŠ©ç»„ä»¶çš„å¼€å‘</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> classnames
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>public/index.html</code> ä¸­å¼•å…¥ svg å›¾æ ‡èµ„æºï¼š</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//at.alicdn.com/t/font_2503709_f4q9dl3hktl.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>åˆ›å»º <code>components/Icon/index.js</code> ï¼Œç¼–å†™å›¾æ ‡ç»„ä»¶ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">&#39;classnames&#39;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&#39;prop-types&#39;</span>
<span class="token comment">// ``</span>
<span class="token keyword">function</span> <span class="token function">Icon</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> type<span class="token punctuation">,</span> className<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span> className<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name">xlinkHref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Icon<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Icon

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æµ‹è¯•ç»„ä»¶ï¼Œç¡®è®¤èƒ½å¦æ­£ç¡®æ˜¾ç¤ºå‡ºå›¾æ ‡</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> 
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_share<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test-icon<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;clicked&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> 
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶" aria-hidden="true">#</a> å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶</h2><ul><li>åŸºç¡€ç»“æ„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">&#39;@/components/Icon&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åé€€æŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfanhui<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* å±…ä¸­æ ‡é¢˜ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘æ˜¯æ ‡é¢˜</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* å³ä¾§å†…å®¹ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å³ä¾§å†…å®¹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ ·å¼</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">.</span>root <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 46px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token comment">// padding: 0 42px;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
  border<span class="token operator">-</span>bottom<span class="token operator">:</span> 1px solid #ccc<span class="token punctuation">;</span>

  <span class="token operator">:</span>global <span class="token punctuation">{</span>
    <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
      <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span> 12px <span class="token number">0</span> 16px<span class="token punctuation">;</span>
      line<span class="token operator">-</span>height<span class="token operator">:</span> 46px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>icon <span class="token punctuation">{</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 16px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
      <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">323233</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">;</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 16px<span class="token punctuation">;</span>
      text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
      padding<span class="token operator">-</span>right<span class="token operator">:</span> 16px<span class="token punctuation">;</span>
      <span class="token comment">// position: absolute;</span>
      <span class="token comment">// right: 16px;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç§»åŠ¨ç«¯-1px-åƒç´ è¾¹æ¡†" tabindex="-1"><a class="header-anchor" href="#ç§»åŠ¨ç«¯-1px-åƒç´ è¾¹æ¡†" aria-hidden="true">#</a> ç§»åŠ¨ç«¯ 1px åƒç´ è¾¹æ¡†</h2><ul><li><a href="https://github.com/ant-design/ant-design-mobile/blob/v2/components/style/mixins/hairline.less" target="_blank" rel="noopener noreferrer">å‚è€ƒ antd-mobile çš„å®ç°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://juejin.cn/post/6994196887402184734" target="_blank" rel="noopener noreferrer">å®ç°æ–¹å¼å‚è€ƒ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å®ç°åŸç†ï¼š<strong>ä¼ªå…ƒç´  + transform ç¼©æ”¾</strong><ul><li>ä¼ªå…ƒç´ <code>::after</code>æˆ–<code>::before</code>ç‹¬ç«‹äºå½“å‰å…ƒç´ ï¼Œå¯ä»¥å•ç‹¬å¯¹å…¶ç¼©æ”¾è€Œä¸å½±å“å…ƒç´ æœ¬èº«çš„ç¼©æ”¾</li></ul></li></ul><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">// src/assets/styles/hairline.scss</span>

<span class="token keyword">@mixin</span> <span class="token function">scale-hairline-common</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">,</span> <span class="token variable">$top</span><span class="token punctuation">,</span> <span class="token variable">$right</span><span class="token punctuation">,</span> <span class="token variable">$bottom</span><span class="token punctuation">,</span> <span class="token variable">$left</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> <span class="token variable">$top</span><span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> <span class="token variable">$right</span><span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token variable">$bottom</span><span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token variable">$left</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$color</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ·»åŠ è¾¹æ¡†</span>
<span class="token comment">/* 
  ç”¨æ³•ï¼š

  // å¯¼å…¥
  @import &#39;@scss/hairline.scss&#39;;

  // åœ¨ç±»ä¸­ä½¿ç”¨
  .a {
    @include hairline(bottom, #f0f0f0);
  }
*/</span>
<span class="token keyword">@mixin</span> <span class="token function">hairline</span><span class="token punctuation">(</span><span class="token variable">$direction</span><span class="token punctuation">,</span> <span class="token property"><span class="token variable">$color</span></span><span class="token punctuation">:</span> #000<span class="token punctuation">,</span> <span class="token property"><span class="token variable">$radius</span></span><span class="token punctuation">:</span> 0<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$direction</span> == top </span><span class="token punctuation">{</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>

    <span class="token comment">// min-resolution ç”¨æ¥æ£€æµ‹è®¾å¤‡çš„æœ€å°åƒç´ å¯†åº¦</span>
    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
      <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
        <span class="token keyword">@include</span> <span class="token function">scale-hairline-common</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">,</span> 0<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 3dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$direction</span> == right </span><span class="token punctuation">{</span>
    <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
      <span class="token property">border-right</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
        <span class="token keyword">@include</span> <span class="token function">scale-hairline-common</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> auto<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$color</span><span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 100% 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 3dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$direction</span> == bottom </span><span class="token punctuation">{</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
      <span class="token property">border-bottom</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
        <span class="token keyword">@include</span> <span class="token function">scale-hairline-common</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">,</span> auto<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% 100%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 3dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$direction</span> == left </span><span class="token punctuation">{</span>
    <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
      <span class="token property">border-left</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
        <span class="token keyword">@include</span> <span class="token function">scale-hairline-common</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">,</span> 0<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> auto<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 100% 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 3dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$direction</span> == all </span><span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token variable">$radius</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-resolution</span><span class="token punctuation">:</span> 2dppx<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token variable">$radius</span> <span class="token operator">*</span> 2<span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç§»é™¤è¾¹æ¡†</span>
<span class="token keyword">@mixin</span> <span class="token function">hairline-remove</span><span class="token punctuation">(</span><span class="token property"><span class="token variable">$position</span></span><span class="token punctuation">:</span> all<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$position</span> == left </span><span class="token punctuation">{</span>
    <span class="token property">border-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$position</span> == right </span><span class="token punctuation">{</span>
    <span class="token property">border-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$position</span> == top </span><span class="token punctuation">{</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$position</span> == bottom </span><span class="token punctuation">{</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$position</span> == all </span><span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::before </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token parent important">&amp;</span>::after </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>éœ€è¦å¯¼å…¥è¿™ä¸ªscss</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å¯¼å…¥å¦ä¸€ä¸ªscssæ–‡ä»¶</span>
@<span class="token keyword">import</span> <span class="token string">&#39;@scss/hiarline.scss&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span>root <span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 46px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token comment">// padding: 0 42px;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
  <span class="token comment">// border-bottom: 1px solid red;</span>
  @include <span class="token function">hairline</span><span class="token punctuation">(</span><span class="token string">&#39;bottom&#39;</span><span class="token punctuation">,</span> red<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶-å°è£…" tabindex="-1"><a class="header-anchor" href="#å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶-å°è£…" aria-hidden="true">#</a> å®ç°é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶-å°è£…</h2><blockquote><p>ç›®æ ‡ï¼šå°è£…é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ˜¾ç¤ºé¡µé¢æ ‡é¢˜ã€åé€€æŒ‰é’®ã€åŠæ·»åŠ é¢å¤–çš„åŠŸèƒ½åŒºåŸŸ</p></blockquote><p>å›¾ä¾‹ä¸€ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831163053705.png" alt="image-20210831163053705" style="zoom:30%;"><p>å›¾ä¾‹äºŒï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831163126729.png" alt="image-20210831163126729" style="zoom:30%;"><p>å›¾ä¾‹ä¸‰ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831205954290.png" alt="image-20210831205954290" style="zoom:30%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>ç»„ä»¶å¸ƒå±€åˆ†ä¸ºï¼šå·¦ã€ä¸­ã€å³ä¸‰ä¸ªåŒºåŸŸ</li><li>å¯é€šè¿‡ç»„ä»¶å±æ€§ä¼ å…¥å†…å®¹ï¼Œå¡«å……ä¸­é—´å’Œå³è¾¹åŒºåŸŸ</li><li>å¯ä¸ºå·¦è¾¹çš„â€œåé€€â€æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>components/NavBar/index.js</code>ï¼Œå¹¶åœ¨è¯¥ç›®å½•æ‹·è´å…¥èµ„æºåŒ…ä¸­çš„æ ·å¼æ–‡ä»¶ï¼Œç„¶åç¼–å†™ç»„ä»¶ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">&#39;@/components/Icon&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router&#39;</span>
<span class="token comment">// import { withRouter } from &#39;react-router-dom&#39;</span>
<span class="token comment">// 1. withRouterçš„ä½¿ç”¨</span>
<span class="token comment">// history match location: è¿™ä¸ªç»„ä»¶å¿…é¡»æ˜¯é€šè¿‡è·¯ç”±é…ç½®çš„  &lt;Route&gt;&lt;/Route&gt;</span>
<span class="token comment">// è‡ªå·±æ¸²æŸ“çš„ç»„ä»¶ï¼Œæ— æ³•è·å–åˆ°è·¯ç”±ä¿¡æ¯  &lt;NavBar&gt;&lt;/NavBar&gt;</span>

<span class="token comment">// 2. è·¯ç”±æä¾›äº†å‡ ä¸ªå’Œè·¯ç”±ç›¸å…³çš„hook</span>
<span class="token comment">// useHistory  useLocation  useParams</span>
<span class="token keyword">function</span> <span class="token function">NavBar</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children<span class="token punctuation">,</span> extra <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·³å›ä¸Šä¸€é¡µ</span>
    history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åé€€æŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfanhui<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>back<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* å±…ä¸­æ ‡é¢˜ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* å³ä¾§å†…å®¹ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>extra<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> NavBar

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æµ‹è¯•ç»„ä»¶åŠŸèƒ½</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span>
  <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">rightContent</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å³ä¾§å†…å®¹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
  æ ‡é¢˜å†…å®¹
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831212932784.png" alt="image-20210831212932784" style="zoom:50%;"><hr><h2 id="è¡¨å•åŸºæœ¬ç»“æ„" tabindex="-1"><a class="header-anchor" href="#è¡¨å•åŸºæœ¬ç»“æ„" aria-hidden="true">#</a> è¡¨å•åŸºæœ¬ç»“æ„</h2><ul><li>ç»“æ„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* æ ‡é¢˜ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">çŸ­ä¿¡ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token comment">/* æ‰‹æœºå·è¾“å…¥æ¡† */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥æ‰‹æœºå·<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">autoComplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ‰‹æœºå·éªŒè¯é”™è¯¯ä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

          </span><span class="token punctuation">{</span><span class="token comment">/* çŸ­ä¿¡éªŒè¯ç è¾“å…¥æ¡† */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>code<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥éªŒè¯ç <span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">maxLength</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">autoComplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è·å–éªŒè¯ç </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">éªŒè¯ç éªŒè¯é”™è¯¯ä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

          </span><span class="token punctuation">{</span><span class="token comment">/* ç™»å½•æŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            ç™»å½•
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ ·å¼</li></ul><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code><span class="token keyword">@import</span> <span class="token string">&#39;@scss/hairline.scss&#39;</span><span class="token punctuation">;</span>
<span class="token selector">.root </span><span class="token punctuation">{</span>
  <span class="token selector">:global </span><span class="token punctuation">{</span>
    <span class="token selector">.iconfanhui </span><span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.content </span><span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 32px<span class="token punctuation">;</span>

      <span class="token selector">h3 </span><span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 30px 0<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">.input-item </span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>

        <span class="token selector"><span class="token parent important">&amp;</span>:first-child </span><span class="token punctuation">{</span>
          <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.input-box </span><span class="token punctuation">{</span>
          <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
          <span class="token keyword">@include</span> <span class="token function">hairline</span><span class="token punctuation">(</span>bottom<span class="token punctuation">,</span> #ccc<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token selector">.input </span><span class="token punctuation">{</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 58px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>

            <span class="token selector"><span class="token parent important">&amp;</span>::placeholder </span><span class="token punctuation">{</span>
              <span class="token property">color</span><span class="token punctuation">:</span> #a5a6ab<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.extra </span><span class="token punctuation">{</span>
            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
            <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
            <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> -8px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token selector">.validate </span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>

        <span class="token property">color</span><span class="token punctuation">:</span> #ee0a24<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">.login-btn </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>315deg<span class="token punctuation">,</span> #fe4f4f<span class="token punctuation">,</span> #fc6627<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.disabled </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>315deg<span class="token punctuation">,</span> #ff9999<span class="token punctuation">,</span> #ffa179<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®ç°èƒ½æ˜¾ç¤ºé¢å¤–å†…å®¹çš„inputç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å®ç°èƒ½æ˜¾ç¤ºé¢å¤–å†…å®¹çš„inputç»„ä»¶" aria-hidden="true">#</a> å®ç°èƒ½æ˜¾ç¤ºé¢å¤–å†…å®¹çš„Inputç»„ä»¶</h2><blockquote><p>ç›®æ ‡ï¼šå°†åŸç”Ÿçš„ input æ ‡ç­¾è¿›è¡Œå°è£…ï¼Œä½¿å¾—è¯¥ç»„ä»¶å¯åœ¨ input å³ä¾§æ”¾ç½®é¢å¤–å†…å®¹å…ƒç´ </p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831213942878.png" alt="image-20210831213942878" style="zoom:50%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>å·¦å³å¸ƒå±€ï¼šå·¦ä¾§<code>&lt;input&gt;</code> ï¼Œå³ä¾§æ˜¯ä¸€ä¸ªå¯è‡ªå®šä¹‰çš„å†…å®¹åŒºåŸŸ</li><li>å°†å°è£…çš„ç»„ä»¶ä¼ å…¥çš„å±æ€§ï¼Œå…¨éƒ¨ä¼ é€’åˆ° <code>&lt;input&gt;</code> æ ‡ç­¾ä¸Šï¼Œä½¿å¾—èƒ½å……åˆ†åˆ©ç”¨åŸæ ‡ç­¾çš„åŠŸèƒ½</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>components/Input/index.js</code>ï¼Œå¹¶åœ¨è¯¥ç›®å½•æ‹·è´å…¥èµ„æºåŒ…ä¸­çš„æ ·å¼æ–‡ä»¶ï¼Œç„¶åç¼–å†™ç»„ä»¶ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Input</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> extra<span class="token punctuation">,</span> onExtraClick<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>extra <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onExtraClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>extra<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ç™»å½•é¡µé¢çš„é™æ€ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ç™»å½•é¡µé¢çš„é™æ€ç»“æ„" aria-hidden="true">#</a> ç™»å½•é¡µé¢çš„é™æ€ç»“æ„</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°ç™»å½•é¡µçš„é¡µé¢é™æ€ç»“æ„å’Œæ ·å¼</p></blockquote><p>ç™»å½•é¡µé¢å¸ƒå±€åˆ†è§£ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831220941555.png" alt="image-20210831220941555" style="zoom:50%;"><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>ã€ç‰¹åˆ«è¯´æ˜ã€‘
æœ¬æ¡ˆä¾‹ä¸­ï¼Œè¡¨å•å°½é‡ä¸ä½¿ç”¨ antd-mobile ç»„ä»¶åº“é‡Œçš„è¡¨å•ç»„ä»¶æ¥å®ç°ï¼Œå› ä¸ºå®ƒçš„è¡¨å•ç»„ä»¶å¹¶ä¸å¥½ç”¨ï¼Œå°¤å…¶æ˜¯å½“è¦å®ç°è¡¨å•éªŒè¯æ—¶æ¯”è¾ƒéº»çƒ¦ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åŸç”Ÿçš„è¡¨å•æ ‡ç­¾æ¥å®ç°ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å°†èµ„æºåŒ…ä¸­ç™»å½•é¡µé¢çš„æ ·å¼æ–‡ä»¶æ‹·è´åˆ° <code>pages/Login</code>ç›®å½•ä¸­ï¼Œç„¶ååœ¨ <code>pages/Login/index.js</code> ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* å¯¼èˆªæ¡ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* å†…å®¹ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">çŸ­ä¿¡ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ‰‹æœºå·éªŒè¯é”™è¯¯ä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">éªŒè¯ç éªŒè¯é”™è¯¯ä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token comment">/* ç™»å½•æŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            ç™»å½•
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ç™»å½•è¡¨å•çš„æ•°æ®ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#ç™»å½•è¡¨å•çš„æ•°æ®ç»‘å®š" aria-hidden="true">#</a> ç™»å½•è¡¨å•çš„æ•°æ®ç»‘å®š</h2><blockquote><p>ç›®æ ‡ï¼šä¸ºç™»å½•è¡¨å•ä¸­çš„è¾“å…¥ç»„ä»¶è¿›è¡Œæ•°æ®ç»‘å®šï¼Œæ”¶é›†è¡¨å•æ•°æ®</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <code>formik</code> åº“è¿›è¡Œè¡¨å•çš„æ•°æ®ç»‘å®š</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>formik</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> formik
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>ä½¿ç”¨ <code>formik</code> åº“ä¸­æä¾›çš„ Hook å‡½æ•°åˆ›å»º formik è¡¨å•å¯¹è±¡</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useFormik <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;formik&#39;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Formik è¡¨å•å¯¹è±¡</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">useFormik</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// è®¾ç½®è¡¨å•å­—æ®µçš„åˆå§‹å€¼</span>
  <span class="token literal-property property">initialValues</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token string">&#39;13900001111&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;246810&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æäº¤</span>
  <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç»‘å®šè¡¨å•å…ƒç´ å’Œ formik è¡¨å•å¯¹è±¡</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥æ‰‹æœºå·<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>values<span class="token punctuation">.</span>mobile<span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>code<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥éªŒè¯ç <span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å‘é€éªŒè¯ç <span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">maxLength</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>values<span class="token punctuation">.</span>code<span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯-åŸºæœ¬" tabindex="-1"><a class="header-anchor" href="#ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯-åŸºæœ¬" aria-hidden="true">#</a> ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯-åŸºæœ¬</h2><ul><li>ç»™useFormikæä¾›validateå‡½æ•°è¿›è¡Œæ ¡éªŒ</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> formik <span class="token operator">=</span> <span class="token function">useFormik</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">initialValues</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å½“è¡¨å•æäº¤çš„æ—¶å€™ï¼Œä¼šè§¦å‘</span>
  <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> errors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      errors<span class="token punctuation">.</span>mobile <span class="token operator">=</span> <span class="token string">&#39;æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      errors<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token string">&#39;éªŒè¯ç ä¸èƒ½ä¸ºç©º&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> errors
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>éœ€è¦ç»™æ¯ä¸€ä¸ªè¡¨å•å…ƒç´ ç»‘å®šä¸€ä¸ªäº‹ä»¶ onBlur,,,ç›®çš„æ˜¯ä¸ºäº†åŒºåˆ†é‚£äº›è¾“å…¥æ¡†æ˜¯è¢«ç‚¹å‡»è¿‡çš„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥æ‰‹æœºå·<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mobile<span class="token punctuation">}</span></span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">autoComplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span></span>
  <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleBlur<span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Input</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡formikå¯ä»¥è§£æ„å‡ºæ¥ä¸¤ä¸ªå±æ€§ touched å’Œ errors,,,,æ§åˆ¶é”™è¯¯ä¿¡æ¯çš„å±•ç¤º</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span>touched<span class="token punctuation">.</span>mobile <span class="token operator">&amp;&amp;</span> errors<span class="token punctuation">.</span>mobile <span class="token operator">?</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>errors<span class="token punctuation">.</span>mobile<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯" tabindex="-1"><a class="header-anchor" href="#ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯" aria-hidden="true">#</a> ç™»å½•è¡¨å•çš„æ•°æ®éªŒè¯</h2><blockquote><p>ç›®æ ‡ï¼šéªŒè¯è¡¨å•ä¸­è¾“å…¥çš„å†…å®¹çš„åˆæ³•æ€§</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901091137594.png" alt="image-20210901091137594" style="zoom:50%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <code>formik</code> è‡ªå¸¦çš„è¡¨å•éªŒè¯åŠŸèƒ½</li><li>ä½¿ç”¨ <code>yup</code> è¾…åŠ©ç¼–å†™æ•°æ®çš„éªŒè¯è§„åˆ™</li><li>éªŒè¯ä¸é€šè¿‡æ—¶ï¼Œåœ¨è¾“å…¥é¡¹ä¸‹æ˜¾ç¤ºéªŒè¯åå¾—åˆ°çš„å®é™…é”™è¯¯ä¿¡æ¯</li><li>éªŒè¯ä¸é€šè¿‡æ—¶ï¼Œç¦ç”¨æäº¤æŒ‰é’®</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>yup</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i yup --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åœ¨åˆ›å»º <code>formik</code> è¡¨å•å¯¹è±¡æ—¶ï¼Œæ·»åŠ è¡¨å•éªŒè¯ç›¸å…³å‚æ•°</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Yup <span class="token keyword">from</span> <span class="token string">&#39;yup&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Formik è¡¨å•å¯¹è±¡</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">useFormik</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  
  <span class="token comment">// è¡¨å•éªŒè¯</span>
  <span class="token literal-property property">validationSchema</span><span class="token operator">:</span> Yup<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// æ‰‹æœºå·éªŒè¯è§„åˆ™</span>
    <span class="token literal-property property">mobile</span><span class="token operator">:</span> Yup<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string">&#39;è¯·è¾“å…¥æ‰‹æœºå·&#39;</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3456789]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;æ‰‹æœºå·æ ¼å¼é”™è¯¯&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ‰‹æœºéªŒè¯ç éªŒè¯è§„åˆ™</span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> Yup<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string">&#39;è¯·è¾“å…¥éªŒè¯ç &#39;</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{6}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;éªŒè¯ç 6ä¸ªæ•°å­—&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>å¤„ç†éªŒè¯é”™è¯¯ä¿¡æ¯</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// åŸå…ˆçš„ä¸¤å¤„é”™è¯¯ä¿¡æ¯ä»£ç </span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ‰‹æœºå·éªŒè¯é”™è¯¯ä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>code<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// æ”¹é€ æˆå¦‚ä¸‹ä»£ç </span>
<span class="token punctuation">{</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>mobile <span class="token operator">&amp;&amp;</span> form<span class="token punctuation">.</span>touched<span class="token punctuation">.</span>mobile <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>mobile<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>code <span class="token operator">&amp;&amp;</span> form<span class="token punctuation">.</span>touched<span class="token punctuation">.</span>code <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>code<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>éªŒè¯å‡ºé”™æ—¶ç¦ç”¨ç™»å½•æŒ‰é’®</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> classnames <span class="token keyword">from</span> <span class="token string">&#39;classnames&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classnames</span><span class="token punctuation">(</span><span class="token string">&#39;login-btn&#39;</span><span class="token punctuation">,</span> form<span class="token punctuation">.</span>isValid <span class="token operator">?</span> <span class="token string">&#39;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;disabled&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span>form<span class="token punctuation">.</span>isValid<span class="token punctuation">}</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
  ç™»å½•
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="åˆæ­¥å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#åˆæ­¥å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—" aria-hidden="true">#</a> åˆæ­¥å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—</h2><blockquote><p>ç›®æ ‡ï¼šå°† axios å°è£…æˆå…¬ç”¨çš„ç½‘ç»œè¯·æ±‚æ¨¡å—ï¼Œæ–¹ä¾¿åç»­è°ƒç”¨åç«¯æ¥å£</p><p>ï¼ˆæœ¬ç« èŠ‚ä¸­æš‚ä¸å¤„ç† token å’Œ token ç»­æœŸï¼‰</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <code>axios</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i axios --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åˆ›å»º <code>utils/request.js</code>ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç </li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

<span class="token comment">// 1. åˆ›å»ºæ–°çš„ axios å®ä¾‹</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">&#39;http://geek.itheima.net/v1_0&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 2. è®¾ç½®è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨</span>
http<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">)</span>

http<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> response<span class="token punctuation">.</span>data
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 3. å¯¼å‡ºè¯¥ axios å®ä¾‹</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> http
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å‘é€æ‰‹æœºéªŒè¯ç " tabindex="-1"><a class="header-anchor" href="#å‘é€æ‰‹æœºéªŒè¯ç " aria-hidden="true">#</a> å‘é€æ‰‹æœºéªŒè¯ç </h2><blockquote><p>ç›®æ ‡ï¼šç‚¹å‡»ç™»å½•ç•Œé¢ä¸­çš„å‘é€éªŒè¯ç æŒ‰é’®ï¼Œè°ƒç”¨åç«¯æ¥å£è¿›è¡ŒéªŒè¯ç çš„å‘é€</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901092838694.png" alt="image-20210901092838694" style="zoom:50%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ª redux action å‡½æ•°ï¼Œè¯·æ±‚å‘é€éªŒè¯ç åç«¯æ¥å£</li><li>åœ¨éªŒè¯ç çš„ Input ç»„ä»¶çš„ <code>onExtraClick</code> äº‹ä»¶ç›‘å¬å‡½æ•°ä¸­è°ƒç”¨ action</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>store/actions/login.js</code>ï¼Œå¹¶å®ç°ä¸€ä¸ª Action å‡½æ•°</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#39;@/utils/http&#39;</span>

<span class="token doc-comment comment">/**
 * å‘é€çŸ­ä¿¡éªŒè¯ç 
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">mobile</span> æ‰‹æœºå·ç 
 * <span class="token keyword">@returns</span> thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sendValidationCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mobile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/sms/codes/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mobile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä¸ºéªŒè¯ç è¾“å…¥æ¡†ç»„ä»¶æ·»åŠ  <code>onExtraClick</code> äº‹ä»¶ç›‘å¬</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>Input 
  <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span> 
  
  onExtraClick<span class="token operator">=</span><span class="token punctuation">{</span>sendSMSCode<span class="token punctuation">}</span> 
  <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>å®ç°äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œè°ƒç”¨ Action</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// è·å– Redux åˆ†å‘å™¨</span>
<span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å‘é€çŸ­ä¿¡éªŒè¯ç </span>
<span class="token keyword">const</span> <span class="token function-variable function">sendSMSCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰‹æœºå·</span>
    <span class="token keyword">const</span> mobile <span class="token operator">=</span> form<span class="token punctuation">.</span>values<span class="token punctuation">.</span>mobile

    <span class="token comment">// è·å– Action </span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">sendValidationCode</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span>

    <span class="token comment">// è°ƒç”¨ Action</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½" aria-hidden="true">#</a> éªŒè¯ç å€’è®¡æ—¶åŠŸèƒ½</h2><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onExtraClick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token comment">// å…ˆå¯¹æ‰‹æœºå·è¿›è¡ŒéªŒè¯</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    formik<span class="token punctuation">.</span><span class="token function">setTouched</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">sendCode</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span>
    Toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&#39;è·å–éªŒè¯ç æˆåŠŸ&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">// å¼€å¯å€’è®¡æ—¶</span>
    <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> timeId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å½“æˆ‘ä»¬æ¯æ¬¡éƒ½æƒ³è¦è·å–åˆ°æœ€æ–°çš„çŠ¶æ€ï¼Œéœ€è¦å†™æˆ ç®­å¤´å‡½æ•°çš„å½¢å¼</span>
      <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> time <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Toast<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      Toast<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;æœåŠ¡å™¨ç¹å¿™ï¼Œè¯·ç¨åé‡è¯•&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§" aria-hidden="true">#</a> å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§</h2><p>React ä¸­çš„å‡½æ•°ç»„ä»¶æ˜¯é€šè¿‡å‡½æ•°æ¥å®ç°çš„ï¼Œå‡½æ•°ç»„ä»¶çš„å…¬å¼ï¼š<code>f(state) =&gt; UI</code>ï¼Œå³ï¼šæ•°æ®åˆ°è§†å›¾çš„æ˜ å°„ã€‚</p><p>å‡½æ•°ç»„ä»¶æœ¬èº«å¾ˆç®€å•ï¼Œä½†å› ä¸ºæ˜¯é€šè¿‡å‡½æ•°å®ç°çš„ï¼Œæ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨å‡½æ•°ç»„ä»¶æ—¶ï¼Œå°±ä¼šä½“ç°å‡ºå‡½æ•°æ‰€å…·æœ‰çš„ç‰¹æ€§æ¥ã€‚</p><p>å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§è¯´æ˜ï¼š</p><ul><li>å¯¹äºå‡½æ•°ç»„ä»¶æ¥è¯´ï¼Œæ¯æ¬¡çŠ¶æ€æ›´æ–°åï¼Œç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚</li><li>å¹¶ä¸”ï¼Œ<strong>æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½åƒæ˜¯åœ¨ç»™ç»„ä»¶æ‹ç…§ã€‚æ¯å¼ ç…§ç‰‡å°±ä»£è¡¨ç»„ä»¶åœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»çš„çŠ¶æ€ã€‚å¿«ç…§</strong></li><li>æˆ–è€…è¯´ï¼š<code>ç»„ä»¶çš„æ¯æ¬¡ç‰¹å®šæ¸²æŸ“ï¼Œéƒ½æœ‰è‡ªå·±çš„ props/state/äº‹ä»¶å¤„ç†ç¨‹åº</code> ç­‰ã€‚</li><li>è¿™äº›ç…§ç‰‡è®°å½•çš„çŠ¶æ€ï¼Œä»ä»£ç å±‚é¢æ¥è¯´ï¼Œæ˜¯é€šè¿‡ JS ä¸­å‡½æ•°çš„é—­åŒ…æœºåˆ¶æ¥å®ç°çš„ã€‚</li></ul><p>è¿™å°±æ˜¯ React ä¸­å‡½æ•°ç»„ä»¶çš„ç‰¹æ€§ï¼Œæ›´åŠ çš„å‡½æ•°å¼ï¼ˆåˆ©ç”¨å‡½æ•°çš„ç‰¹æ€§ï¼‰</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span>

<span class="token comment">// æ²¡æœ‰ hooks çš„å‡½æ•°ç»„ä»¶ï¼š</span>
<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> count <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(count)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">showCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤º count å€¼ï¼š&#39;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>showCount<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç‚¹å‡»æŒ‰é’®3ç§’åæ˜¾ç¤ºcount</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è®¡æ•°å™¨ï¼š</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* å­ç»„ä»¶ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="userefé«˜çº§ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#userefé«˜çº§ç”¨æ³•" aria-hidden="true">#</a> useRefé«˜çº§ç”¨æ³•</h2><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210907203744867.png" alt="image-20210907203744867" loading="lazy"></p><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210907203811908.png" alt="image-20210907203811908" loading="lazy"></p><h2 id="ç™»å½•å¹¶è·å–-token" tabindex="-1"><a class="header-anchor" href="#ç™»å½•å¹¶è·å–-token" aria-hidden="true">#</a> ç™»å½•å¹¶è·å– Token</h2><blockquote><p>ç›®æ ‡ï¼šç‚¹å‡»ç™»å½•æŒ‰é’®åï¼Œå‘é€è¡¨å•æ•°æ®åˆ°åç«¯ç™»å½•æ¥å£ï¼Œè·å–ç™»å½•å‡­è¯ Token</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ª Actionï¼Œå»è°ƒç”¨åç«¯ç™»å½•æ¥å£</li><li>åœ¨ <code>formik</code> çš„è¡¨å•æäº¤æ–¹æ³• <code>onSubmit</code> ä¸­è°ƒç”¨ Action</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>store/actions/login.js</code>ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª Action å‡½æ•°</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * ç™»å½•
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token punctuation">{</span> mobile<span class="token punctuation">,</span> code <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token parameter">values</span> ç™»å½•ä¿¡æ¯
 * <span class="token keyword">@returns</span> thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/authorizations&#39;</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
    <span class="token keyword">const</span> tokenInfo <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ç™»å½•é¡µé¢ç»„ä»¶ä¸­çš„ <code>formik</code> è¡¨å•å¯¹è±¡çš„ <code>onSubmit</code> æ–¹æ³•ä¸­ï¼Œè°ƒç”¨ Action</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> login<span class="token punctuation">,</span> sendValidationCode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/login&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Formik è¡¨å•å¯¹è±¡</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">useFormik</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// æäº¤</span>
  <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">login</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœèƒ½æˆåŠŸè·å– Token ä¿¡æ¯ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºå¦‚ä¸‹å†…å®¹ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901101009155.png" alt="image-20210901101009155" style="zoom:50%;"><hr><h2 id="ä¿å­˜-token-åˆ°-redux" tabindex="-1"><a class="header-anchor" href="#ä¿å­˜-token-åˆ°-redux" aria-hidden="true">#</a> ä¿å­˜ Token åˆ° Redux</h2><blockquote><p>ç›®æ ‡ï¼šå°†è°ƒç”¨åç«¯æ¥å£è·å–åˆ°çš„ Token ä¿¡æ¯ï¼Œæ”¾å…¥ Redux è¿›è¡Œç»´æŠ¤</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ª Reducerï¼Œç”¨äºåœ¨ Redux ä¸­æ“ä½œ Token çŠ¶æ€</li><li>å®ç°ä¸€ä¸ª Actionï¼Œåœ¨è¯¥ Action ä¸­è°ƒç”¨ Reducer æ¥ä¿å­˜ Token çŠ¶æ€</li><li>åœ¨ä¸Šä¸€ç« èŠ‚è·å– Token çš„ Action ä¸­ï¼Œè°ƒç”¨ä¸Šé¢çš„ Action æ¥ä¿å­˜ä»åç«¯åˆšè·å–åˆ°çš„ Token</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>store/reducers/login.js</code>ï¼Œå¹¶ç¼–å†™ä¸€ä¸ª Reducer å‡½æ•°</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// åˆå§‹çŠ¶æ€</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">refresh_token</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ“ä½œ Token çŠ¶æ€ä¿¡æ¯çš„ reducer å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span> <span class="token operator">=</span> action
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;login/token&#39;</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>payload <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>store/reducers/index.js</code>ä¸­ï¼Œå°†ä»¥ä¸Šçš„ Reducer å‡½æ•°ç»„åˆè¿›æ ¹ Reducer</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> login <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./login&#39;</span>

<span class="token comment">// ç»„åˆå„ä¸ª reducer å‡½æ•°ï¼Œæˆä¸ºä¸€ä¸ªæ ¹ reducer</span>
<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  login
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºæ ¹ reducer</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> rootReducer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åœ¨ <code>store/actions/login.js</code> ä¸­ï¼Œå®ç°ä¸€ä¸ªè°ƒç”¨ä»¥ä¸Š Reducer çš„ Action</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * å°† Token ä¿¡æ¯ä¿å­˜åˆ° Redux ä¸­
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">tokens</span> 
 * <span class="token keyword">@returns</span> 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">saveToken</span> <span class="token operator">=</span> <span class="token parameter">tokenInfo</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;login/token&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">payload</span><span class="token operator">:</span> tokenInfo
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åœ¨åŸå…ˆè°ƒç”¨åç«¯æ¥å£è·å– Token çš„ Action ä¸­ï¼Œè°ƒç”¨ <code>saveToken</code> Action</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æäº¤</span>
<span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">login</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é€šè¿‡ Redux DevTools æ’ä»¶ï¼ŒæŸ¥çœ‹ä¿å­˜åçš„å€¼ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901182935828.png" alt="image-20210901182935828" style="zoom:50%;"><hr><h2 id="æç¤ºæ¶ˆæ¯ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æç¤ºæ¶ˆæ¯ä¼˜åŒ–" aria-hidden="true">#</a> æç¤ºæ¶ˆæ¯ä¼˜åŒ–</h2><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">login</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span>
    Toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&#39;ç™»é™†æˆåŠŸ&#39;</span><span class="token punctuation">)</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/home&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(e.response.data.message)</span>
    Toast<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¿å­˜-token-åˆ°æœ¬åœ°ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#ä¿å­˜-token-åˆ°æœ¬åœ°ç¼“å­˜" aria-hidden="true">#</a> ä¿å­˜ Token åˆ°æœ¬åœ°ç¼“å­˜</h2><blockquote><p>ç›®æ ‡ï¼šå°†ä»åç«¯è·å–åˆ°çš„ Token ä¿å­˜åˆ°æµè§ˆå™¨çš„ LocalStorage ä¸­</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œåœ¨è¯¥æ¨¡å—ä¸­ä¸“é—¨æ“ä½œ LocalStorage ä¸­çš„ Token ä¿¡æ¯</li><li>åœ¨è°ƒç”¨åç«¯æ¥å£è·å– Token çš„ Action ä¸­ï¼Œè°ƒç”¨è¯¥å·¥å…·æ¨¡å—ä¸­çš„æ–¹æ³•æ¥å­˜å‚¨ Token</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>utils/storage.js</code>ï¼Œå¹¶ç¼–å†™ Token çš„è®¾ç½®ã€è·å–ã€åˆ é™¤ç­‰å·¥å…·æ–¹æ³•</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç”¨æˆ· Token çš„æœ¬åœ°ç¼“å­˜é”®å</span>
<span class="token keyword">const</span> <span class="token constant">TOKEN_KEY</span> <span class="token operator">=</span> <span class="token string">&#39;geek-itcast&#39;</span>

<span class="token doc-comment comment">/**
 * ä»æœ¬åœ°ç¼“å­˜ä¸­è·å– Token ä¿¡æ¯
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getTokenInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * å°† Token ä¿¡æ¯å­˜å…¥ç¼“å­˜
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">tokenInfo</span> ä»åç«¯è·å–åˆ°çš„ Token ä¿¡æ¯
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setTokenInfo</span> <span class="token operator">=</span> <span class="token parameter">tokenInfo</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token constant">TOKEN_KEY</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * åˆ é™¤æœ¬åœ°ç¼“å­˜ä¸­çš„ Token ä¿¡æ¯
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">removeTokenInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * åˆ¤æ–­æœ¬åœ°ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨ Token ä¿¡æ¯
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">hasToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token function">getTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>token
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åŸå…ˆè°ƒç”¨åç«¯æ¥å£è·å– Token çš„ Action ä¸­ï¼Œè°ƒç”¨ä»¥ä¸Šçš„æœ¬åœ°ç¼“å­˜å·¥å…·æ–¹æ³•æ¥ä¿å­˜ Token ä¿¡æ¯</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> http<span class="token punctuation">,</span> removeTokens<span class="token punctuation">,</span> setTokens <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/authorizations&#39;</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
    <span class="token keyword">const</span> tokenInfo <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data

    <span class="token comment">// ä¿å­˜ Token åˆ° Redux ä¸­</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">saveToken</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// ä¿å­˜ Token åˆ° LocalStorage ä¸­</span>
    <span class="token function">setTokenInfo</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901104851802.png" alt="image-20210901104851802" style="zoom:50%;"><hr><h2 id="åŠ è½½ç¼“å­˜çš„-token-æ¥åˆå§‹åŒ–-redux" tabindex="-1"><a class="header-anchor" href="#åŠ è½½ç¼“å­˜çš„-token-æ¥åˆå§‹åŒ–-redux" aria-hidden="true">#</a> åŠ è½½ç¼“å­˜çš„ Token æ¥åˆå§‹åŒ– Redux</h2><blockquote><p>ç›®æ ‡ï¼šä»ç¼“å­˜ä¸­è¯»å– token ä¿¡æ¯ï¼Œå¦‚æœå­˜åœ¨åˆ™è®¾ç½®ä¸º Redux Store çš„åˆå§‹çŠ¶æ€</p><p>ã€å¦‚æœä¸åšæœ¬æ“ä½œçš„è¯ï¼Œä¼šå‡ºç°å½“é¡µé¢åˆ·æ–°åï¼Œç¼“å­˜ä¸­æœ‰å€¼è€Œ Redux ä¸­æ— å€¼çš„æƒ…å†µã€‘</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>store/index.js</code> ä¸­ï¼Œè°ƒç”¨ç¼“å­˜å·¥å…·æ–¹æ³•æ¥è¯»å– Token ä¿¡æ¯ï¼Œå¹¶è®¾ç½®ç»™ <code>createStore</code> ç›¸å…³å‚æ•°ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getTokenInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/storage&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  <span class="token comment">// ...</span>
  
  <span class="token comment">// å‚æ•°äºŒï¼šåˆå§‹åŒ–æ—¶è¦åŠ è½½çš„çŠ¶æ€</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">login</span><span class="token operator">:</span> <span class="token function">getTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// ...</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="redux-åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸ç”¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#redux-åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸ç”¨æ¨¡å¼" aria-hidden="true">#</a> Redux åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸ç”¨æ¨¡å¼</h2><blockquote><p>ç›®æ ‡ï¼šæ ¹æ®ä¸Šé¢å‡ ç« çš„ redux ä½¿ç”¨æƒ…å†µï¼Œæ€»ç»“å®é™…å¼€å‘æ—¶çš„æœ€ä½³å®è·µæ¨¡å¼</p></blockquote><p><strong>æ¨èçš„ç›®å½•ç»“æ„</strong></p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901150309264.png" alt="image-20210901150309264" style="zoom:50%;"><p><strong>ç›®å½•ï¼š<code>store/actions</code></strong></p><p>æŒ‰åŠŸèƒ½æ¨¡å—çš„ä¸åŒï¼Œæ‹†åˆ†è‹¥å¹²ç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå­˜æ”¾ Action Creator å‡½æ•°ã€‚</p><ul><li>Action Creator è¿”å›å‡½æ•°ï¼šç”¨äºå«æœ‰å¼‚æ­¥è¡Œä¸ºçš„æ“ä½œ</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">test1</span> <span class="token operator">=</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰§è¡Œå¼‚æ­¥ä¸šåŠ¡é€»è¾‘ ...</span>
    <span class="token comment">// é€šè¿‡ dispatch å¯ä»¥å†è°ƒç”¨å…¶ä»– Action ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Action Creator è¿”å›å¯¹è±¡ï¼šç”¨äºåŒæ­¥è¡Œä¸ºçš„æ“ä½œ</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">test2</span> <span class="token operator">=</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ¨èè¿”å›çš„ action å¯¹è±¡ä¸­ï¼Œåªå­˜æ”¾ä¸¤ä¸ªå±æ€§ï¼štypeã€payload</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ³¨æ„å‘½åè§„èŒƒï¼Œæ¨èè§„åˆ™ä¸º domain/eventNameã€‚ä¾‹å¦‚ï¼šlogin/token</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;abc/hello&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// æ‰€æœ‰è¦ä¼ é€’ç»™ reducer çš„ä¸šåŠ¡æ•°æ®ï¼Œéƒ½æ”¾åˆ° payload å±æ€§ä¸Š</span>
    <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç›®å½•ï¼š<code>store/reducers</code></strong></p><p>æŒ‰åŠŸèƒ½æ¨¡å—çš„ä¸åŒï¼Œæ‹†åˆ†è‹¥å¹²ç‹¬ç«‹æ–‡ä»¶ï¼Œå­˜æ”¾ Reducer å‡½æ•°ã€‚</p><p>æœ€åï¼Œå°†è¿™äº›ç‹¬ç«‹çš„ Reducer æ¨¡å—é€šè¿‡è¯¥ç›®å½•ä¸­çš„ <code>index.js</code> åˆå¹¶ä¸ºæ ¹ Reducerã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ ¹ Reducer</span>
<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  login<span class="token punctuation">,</span>
  profile<span class="token punctuation">,</span>
  home<span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–‡ä»¶ï¼š<code>store/index.js</code></strong></p><p>ç”¨äºåˆ›å»ºå’Œé…ç½® Redux Storeã€‚</p><p><strong>åœ¨ç»„ä»¶ä¸­è°ƒç”¨ Redux çš„æç®€æµç¨‹</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ useDispatch() è·å–åˆ†å‘å™¨</span>
<span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ç¬¬äºŒæ­¥ï¼šè°ƒç”¨ Action Creator è·å– Action</span>
<span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">someActionCreatorFuncion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡å‘åˆ†å‘å™¨è°ƒç”¨ Action å‡½æ•°å†…æˆ– Reducer å‡½æ•°å†…çš„ä¸šåŠ¡é€»è¾‘</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ -token-è¯·æ±‚å¤´" tabindex="-1"><a class="header-anchor" href="#ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ -token-è¯·æ±‚å¤´" aria-hidden="true">#</a> ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ  Token è¯·æ±‚å¤´</h2><blockquote><p>ç›®æ ‡ï¼šåœ¨å‘é€è¯·æ±‚æ—¶åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ä¸Š Token ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨è¯·æ±‚éœ€è¦é‰´æƒçš„åç«¯æ¥å£æ—¶å¯ä»¥é¡ºåˆ©è°ƒç”¨</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>åœ¨ axios è¯·æ±‚æ‹¦æˆªå™¨ä¸­ï¼Œè¯»å–ä¿å­˜åœ¨ Redux æˆ– LocalStorage ä¸­çš„ Token ä¿¡æ¯ï¼Œå¹¶è®¾ç½®åˆ°è¯·æ±‚å¤´ä¸Š</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>utils/http.js</code> ä¸­ï¼Œæ”¹é€ è¯·æ±‚æ‹¦æˆªå™¨ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getTokenInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./storage&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 2. è®¾ç½®è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨</span>
http<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–ç¼“å­˜ä¸­çš„ Token ä¿¡æ¯</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>token
  <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾ç½®è¯·æ±‚å¤´çš„ Authorization å­—æ®µ</span>
    config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Authorization&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ•´ä½“å¸ƒå±€" tabindex="-1"><a class="header-anchor" href="#æ•´ä½“å¸ƒå±€" aria-hidden="true">#</a> æ•´ä½“å¸ƒå±€</h1><h2 id="å®ç°åº•éƒ¨-tab-å¸ƒå±€" tabindex="-1"><a class="header-anchor" href="#å®ç°åº•éƒ¨-tab-å¸ƒå±€" aria-hidden="true">#</a> å®ç°åº•éƒ¨ tab å¸ƒå±€</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°ä¸€ä¸ªå¸¦æœ‰åº•éƒ¨ tab å¯¼èˆªæ çš„é¡µé¢å¸ƒå±€å®¹å™¨ç»„ä»¶ï¼Œå½“ç‚¹å‡»åº•éƒ¨æŒ‰é’®åï¼Œå¯åˆ‡æ¢æ˜¾ç¤ºä¸åŒå†…å®¹</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210830181305183.png" alt="image-20210830181305183" style="zoom:40%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>åœ¨ç»„ä»¶ä¸­å­˜åœ¨ä¸¤ä¸ªåŒºåŸŸï¼šé¡µé¢å†…å®¹åŒºåŸŸã€tab æŒ‰é’®åŒºåŸŸ</li><li>å®šä¹‰ä¸€ä¸ªæ•°ç»„æ¥å­˜æ”¾ tab æŒ‰é’®ç›¸å…³æ•°æ®ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿ç»Ÿä¸€ç®¡ç†æŒ‰é’®</li><li>é€šè¿‡éå†æ•°ç»„æ¥æ¸²æŸ“ tab æŒ‰é’®</li><li>ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ ¹æ®å½“å‰è®¿é—®çš„é¡µé¢è·¯å¾„å’ŒæŒ‰é’®æœ¬èº«çš„è·¯å¾„ï¼Œåˆ¤æ–­å½“å‰æŒ‰é’®æ˜¯å¦æ˜¯é€‰ä¸­çŠ¶æ€ï¼Œå¹¶æ·»åŠ é«˜äº®æ ·å¼</li><li>ç‚¹å‡»æŒ‰é’®åï¼Œè¿›è¡Œè·¯ç”±è·³è½¬</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ul><li>å‡†å¤‡åŸºæœ¬ç»“æ„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åŒºåŸŸä¸€ï¼šç‚¹å‡»æŒ‰é’®åˆ‡æ¢æ˜¾ç¤ºå†…å®¹çš„åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åŒºåŸŸäºŒï¼šæŒ‰é’®åŒºåŸŸï¼Œä¼šä½¿ç”¨å›ºå®šå®šä½æ˜¾ç¤ºåœ¨é¡µé¢åº•éƒ¨ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar-item tabbar-item-active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_home_sel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é¦–é¡µ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_qa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é—®ç­”</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_video<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è§†é¢‘</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_mine<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘çš„</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å°†å‘æ”¾èµ„æ–™ä¸­çš„ <code>èµ„æº &gt; srcä»£ç æ–‡ä»¶ &gt; layouts &gt; index.module.scss</code> æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹</p></li><li><p>åœ¨ç»„ä»¶å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œä»£è¡¨ tab æŒ‰é’®çš„æ•°æ®</p></li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å°† tab æŒ‰é’®çš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­</span>
<span class="token comment">// - id å”¯ä¸€æ€§ID</span>
<span class="token comment">// - title æŒ‰é’®æ˜¾ç¤ºçš„æ–‡æœ¬</span>
<span class="token comment">// - to ç‚¹å‡»æŒ‰é’®ååˆ‡æ¢åˆ°çš„é¡µé¢è·¯å¾„</span>
<span class="token comment">// - icon æŒ‰é’®ä¸Šæ˜¾ç¤ºçš„å›¾æ ‡åç§°</span>
<span class="token keyword">const</span> buttons <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;é¦–é¡µ&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;iconbtn_home&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;é—®ç­”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/home/question&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;iconbtn_qa&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;è§†é¢‘&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/home/video&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;iconbtn_video&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æˆ‘çš„&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/home/profile&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;iconbtn_mine&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åŠ¨æ€æ¸²æŸ“TabBar</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">&#39;@/components/Icon&#39;</span>
<span class="token keyword">import</span> classnames <span class="token keyword">from</span> <span class="token string">&#39;classnames&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory<span class="token punctuation">,</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token comment">// å°† tab æŒ‰é’®çš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­</span>
<span class="token comment">// ...</span>

<span class="token comment">/**
 * å®šä¹‰ tab å¸ƒå±€ç»„ä»¶
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">TabBarLayout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–è·¯ç”±å†å² history å¯¹è±¡</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// è·å–è·¯ç”±ä¿¡æ¯ location å¯¹è±¡</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åŒºåŸŸä¸€ï¼šç‚¹å‡»æŒ‰é’®åˆ‡æ¢æ˜¾ç¤ºå†…å®¹çš„åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* åŒºåŸŸäºŒï¼šæŒ‰é’®åŒºåŸŸï¼Œä¼šä½¿ç”¨å›ºå®šå®šä½æ˜¾ç¤ºåœ¨é¡µé¢åº•éƒ¨ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabbar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>buttons<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">btn</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// åˆ¤æ–­å½“å‰é¡µé¢è·¯å¾„å’ŒæŒ‰é’®è·¯å¾„æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™è¡¨ç¤ºè¯¥æŒ‰é’®å¤„äºé€‰ä¸­çŠ¶æ€</span>
          <span class="token keyword">const</span> selected <span class="token operator">=</span> btn<span class="token punctuation">.</span>to <span class="token operator">===</span> location<span class="token punctuation">.</span>pathname

          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
              <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>btn<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span>
              <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classnames</span><span class="token punctuation">(</span><span class="token string">&#39;tabbar-item&#39;</span><span class="token punctuation">,</span> selected <span class="token operator">?</span> <span class="token string">&#39;tabbar-item-active&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
              <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>btn<span class="token punctuation">.</span>to<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>btn<span class="token punctuation">.</span>icon <span class="token operator">+</span> <span class="token punctuation">(</span>selected <span class="token operator">?</span> <span class="token string">&#39;_sel&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>btn<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TabBarLayout
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831131915002.png" alt="image-20210831131915002" style="zoom:40%;"><hr><h2 id="åˆ›å»º-tab-æŒ‰é’®é¡µé¢å¹¶é…ç½®åµŒå¥—è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-tab-æŒ‰é’®é¡µé¢å¹¶é…ç½®åµŒå¥—è·¯ç”±" aria-hidden="true">#</a> åˆ›å»º tab æŒ‰é’®é¡µé¢å¹¶é…ç½®åµŒå¥—è·¯ç”±</h2><blockquote><p>ç›®æ ‡ï¼šä¸º tab å¸ƒå±€ç»„ä»¶ä¸­çš„ 4 ä¸ªæŒ‰é’®åˆ›å»ºå¯¹åº”çš„é¡µé¢ï¼›å¹¶é…ç½®è·¯ç”±ï¼Œä½¿æŒ‰é’®ç‚¹å‡»åèƒ½æ˜¾ç¤ºå¯¹åº”é¡µé¢</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»ºå››ä¸ªé¡µé¢ç»„ä»¶ï¼š</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> é¦–é¡µï¼špages/Home/index.js
<span class="token list punctuation">-</span> é—®ç­”ï¼špages/Question/index.js
<span class="token list punctuation">-</span> è§†é¢‘ï¼špages/Video/index.js
<span class="token list punctuation">-</span> æˆ‘çš„ï¼špages/Profile/index.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“å‰ï¼Œè¿™äº›ç»„ä»¶çš„ä»£ç ä½¿ç”¨æœ€ç®€å•çš„å³å¯ï¼Œå¦‚ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é¦–é¡µ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>layouts/TabBarLayout.js</code> ä¸­é…ç½®4ä¸ªé¡µé¢çš„è·¯ç”±</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Home&#39;</span>
<span class="token keyword">import</span> Profile <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Profile&#39;</span>
<span class="token keyword">import</span> Question <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Question&#39;</span>
<span class="token keyword">import</span> Video <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Video&#39;</span>

<span class="token comment">// ...</span>


<span class="token punctuation">{</span><span class="token comment">/* åŒºåŸŸä¸€ï¼šç‚¹å‡»æŒ‰é’®åˆ‡æ¢æ˜¾ç¤ºå†…å®¹çš„åŒºåŸŸ */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/question<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Question<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/video<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Video<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/profile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Profile<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210831161825392.png" alt="image-20210831161825392" style="zoom:40%;"><h2 id="åˆ›å»ºå…¶ä»–åŠŸèƒ½é¡µé¢å¹¶é…ç½®è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºå…¶ä»–åŠŸèƒ½é¡µé¢å¹¶é…ç½®è·¯ç”±" aria-hidden="true">#</a> åˆ›å»ºå…¶ä»–åŠŸèƒ½é¡µé¢å¹¶é…ç½®è·¯ç”±</h2><blockquote><p>ç›®æ ‡ï¼šäº‹å…ˆåˆ›å»ºæœ¬é¡¹ç›®ä¸­å°†è¦å¼€å‘çš„å„ä¸ªé¡µé¢ç»„ä»¶ï¼Œå¹¶é…ç½®è·¯ç”±</p></blockquote><p><strong>ã€æœ¬ç« èŠ‚æ‰€åšçš„äº‹ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä¸€æ¬¡æ€§åšå®Œï¼Œå¯ä»¥ä¸€ä¸ªä¸€ä¸ªé¡µé¢è¾¹å¼€å‘è¾¹é…ç½®ã€‘</strong></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>è¯´æ˜ï¼šè¿™äº›é¡µé¢æ˜¯é™¤äº† tab åº•éƒ¨å¯¼èˆªæ ä¸Šçš„4ä¸ªé¡µé¢ä»¥å¤–çš„å…¶ä»–åŠŸèƒ½é¡µ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»ºä»¥ä¸‹é¡µé¢ç»„ä»¶ï¼š</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> ç™»å½•é¡µé¢ï¼špages/Login/index.js
<span class="token list punctuation">-</span> æœç´¢é¡µé¢ï¼špages/Search/index.js
<span class="token list punctuation">-</span> æœç´¢ç»“æœé¡µé¢ï¼špages/Search/Result/index.js
<span class="token list punctuation">-</span> æ–‡ç« è¯¦æƒ…é¡µé¢ï¼špages/Article/index.js
<span class="token list punctuation">-</span> ä¸ªäººä¿¡æ¯ç¼–è¾‘é¡µé¢ï¼špages/Profile/Edit/index.js
<span class="token list punctuation">-</span> ç”¨æˆ·åé¦ˆé¡µé¢ï¼špages/Profile/Feedback/index.js
<span class="token list punctuation">-</span> æœºå™¨äººå®¢æœèŠå¤©é¡µé¢ï¼špages/Profile/Chat/index.js
<span class="token list punctuation">-</span> 404 é”™è¯¯é¡µé¢ï¼špages/NotFound/index.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“å‰ï¼Œè¿™äº›ç»„ä»¶çš„ä»£ç ä½¿ç”¨æœ€ç®€å•çš„å³å¯ï¼Œå¦‚ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Login</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨æ ¹ç»„ä»¶ App ä¸­ï¼Œé…ç½®ä»¥ä¸Šé¡µé¢çš„è·¯ç”±ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Article <span class="token keyword">from</span> <span class="token string">&quot;./pages/Article&quot;</span>
<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">&quot;./pages/Login&quot;</span>
<span class="token keyword">import</span> NotFound <span class="token keyword">from</span> <span class="token string">&quot;./pages/NotFound&quot;</span>
<span class="token keyword">import</span> Chat <span class="token keyword">from</span> <span class="token string">&quot;./pages/Profile/Chat&quot;</span>
<span class="token keyword">import</span> ProfileEdit <span class="token keyword">from</span> <span class="token string">&quot;./pages/Profile/Edit&quot;</span>
<span class="token keyword">import</span> ProfileFeedback <span class="token keyword">from</span> <span class="token string">&quot;./pages/Profile/Feedback&quot;</span>
<span class="token keyword">import</span> Search <span class="token keyword">from</span> <span class="token string">&quot;./pages/Search&quot;</span>
<span class="token keyword">import</span> SearchResult <span class="token keyword">from</span> <span class="token string">&quot;./pages/Search/Result&quot;</span>

<span class="token comment">// ...</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>history<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* ä¸ä½¿ç”¨ tab å¸ƒå±€çš„ç•Œé¢ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Login<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Search<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/article/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Article<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/search/result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>SearchResult<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ProfileEdit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/feedback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ProfileFeedback<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/chat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Chat<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>NotFound<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ä¸ªäººä¸­å¿ƒ" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººä¸­å¿ƒ" aria-hidden="true">#</a> ä¸ªäººä¸­å¿ƒ</h1><h2 id="ä¸ªäººä¸­å¿ƒä¸»é¡µçš„é™æ€ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººä¸­å¿ƒä¸»é¡µçš„é™æ€ç»“æ„" aria-hidden="true">#</a> ä¸ªäººä¸­å¿ƒä¸»é¡µçš„é™æ€ç»“æ„</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°ä¸ªäººä¸­å¿ƒä¸»é¡µé¢çš„é™æ€ç»“æ„å’Œæ ·å¼</p></blockquote><p>é¡µé¢å¸ƒå±€åˆ†è§£ç¤ºæ„ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901112241300.png" alt="image-20210901112241300" style="zoom:50%;"><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å°†èµ„æºåŒ…ä¸­ä¸ªäººä¸­å¿ƒé¡µé¢çš„æ ·å¼æ–‡ä»¶æ‹·è´åˆ° <code>pages/Profile</code>ç›®å½•ä¸­ï¼Œç„¶ååœ¨ <code>pages/Profile/index.js</code> ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">&#39;@/components/Icon&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* é¡¶éƒ¨ä¸ªäººä¿¡æ¯åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token string">&#39;xxxxxxxx&#39;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/edit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            ä¸ªäººä¿¡æ¯ </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_right<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* ä»Šæ—¥é˜…è¯»åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>read-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_readingtime<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          ä»Šæ—¥é˜…è¯» </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">10</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> åˆ†é’Ÿ
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">åŠ¨æ€</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å…³æ³¨</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç²‰ä¸</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è¢«èµ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* ä¸»åŠŸèƒ½èœå•åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-links<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_mymessages<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ¶ˆæ¯é€šçŸ¥</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_mycollect<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ”¶è—</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_history1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æµè§ˆå†å²</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_myworks<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘çš„ä½œå“</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* æ›´å¤šæœåŠ¡èœå•åŒºåŸŸ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>more-service<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ›´å¤šæœåŠ¡</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>service-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>service-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/profile/feedback&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_feedback<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç”¨æˆ·åé¦ˆ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>service-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/profile/chat&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_xiaozhitongxue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å°æ™ºåŒå­¦</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="è¯·æ±‚ä¸ªäººåŸºæœ¬ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä¸ªäººåŸºæœ¬ä¿¡æ¯" aria-hidden="true">#</a> è¯·æ±‚ä¸ªäººåŸºæœ¬ä¿¡æ¯</h2><blockquote><p>ç›®æ ‡ï¼šè¿›å…¥ä¸ªäººä¸­å¿ƒé¡µé¢æ—¶ï¼Œè°ƒç”¨åç«¯æ¥å£ï¼Œè·å–ä¸ªäººåŸºæœ¬ä¿¡æ¯æ•°æ®</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ Hook å‡½æ•° <code>useEffect</code> ï¼Œåœ¨é¡µé¢è¿›å…¥æ—¶ï¼Œé€šè¿‡è°ƒç”¨ Action æ¥è°ƒç”¨åç«¯æ¥å£</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>store/actions/profile.js</code>ï¼Œå¹¶ç¼–å†™ Action Creator å‡½æ•°ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&quot;@/utils/http&quot;</span>

<span class="token doc-comment comment">/**
 * è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
 * <span class="token keyword">@returns</span> thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>pages/Profile/index.js</code> ä¸­ï¼Œä½¿ç”¨ <code>useEffect</code> åœ¨è¿›å…¥é¡µé¢æ—¶è°ƒç”¨ Actionï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getUser <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/profile&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// åœ¨è¿›å…¥é¡µé¢æ—¶æ‰§è¡Œ</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆåŠŸè°ƒç”¨åï¼Œå¯åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹æ‰“å°çš„ä¸ªäººåŸºæœ¬ä¿¡æ¯æ•°æ®ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901175404937.png" alt="image-20210901175404937" style="zoom:40%;"><hr><h2 id="å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥-redux" tabindex="-1"><a class="header-anchor" href="#å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥-redux" aria-hidden="true">#</a> å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥ Redux</h2><blockquote><p>ç›®æ ‡ï¼šå°†ä»åç«¯è·å–åˆ°çš„ä¸ªäººåŸºæœ¬ä¿¡æ¯å­˜å…¥ Reduxï¼Œä»¥å¤‡ç”¨äºåç»­çš„ä¸ªäººä¸­å¿ƒä¸»é¡µçš„ç•Œé¢æ¸²æŸ“ç­‰</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ª Reducerï¼Œç”¨äºæ“ä½œ Store ä¸­çš„ä¸ªäººåŸºæœ¬ä¿¡æ¯çŠ¶æ€</li><li>é€šè¿‡ä¸€ä¸ª Action æ¥è°ƒç”¨ Reducerï¼Œå°†ä¸ªäººåŸºæœ¬ä¿¡æ¯ä¿å­˜åˆ° Store ä¸­</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>store/reducers/profile.js</code>ï¼Œç¼–å†™æ“ä½œä¸ªäººåŸºæœ¬ä¿¡æ¯çš„ Reducer å‡½æ•°</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// åˆå§‹çŠ¶æ€</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// åŸºæœ¬ä¿¡æ¯</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ“ä½œç”¨æˆ·ä¸ªäººä¿¡æ¯çŠ¶æ€çš„ reducer å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span> <span class="token operator">=</span> action

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾ç½®åŸºæœ¬ä¿¡æ¯</span>
    <span class="token keyword">case</span> <span class="token string">&#39;profile/user&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>payload <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

    <span class="token comment">// é»˜è®¤</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>store/index.js</code> ä¸­é…ç½®ä»¥ä¸Šæ–°å¢çš„ Reducer</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> profile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./profile&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  login<span class="token punctuation">,</span>
  profile
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åœ¨ <code>store/actions/profile.js</code> ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå¯ç”¨äºè°ƒç”¨ä»¥ä¸Š Reducer ä¸­çš„ <code>profile/user</code> é€»è¾‘çš„ Action Creatorï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * è®¾ç½®ä¸ªäººåŸºæœ¬ä¿¡æ¯
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">user</span> 
 * <span class="token keyword">@returns</span> 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setUser</span> <span class="token operator">=</span> <span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;profile/user&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">payload</span><span class="token operator">:</span> user
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åœ¨ä¹‹å‰è°ƒç”¨åç«¯æ¥å£çš„ Action Creator å‡½æ•° <code>getUser</code> ä¸­ï¼Œè°ƒç”¨<code>setUser</code> å°†æ•°æ®ä¿å­˜åˆ° Redux Storeï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> user <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data

    <span class="token comment">// ä¿å­˜åˆ° Redux ä¸­</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ Redux DevTools ä¸­ç¡®è®¤æ•°æ®æ˜¯å¦å·²æ­£ç¡®è®¾ç½®ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210901183426325.png" alt="image-20210901183426325" style="zoom:50%;"><hr><h2 id="å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯æ¸²æŸ“åˆ°ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯æ¸²æŸ“åˆ°ç•Œé¢" aria-hidden="true">#</a> å°†ä¸ªäººåŸºæœ¬ä¿¡æ¯æ¸²æŸ“åˆ°ç•Œé¢</h2><blockquote><p>ç›®æ ‡ï¼šä» Redux Store ä¸­è·å–ä¹‹å‰å­˜å…¥çš„ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶æ¸²æŸ“åˆ°ä¸ªäººä¸­å¿ƒé¡µé¢çš„å¯¹åº”ä½ç½®</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <code>useSelector</code> ä» Redux Store ä¸­è·å–çŠ¶æ€</li><li>å°†è·å–çš„çŠ¶æ€æ¸²æŸ“åˆ°ç•Œé¢ä¸Š</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>pages/Profile/index.js</code> ä¸­ï¼Œè°ƒç”¨ <code>react-redux</code> æä¾›çš„ Hook å‡½æ•° <code>useSelector</code>ï¼Œä» Store ä¸­è·å–ä¹‹å‰å­˜å‚¨çš„ <code>user</code> çŠ¶æ€ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch<span class="token punctuation">,</span> useSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// è·å– Redux Store ä¸­çš„ä¸ªäººåŸºæœ¬ä¿¡æ¯</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä½¿ç”¨ä»¥ä¸Šè·å–åˆ°çš„æ•°æ®ï¼Œå¡«å……ç•Œé¢ä¸Šçš„ç›¸å…³å…ƒç´ </li></ol><p>ç”¨æˆ·å¤´åƒå’Œç”¨æˆ·åï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>photo<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902083418445.png" alt="image-20210902083418445" style="zoom:50%;"><p>ç»Ÿè®¡ä¿¡æ¯ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>art_count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">åŠ¨æ€</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>follow_count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å…³æ³¨</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>fans_count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç²‰ä¸</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>like_count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">è¢«èµ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902083434060.png" alt="image-20210902083434060" style="zoom:50%;"><hr><h2 id="ä¸ªäººè¯¦æƒ…é¡µé¢çš„é™æ€ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººè¯¦æƒ…é¡µé¢çš„é™æ€ç»“æ„" aria-hidden="true">#</a> ä¸ªäººè¯¦æƒ…é¡µé¢çš„é™æ€ç»“æ„</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°ä¸ªäººè¯¦æƒ…é¡µçš„é™æ€ç»“æ„å’Œæ ·å¼</p></blockquote><p>é¡µé¢å¸ƒå±€åˆ†è§£ç¤ºæ„ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902090634094.png" alt="image-20210902090634094" style="zoom:40%;"><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å°†èµ„æºåŒ…ä¸­ä¸ªäººè¯¦æƒ…é¡µé¢çš„æ ·å¼æ–‡ä»¶æ‹·è´åˆ° <code>pages/Profile/Edit/</code>ç›®å½•ä¸­ï¼Œç„¶ååœ¨ <code>pages/Profile/Edit/index.js</code> ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç </li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> DatePicker<span class="token punctuation">,</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;antd-mobile&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">ProfileEdit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        
        </span><span class="token punctuation">{</span><span class="token comment">/* é¡¶éƒ¨å¯¼èˆªæ  */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span> <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ä¸ªäººä¿¡æ¯</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token comment">/* åˆ—è¡¨ä¸€ï¼šæ˜¾ç¤ºå¤´åƒã€æ˜µç§°ã€ç®€ä»‹ */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;æ˜µç§°xxxx&#39;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ˜µç§°</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>intro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token string">&#39;æœªå¡«å†™&#39;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç®€ä»‹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

          </span><span class="token punctuation">{</span><span class="token comment">/* åˆ—è¡¨äºŒï¼šæ˜¾ç¤ºæ€§åˆ«ã€ç”Ÿæ—¥ */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ€§åˆ«</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DatePicker</span></span>
              <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>é€‰æ‹©å¹´æœˆæ—¥<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
              <span class="token attr-name">minDate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
              <span class="token attr-name">maxDate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;2020-02-02&#39;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç”Ÿæ—¥</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DatePicker</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

          </span><span class="token punctuation">{</span><span class="token comment">/* æ–‡ä»¶é€‰æ‹©æ¡†ï¼Œç”¨äºå¤´åƒå›¾ç‰‡çš„ä¸Šä¼  */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hidden</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* åº•éƒ¨æ ï¼šé€€å‡ºç™»å½•æŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é€€å‡ºç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProfileEdit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="è¯·æ±‚ä¸ªäººè¯¦æƒ…" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä¸ªäººè¯¦æƒ…" aria-hidden="true">#</a> è¯·æ±‚ä¸ªäººè¯¦æƒ…</h2><blockquote><p>ç›®æ ‡ï¼šè¿›å…¥ä¸ªäººè¯¦æƒ…é¡µé¢æ—¶ï¼Œè°ƒç”¨åç«¯æ¥å£ï¼Œè·å–ä¸ªäººè¯¦æƒ…æ•°æ®</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ Hook å‡½æ•° <code>useEffect</code> ï¼Œåœ¨é¡µé¢è¿›å…¥æ—¶ï¼Œé€šè¿‡è°ƒç”¨ Action æ¥è°ƒç”¨åç«¯æ¥å£</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>store/actions/profile.js</code> ä¸­ç¼–å†™ Action Creator å‡½æ•°ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * è·å–ç”¨æˆ·è¯¦æƒ…
 * <span class="token keyword">@returns</span> thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUserProfile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/profile&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>pages/Profile/Edit/index.js</code> ä¸­ï¼Œä½¿ç”¨ <code>useEffect</code> åœ¨è¿›å…¥é¡µé¢æ—¶è°ƒç”¨ Actionï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getUserProfile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/profile&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getUserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆåŠŸè°ƒç”¨åï¼Œå¯åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹æ‰“å°æ•°æ®ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902093122663.png" alt="image-20210902093122663" style="zoom:40%;"><hr><h2 id="å°†ä¸ªäººè¯¦æƒ…å­˜å…¥-redux" tabindex="-1"><a class="header-anchor" href="#å°†ä¸ªäººè¯¦æƒ…å­˜å…¥-redux" aria-hidden="true">#</a> å°†ä¸ªäººè¯¦æƒ…å­˜å…¥ Redux</h2><blockquote><p>ç›®æ ‡ï¼šå°†ä»åç«¯è·å–åˆ°çš„ä¸ªäººè¯¦æƒ…å­˜å…¥ Reduxï¼Œä»¥å¤‡ç”¨äºåç»­çš„ä¸ªäººè¯¦æƒ…é¡µé¢çš„ç•Œé¢æ¸²æŸ“</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ª Reducerï¼Œç”¨äºæ“ä½œ Store ä¸­çš„ä¸ªäººè¯¦æƒ…çŠ¶æ€</li><li>é€šè¿‡ä¸€ä¸ª Action æ¥è°ƒç”¨ Reducerï¼Œå°†ä¸ªäººè¯¦æƒ…ä¿å­˜åˆ° Store ä¸­</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>store/reducers/profile.js</code>ä¸­ï¼Œæ·»åŠ ä¸ªäººè¯¦æƒ…çŠ¶æ€ï¼Œä»¥åŠè®¾ç½®ä¸ªäººè¯¦æƒ…çš„ Reducer é€»è¾‘ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// åˆå§‹çŠ¶æ€</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// è¯¦æƒ…ä¿¡æ¯</span>
  <span class="token literal-property property">userProfile</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ“ä½œç”¨æˆ·ä¸ªäººä¿¡æ¯çŠ¶æ€çš„ reducer å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> payload <span class="token punctuation">}</span> <span class="token operator">=</span> action

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾ç½®è¯¦æƒ…ä¿¡æ¯</span>
    <span class="token keyword">case</span> <span class="token string">&#39;profile/profile&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">userProfile</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>payload <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>store/actions/profile.js</code> ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå¯ç”¨äºè°ƒç”¨ä»¥ä¸Š Reducer ä¸­çš„ <code>profile/profile</code> é€»è¾‘çš„ Action Creatorï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * è®¾ç½®ä¸ªäººè¯¦æƒ…
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">profile</span> 
 * <span class="token keyword">@returns</span> 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setUserProfile</span> <span class="token operator">=</span> <span class="token parameter">profile</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;profile/profile&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">payload</span><span class="token operator">:</span> profile
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åœ¨ä¹‹å‰è°ƒç”¨åç«¯æ¥å£çš„ Action Creator å‡½æ•° <code>getUserProfile</code> ä¸­ï¼Œè°ƒç”¨<code>setUserProfile</code> å°†æ•°æ®ä¿å­˜åˆ° Redux Storeï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUserProfile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/profile&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> profile <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data

    <span class="token comment">// ä¿å­˜åˆ° Redux ä¸­</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">setUserProfile</span><span class="token punctuation">(</span>profile<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å°†ä¸ªäººè¯¦æƒ…æ¸²æŸ“åˆ°ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#å°†ä¸ªäººè¯¦æƒ…æ¸²æŸ“åˆ°ç•Œé¢" aria-hidden="true">#</a> å°†ä¸ªäººè¯¦æƒ…æ¸²æŸ“åˆ°ç•Œé¢</h2><blockquote><p>ç›®æ ‡ï¼šä» Redux Store ä¸­è·å–ä¹‹å‰ä¿å­˜çš„ä¸ªäººè¯¦æƒ…ï¼Œå¹¶æ¸²æŸ“åˆ°ä¸ªäººè¯¦æƒ…é¡µçš„å¯¹åº”ä½ç½®</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <code>useSelector</code> ä» Redux Store ä¸­è·å–çŠ¶æ€</li><li>å°†è·å–çš„çŠ¶æ€æ¸²æŸ“åˆ°ç•Œé¢ä¸Š</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>pages/Profile/Edit/index.js</code> ä¸­ï¼Œè°ƒç”¨ <code>react-redux</code> æä¾›çš„ Hook å‡½æ•° <code>useSelector</code>ï¼Œä» Store ä¸­è·å–ä¹‹å‰å­˜å‚¨çš„ <code>userProfile</code> çŠ¶æ€ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch<span class="token punctuation">,</span> useSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// è·å– Redux Store ä¸­ä¸ªäººè¯¦æƒ…</span>
<span class="token keyword">const</span> profile <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>userProfile<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä½¿ç”¨ä»¥ä¸Šè·å–åˆ°çš„æ•°æ®ï¼Œå¡«å……ç•Œé¢ä¸Šçš„ç›¸å…³å…ƒç´ </li></ol><p>å¤´åƒã€æ˜µç§°ã€ç®€ä»‹ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>photo<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ˜µç§°</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classnames</span><span class="token punctuation">(</span><span class="token string">&quot;intro&quot;</span><span class="token punctuation">,</span> profile<span class="token punctuation">.</span>intro <span class="token operator">?</span> <span class="token string">&#39;normal&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>intro <span class="token operator">||</span> <span class="token string">&#39;æœªå¡«å†™&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç®€ä»‹</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€§åˆ«ã€ç”Ÿæ—¥ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#39;ç”·&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ€§åˆ«</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DatePicker</span></span>
  <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>é€‰æ‹©å¹´æœˆæ—¥<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>profile<span class="token punctuation">.</span>birthday<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">minDate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">maxDate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span> <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>birthday<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç”Ÿæ—¥</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DatePicker</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-ä»‹ç»" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šä»‹ç»</h2><blockquote><p>ç›®æ ‡ï¼šäº†è§£ç¼–è¾‘ä¸ªäººè¯¦æƒ…æ—¶ï¼Œå¯¹äºä¸åŒå­—æ®µçš„ç¼–è¾‘ç•Œé¢å½¢å¼</p></blockquote><p>å½“ç‚¹å‡»ä¸ªäººä¿¡æ¯é¡¹æ—¶ä¼šä»¥æ»‘åŠ¨æŠ½å±‰çš„å½¢å¼å±•ç°è¾“å…¥ç•Œé¢ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š</p><p><strong>ä¸€ã€ä»å±å¹•å³ä¾§æ»‘å…¥çš„ï¼šå…¨å±è¡¨å•æŠ½å±‰</strong></p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902110852864.png" alt="image-20210902110852864" style="zoom:25%;"><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>è¯¥ç•Œé¢çš„å¸ƒå±€æ˜¯å›ºå®šçš„ï¼šé¡¶éƒ¨å¯¼èˆªæ ã€è¦ç¼–è¾‘çš„å­—æ®µåç§°ã€ä¸€ä¸ªå†…å®¹è¾“å…¥æ¡†ã€‚

é‡‡ç”¨è¿™ç§ç•Œé¢æ–¹å¼è¿›è¡Œç¼–è¾‘çš„æ˜¯ï¼šæ˜µç§°ã€ç®€ä»‹ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>äºŒã€ä»å±å¹•åº•éƒ¨æ»‘å…¥çš„ï¼šèœå•åˆ—è¡¨æŠ½å±‰</strong></p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902111141816.png" alt="image-20210902111141816" style="zoom:25%;"><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>è¯¥ç•Œé¢çš„å¸ƒå±€æ˜¯å›ºå®šçš„ï¼šä¸€ä¸ªåˆ—è¡¨ã€ä¸€ä¸ªå–æ¶ˆæŒ‰é’®ã€‚

é‡‡ç”¨è¿™ç§ç•Œé¢æ–¹å¼è¿›è¡Œç¼–è¾‘çš„æ˜¯ï¼šå¤´åƒã€æ€§åˆ«ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®ç°æ€è·¯</strong></p><ul><li>å°†è¿™ä¸¤ç§ç•Œé¢å°è£…æˆ2ä¸ªç»„ä»¶</li><li>å‘ç»„ä»¶ä¼ å…¥é…ç½®ä¿¡æ¯ï¼Œè®©ç»„ä»¶æŒ‰é…ç½®ä¿¡æ¯æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹</li></ul><hr><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ç»„ä»¶åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ç»„ä»¶åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ç»„ä»¶åŸºæœ¬ä½¿ç”¨</h2><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ§åˆ¶æŠ½å±‰ç»„ä»¶çš„æ˜¾ç¤º</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>inputOpen<span class="token punctuation">,</span> setInputOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token parameter"><span class="token boolean">false</span></span><span class="token punctuation">)</span>

<span class="token punctuation">{</span><span class="token comment">/* å…¨å±è¡¨å•æŠ½å±‰ */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Drawer</span></span>
  <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawer<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">minHeight</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">sidebar</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å…¨å±æŠ½å±‰</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
  <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputOpen<span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  æ˜µç§°
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">&#39;intro&#39;</span><span class="token punctuation">,</span> profile<span class="token punctuation">.</span>intro <span class="token operator">?</span> <span class="token string">&#39;normal&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>intro <span class="token operator">||</span> <span class="token string">&#39;æœªå¡«å†™&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  ç®€ä»‹
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editinputç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editinputç»„ä»¶" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-EditInputç»„ä»¶</h2><ul><li>å¯¼å…¥æ ·å¼</li><li>å‡†å¤‡ç»“æ„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">EditInput</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span>
        <span class="token attr-name">rightContent</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commit-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æäº¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        ç¼–è¾‘æ˜µç§°
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ˜µç§°</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>çˆ¶ç»„ä»¶æ¸²æŸ“</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* å…¨å±è¡¨å•æŠ½å±‰ */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Drawer</span></span>
  <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawer<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">minHeight</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">sidebar</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditInput</span></span> <span class="token attr-name">onClose</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">EditInput</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
  <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputOpen<span class="token punctuation">}</span></span>
  <span class="token attr-name">children</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-navbarç»„ä»¶ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-navbarç»„ä»¶ä¿®æ”¹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-navBarç»„ä»¶ä¿®æ”¹</h2><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-åŒæ—¶æ§åˆ¶æ˜µç§°å’Œç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-åŒæ—¶æ§åˆ¶æ˜µç§°å’Œç®€ä»‹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-åŒæ—¶æ§åˆ¶æ˜µç§°å’Œç®€ä»‹</h2><ul><li>ä¿®æ”¹æ•°æ®æ ¼å¼</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æ§åˆ¶æŠ½å±‰ç»„ä»¶çš„æ˜¾ç¤º</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>inputOpen<span class="token punctuation">,</span> setInputOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// æŠ½å±‰æ˜¾ç¤ºçŠ¶æ€</span>
  <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// æ˜¾ç¤ºçš„ç±»å‹</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">const</span> <span class="token function-variable function">onClose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  æ˜µç§°
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">&#39;intro&#39;</span><span class="token punctuation">,</span> profile<span class="token punctuation">.</span>intro <span class="token operator">?</span> <span class="token string">&#39;normal&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>intro <span class="token operator">||</span> <span class="token string">&#39;æœªå¡«å†™&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;intro&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  ç®€ä»‹
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>




<span class="token punctuation">{</span><span class="token comment">/* å…¨å±è¡¨å•æŠ½å±‰ */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Drawer</span></span>
  <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawer<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">minHeight</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">sidebar</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditInput</span></span> <span class="token attr-name">onClose</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputOpen<span class="token punctuation">.</span>type<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">EditInput</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputOpen<span class="token punctuation">.</span>visible<span class="token punctuation">}</span></span>
  <span class="token attr-name">children</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å°è£…åŒ…å«å­—æ•°ç»Ÿè®¡çš„textarea" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å°è£…åŒ…å«å­—æ•°ç»Ÿè®¡çš„textarea" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å°è£…åŒ…å«å­—æ•°ç»Ÿè®¡çš„TextArea</h2><blockquote><p>ç›®æ ‡ï¼šå¯¹ <code>&lt;textarea&gt;</code>è¿›è¡Œå°è£…ï¼Œä½¿å¾—åœ¨è¾“å…¥å†…å®¹æ—¶å¯ä»¥æ˜¾ç¤ºå½“å‰å·²è¾“å…¥å­—æ•°å’Œå…è®¸è¾“å…¥çš„æ€»å­—æ•°</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902154346207.png" alt="image-20210902154346207" style="zoom:40%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>å£°æ˜ä¸€ä¸ªçŠ¶æ€ï¼Œç”¨äºè®°å½•è¾“å…¥å­—æ•°</li><li>åœ¨<code>&lt;textarea&gt;</code>è¾“å…¥å†…å®¹è§¦å‘<code>change</code>äº‹ä»¶æ—¶ï¼Œè·å–å½“å‰æœ€æ–°å†…å®¹å¾—åˆ°æœ€æ–°å­—æ•°ï¼Œæ›´æ–°åˆ°çŠ¶æ€ä¸­</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º <code>components/Textarea/index.js</code>ï¼Œå¹¶å°†èµ„æºåŒ…ä¸­çš„æ ·å¼æ–‡ä»¶æ‹·è´è¿‡æ¥ï¼Œç„¶åç¼–å†™ä»¥ä¸‹ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> classnames <span class="token keyword">from</span> <span class="token string">&#39;classnames&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token comment">/**
 * å¸¦å­—æ•°ç»Ÿè®¡çš„å¤šè¡Œæ–‡æœ¬
 * @param {String} className æ ·å¼ç±» 
 * @param {String} value æ–‡æœ¬æ¡†çš„å†…å®¹
 * @param {String} placeholder å ä½æ–‡æœ¬
 * @param {Function} onChange è¾“å…¥å†…å®¹å˜åŠ¨äº‹ä»¶ 
 * @param {String} maxLength å…è®¸æœ€å¤§è¾“å…¥çš„å­—æ•°ï¼ˆé»˜è®¤100ä¸ªå­—ç¬¦ï¼‰ 
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">Textarea</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> className<span class="token punctuation">,</span> value<span class="token punctuation">,</span> placeholder<span class="token punctuation">,</span> onChange<span class="token punctuation">,</span> maxLength <span class="token operator">=</span> <span class="token number">100</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å­—æ•°çŠ¶æ€</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token comment">// è¾“å…¥æ¡†çš„ change äº‹ä»¶ç›‘å¬å‡½æ•°</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onValueChange</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æœ€æ–°çš„è¾“å…¥å†…å®¹ï¼Œå¹¶å°†å®ƒçš„é•¿åº¦æ›´æ–°åˆ° count çŠ¶æ€</span>
    <span class="token keyword">const</span> newValue <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token function">setCount</span><span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    
    <span class="token comment">// è°ƒç”¨å¤–éƒ¨ä¼ å…¥çš„äº‹ä»¶å›è°ƒå‡½æ•°</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classnames</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">,</span> className<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* æ–‡æœ¬è¾“å…¥æ¡† */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span>
        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textarea<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">maxLength</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>maxLength<span class="token punctuation">}</span></span>
        <span class="token attr-name">placeholder</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>placeholder<span class="token punctuation">}</span></span>
        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span>
        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onValueChange<span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* å½“å‰å­—æ•°/æœ€å¤§å…è®¸å­—æ•° */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">/</span><span class="token punctuation">{</span>maxLength<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Textarea
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ˜µç§°å’Œç®€ä»‹çš„å›æ˜¾" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ˜µç§°å’Œç®€ä»‹çš„å›æ˜¾" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ˜µç§°å’Œç®€ä»‹çš„å›æ˜¾</h2><ul><li>æ§åˆ¶æ˜¾ç¤ºæ˜µç§°å’Œç®€ä»‹</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">&#39;@/components/Input&#39;</span>
<span class="token keyword">import</span> Textarea <span class="token keyword">from</span> <span class="token string">&#39;@/components/Textarea&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">EditInput</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose<span class="token punctuation">,</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span>
        <span class="token attr-name">rightContent</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commit-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æäº¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        ç¼–è¾‘</span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;æ˜µç§°&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;ç®€ä»‹&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;æ˜µç§°&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;ç®€ä»‹&#39;</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Textarea</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ•°æ®å›æ˜¾</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">&#39;@/components/Input&#39;</span>
<span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> Textarea <span class="token keyword">from</span> <span class="token string">&#39;@/components/Textarea&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">EditInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> config<span class="token punctuation">,</span> onClose<span class="token punctuation">,</span> onCommit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> type <span class="token punctuation">}</span> <span class="token operator">=</span> config

  <span class="token keyword">const</span> <span class="token function-variable function">onValueChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setValue</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span>
        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span>
        <span class="token attr-name">rightContent</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commit-btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">onCommit</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            æäº¤
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        ç¼–è¾‘</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onValueChange<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Textarea</span></span>
            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span>
            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onValueChange<span class="token punctuation">}</span></span>
          <span class="token punctuation">/&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EditInput

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ˜µç§°å’Œç®€ä»‹çš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ˜µç§°å’Œç®€ä»‹çš„ä¿®æ”¹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆæ˜µç§°å’Œç®€ä»‹çš„ä¿®æ”¹</h2><blockquote><p>ç›®æ ‡ï¼šåœ¨æŠ½å±‰è¡¨å•ä¸­ç¼–è¾‘æ˜µç§°æˆ–ç®€ä»‹åï¼Œå°†è¡¨å•è¿”å›çš„æ•°æ®æäº¤åˆ°åç«¯è¿›è¡Œæ›´æ–°ï¼Œå¹¶æ›´æ–°åˆ° Redux</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ç¼–å†™ç”¨äºåœ¨ Redux ä¸­æ›´æ–°ä¸ªäººè¯¦æƒ…å­—æ®µçš„ Reducer</li><li>ç¼–å†™ç”¨äºé€šè¿‡è°ƒç”¨åç«¯æ¥å£å³ Reducer æ¥æ›´æ–°ä¸ªäººè¯¦æƒ…å­—æ®µçš„ Action</li><li>åœ¨æŠ½å±‰è¡¨å•æäº¤æ•°æ®æ—¶è°ƒç”¨ Action</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>store/actions/profile.js</code>ä¸­ï¼Œç¼–å†™ Action Creatorï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>
<span class="token comment">/**
 * ä¿®æ”¹ä¸ªäººè¯¦æƒ…ï¼šæ˜µç§°ã€ç®€ä»‹ã€ç”Ÿæ—¥ã€æ€§åˆ« ï¼ˆæ¯æ¬¡ä¿®æ”¹ä¸€ä¸ªå­—æ®µï¼‰
 * @param {String} name è¦ä¿®æ”¹çš„å­—æ®µåç§°
 * @param {*} value è¦ä¿®æ”¹çš„å­—æ®µå€¼
 * @returns thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">updateProfile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨æ¥å£å°†æ•°æ®æ›´æ–°åˆ°åç«¯</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string">&#39;/user/profile&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// å¦‚æœåç«¯æ›´æ–°æˆåŠŸï¼Œåˆ™å†æ›´æ–° Redux ä¸­çš„æ•°æ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">&#39;OK&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getUserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ä¸ºæŠ½å±‰è¡¨å•ç»„ä»¶è®¾ç½® <code>onCommit</code> å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨è¯¥å‡½æ•°ä¸­è°ƒç”¨ä»¥ä¸Šçš„ Actionï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditInput</span></span>
  <span class="token comment">// ...</span>
  <span class="token attr-name">onCommit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onFormCommit<span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getUserProfile<span class="token punctuation">,</span> updateProfile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/profile&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æŠ½å±‰è¡¨å•çš„æ•°æ®æäº¤</span>
<span class="token keyword">const</span> <span class="token function-variable function">onFormCommit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è°ƒç”¨ Action æ›´æ–°æ•°æ®</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">updateProfile</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// å…³é—­æŠ½å±‰</span>
  <span class="token function">toggleDrawer</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å‡†å¤‡æ€§åˆ«å’Œå¤´åƒçš„æŠ½å±‰ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å‡†å¤‡æ€§åˆ«å’Œå¤´åƒçš„æŠ½å±‰ç»„ä»¶" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å‡†å¤‡æ€§åˆ«å’Œå¤´åƒçš„æŠ½å±‰ç»„ä»¶</h2><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å…³é—­æ˜µç§°å’Œç®€ä»‹çš„æ˜¾ç¤º</span>
<span class="token keyword">const</span> <span class="token function-variable function">onClose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setInputOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">setListOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// æ§åˆ¶å¤´åƒå’Œæ€§åˆ«</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>listOpen<span class="token punctuation">,</span> setListOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">{</span><span class="token comment">/* å¤´åƒã€æ€§åˆ« */</span><span class="token punctuation">}</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Drawer</span></span>
    <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawer-list<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">sidebar</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æ€§åˆ«å’Œå¤´åƒ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
    <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>listOpen<span class="token punctuation">.</span>visible<span class="token punctuation">}</span></span>
    <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Drawer</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">setListOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;avatar&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>photo<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  å¤´åƒ
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>
	

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List.Item</span></span>
  <span class="token attr-name">arrow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">extra</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>profile<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#39;ç”·&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">setListOpen</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;avatar&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  æ€§åˆ«
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List.Item</span></span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editlistç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-editlistç»„ä»¶" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-EditListç»„ä»¶</h2><ul><li>å‡†å¤‡æ ·å¼</li><li>å‡†å¤‡ç»“æ„</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>
<span class="token keyword">const</span> <span class="token function-variable function">EditList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ç”·</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¥³</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å–æ¶ˆ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> EditList

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ§åˆ¶æ˜¾ç¤º" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ§åˆ¶æ˜¾ç¤º" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æ§åˆ¶æ˜¾ç¤º</h2><ul><li>çˆ¶ç»„ä»¶æä¾›æ•°æ®</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ‹ç…§&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æœ¬åœ°é€‰æ‹©&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¼ é€’ç»™å­ç»„ä»¶</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* å¤´åƒã€æ€§åˆ« */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Drawer</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawer-list<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">sidebar</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditList</span></span> <span class="token attr-name">config</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>config<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>listOpen<span class="token punctuation">.</span>type<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">EditList</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
  <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>listOpen<span class="token punctuation">.</span>visible<span class="token punctuation">}</span></span>
  <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token string">&#39;&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Drawer</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å­ç»„ä»¶æ¸²æŸ“</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">EditList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> type<span class="token punctuation">,</span> config<span class="token punctuation">,</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> config<span class="token punctuation">[</span>type<span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        å–æ¶ˆ
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> EditList

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ä¸Šçš„åˆ—è¡¨ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-æŠ½å±‰ä¸Šçš„åˆ—è¡¨ç»„ä»¶" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šæŠ½å±‰ä¸Šçš„åˆ—è¡¨ç»„ä»¶</h2><blockquote><p>ç›®æ ‡ï¼šå°è£…ç”¨äºæ˜¾ç¤ºåœ¨åˆ—è¡¨æŠ½å±‰ä¸­çš„åˆ—è¡¨ç»„ä»¶ï¼Œå®ƒå¯é€šè¿‡é…ç½®çš„æ–¹å¼æ˜¾ç¤ºä¸åŒåˆ—è¡¨é¡¹</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902171500980.png" alt="image-20210902171500980" style="zoom:30%;"><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902171524407.png" alt="image-20210902171524407" style="zoom:30%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>ç•Œé¢ä¸»è¦ç”±ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªå–æ¶ˆæŒ‰é’®ç»„æˆ</li><li>ç•Œé¢ä¸­çš„åˆ—è¡¨æ•°æ®é€šè¿‡ç»„ä»¶å±æ€§ä¼ å…¥</li><li>â€œå–æ¶ˆâ€ æŒ‰é’®çš„ç›‘å¬å‡½æ•°é€šè¿‡ç»„ä»¶å±æ€§ä¼ å…¥</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li><p>åˆ›å»º <code>pages/Profile/Edit/components/EditList/</code> ç›®å½•ï¼Œå¹¶å°†èµ„æºåŒ…ä¸­çš„æ ·å¼æ–‡ä»¶æ‹·è´è¿›æ¥</p></li><li><p>åˆ›å»º <code>pages/Profile/Edit/components/EditList/index.js</code>ï¼Œç¼–å†™ç»„ä»¶ï¼š</p></li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">//ã€è¯´æ˜ã€‘ï¼šç»„ä»¶çš„ config å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;å­—æ®µ1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> &#39;æ•°ç»„å­—æ®µå&#39;<span class="token punctuation">,</span>
    items<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        title<span class="token operator">:</span> &#39;é€‰é¡¹ä¸€&#39;<span class="token punctuation">,</span>
        value<span class="token operator">:</span> &#39;é€‰é¡¹ä¸€çš„å€¼&#39;
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        title<span class="token operator">:</span> &#39;é€‰é¡¹äºŒ&#39;<span class="token punctuation">,</span>
        value<span class="token operator">:</span> &#39;é€‰é¡¹äºŒçš„å€¼&#39;
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// å…¶ä»–å­—æ®µ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»„ä»¶ä»£ç ï¼š</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token comment">/**
 * ä¸ªäººä¿¡æ¯é¡¹ä¿®æ”¹åˆ—è¡¨
 * @param {Object} config é…ç½®ä¿¡æ¯å¯¹è±¡
 * @param {Function} onSelect é€‰æ‹©åˆ—è¡¨é¡¹çš„å›è°ƒå‡½æ•°
 * @param {Function} onClose å–æ¶ˆæŒ‰é’®çš„å›è°ƒå‡½æ•°
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">EditList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> onSelect<span class="token punctuation">,</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* åˆ—è¡¨é¡¹ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>config<span class="token punctuation">.</span>items<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span>
          <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">onSelect</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>name<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* å–æ¶ˆæŒ‰é’® */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å–æ¶ˆ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EditList
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ€§åˆ«çš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆæ€§åˆ«çš„ä¿®æ”¹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆæ€§åˆ«çš„ä¿®æ”¹</h2><blockquote><p>ç›®æ ‡ï¼šåœ¨ä»ç‚¹å‡»æ€§åˆ«è¿›å…¥çš„æŠ½å±‰åˆ—è¡¨ä¸­é€‰æ‹©ä¸€é¡¹åï¼Œå°†é€‰ä¸­çš„æ•°æ®æäº¤åˆ°åç«¯è¿›è¡Œæ›´æ–°ï¼Œå¹¶æ›´æ–°åˆ° Redux</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å€ŸåŠ©ä¹‹å‰å®ç°çš„æ›´æ–°ä¸ªäººè¯¦æƒ…çš„ Action <strong>å°è£…çš„é­…åŠ›</strong></li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">onCommit</span><span class="token punctuation">(</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">onCommit</span><span class="token punctuation">(</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆå¤´åƒçš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆå¤´åƒçš„ä¿®æ”¹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆå¤´åƒçš„ä¿®æ”¹</h2><blockquote><p>ç›®æ ‡ï¼šåœ¨ä»ç‚¹å‡»å¤´åƒè¿›å…¥çš„æŠ½å±‰åˆ—è¡¨ä¸­é€‰æ‹©ä¸€é¡¹åï¼Œä»å¼¹å‡ºçš„æ–‡ä»¶é€‰æ‹©å™¨ä¸­é€‰å–ä¸€å¼ å›¾ç‰‡ä¸Šä¼ åˆ°åç«¯ï¼Œå¹¶å°†æ–°å¤´åƒåœ°å€æ›´æ–°åˆ° Redux</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å®ç°ä¸€ä¸ªç”¨äºè°ƒç”¨æ¥å£è¿›è¡Œå¤´åƒä¸Šä¼ ã€åŠå°†ä¸Šä¼ åçš„æ–°å›¾ç‰‡åœ°å€æ›´æ–°åˆ° Redux çš„ Action</li><li>ä½¿ç”¨ Hook å‡½æ•° <code>useRef</code> æ“ä½œæ–‡ä»¶è¾“å…¥æ¡†å…ƒç´  <code>&lt;input type=&quot;file&quot;&gt;</code> ï¼Œè§¦å‘æ–‡ä»¶è¾“å…¥å¼¹æ¡†</li><li>ç›‘å¬æ–‡ä»¶è¾“å…¥æ¡†çš„ <code>onChange</code> äº‹ä»¶ï¼Œåœ¨æ–‡ä»¶å˜åŒ–æ—¶è°ƒç”¨ Action è¿›è¡Œä¸Šä¼ </li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ul><li>åœ¨ <code>store/actions/profile.js</code>ä¸­ï¼Œå®ç°ç”¨äºä¸Šä¼ å¤´åƒçš„ Action Creatorï¼š</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * æ›´æ–°å¤´åƒ
 * @param {FormData} formData ä¸Šä¼ å¤´åƒä¿¡æ¯çš„è¡¨å•æ•°æ®
 * @returns thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">updateAvatar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">formData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨æ¥å£è¿›è¡Œä¸Šä¼ </span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string">&#39;/user/photo&#39;</span><span class="token punctuation">,</span> formData<span class="token punctuation">)</span>

    <span class="token comment">// å¦‚æœåç«¯æ›´æ–°æˆåŠŸï¼Œåˆ™å†æ›´æ–° Redux ä¸­çš„æ•°æ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">&#39;OK&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getUserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»º ref å¯¹è±¡ï¼Œå¹¶å…³è”åˆ°æ–‡ä»¶è¾“å…¥æ¡†å…ƒç´ </li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> fileRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hidden</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fileRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>ä¿®æ”¹configå¯¹è±¡</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ‹ç…§&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        fileRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æœ¬åœ°é€‰æ‹©&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        fileRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">onCommit</span><span class="token punctuation">(</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">onCommit</span><span class="token punctuation">(</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸ºæ–‡ä»¶è¾“å…¥æ¡†æ·»åŠ  <code>onChange</code> ç›‘å¬å‡½æ•°ï¼Œå¹¶åœ¨è¯¥å‡½æ•°ä¸­è·å–é€‰ä¸­çš„æ–‡ä»¶åè°ƒç”¨ Action è¿›è¡Œä¸Šä¼ å’Œæ›´æ–°</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hidden</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fileRef<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onAvatarChange<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getUserProfile<span class="token punctuation">,</span> updateAvatar<span class="token punctuation">,</span> updateProfile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/profile&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">onAvatarChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–é€‰ä¸­çš„å›¾ç‰‡æ–‡ä»¶</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

  <span class="token comment">// ç”Ÿæˆè¡¨å•æ•°æ®</span>
  <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;photo&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>

  <span class="token comment">// è°ƒç”¨ Action è¿›è¡Œä¸Šä¼ å’Œ Redux æ•°æ®æ›´æ–°</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">updateAvatar</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">)</span>

  Toast<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&#39;å¤´åƒä¸Šä¼ æˆåŠŸ&#39;</span><span class="token punctuation">)</span>
  <span class="token function">onClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆç”Ÿæ—¥çš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘ä¸ªäººè¯¦æƒ…-å®Œæˆç”Ÿæ—¥çš„ä¿®æ”¹" aria-hidden="true">#</a> ç¼–è¾‘ä¸ªäººè¯¦æƒ…ï¼šå®Œæˆç”Ÿæ—¥çš„ä¿®æ”¹</h2><blockquote><p>ç›®æ ‡ï¼šåœ¨ä»ç‚¹å‡»ç”Ÿæ—¥è¿›å…¥çš„æ—¥æœŸé€‰æ‹©å™¨ä¸­é€‰æ‹©æ–°æ—¥æœŸåï¼Œå°†é€‰ä¸­æ•°æ®æäº¤åˆ°åç«¯è¿›è¡Œæ›´æ–°ï¼Œå¹¶æ›´æ–°åˆ° Redux</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>å€ŸåŠ©ä¹‹å‰å®ç°çš„æ›´æ–°ä¸ªäººè¯¦æƒ…çš„ Action</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>ä¸ºæ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶è®¾ç½® <code>onChange</code> å›è°ƒå‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°æ‰§è¡Œå¯¹åº” Action</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DatePicker</span></span>
  <span class="token comment">// ...</span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onBirthdayChange<span class="token punctuation">}</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ä¿®æ”¹ç”Ÿæ—¥</span>
<span class="token keyword">const</span> <span class="token function-variable function">onBirthdayChange</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å°†ä» DatePicker ç»„ä»¶è·å–åˆ°çš„ Date å¯¹è±¡ï¼Œè½¬æˆå­—ç¬¦ä¸²çš„å½¢å¼</span>
  <span class="token keyword">const</span> year <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> month <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">const</span> day <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dateStr <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>month<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>day<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

  <span class="token comment">// è°ƒç”¨ Action æ›´æ–°æ•°æ®</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token string">&#39;birthday&#39;</span><span class="token punctuation">,</span> dateStr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><hr><h2 id="èŠå¤©å®¢æœ-å°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¢æœ-å°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„" aria-hidden="true">#</a> èŠå¤©å®¢æœï¼šå°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°å°æ™ºåŒå­¦é¡µé¢çš„é™æ€ç»“æ„å’Œæ ·å¼</p></blockquote><p>é¡µé¢å¸ƒå±€ç»“æ„åˆ†æï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210903174406559.png" alt="image-20210903174406559" style="zoom:40%;"><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å°†èµ„æºåŒ…ä¸­çš„æ ·å¼æ–‡ä»¶æ‹·è´åˆ° <code>pages/Profile/Chat/</code>ç›®å½•ä¸‹ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸­çš„<code>index.js</code>é‡Œç¼–å†™ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Icon <span class="token keyword">from</span> <span class="token string">&#39;@/components/Icon&#39;</span>
<span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">&#39;@/components/Input&#39;</span>
<span class="token keyword">import</span> NavBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/NavBar&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.module.scss&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Chat</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* é¡¶éƒ¨å¯¼èˆªæ  */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavBar</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixed-header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onLeftClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        å°æ™ºåŒå­¦
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* èŠå¤©è®°å½•åˆ—è¡¨ */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* æœºå™¨äººçš„æ¶ˆæ¯ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_xiaozhitongxue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ä½ å¥½ï¼</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* ç”¨æˆ·çš„æ¶ˆæ¯ */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-item user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;http://toutiao.itheima.net/images/user_head.jpg&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ä½ å¥½ï¼Ÿ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* åº•éƒ¨æ¶ˆæ¯è¾“å…¥æ¡† */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-border<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·æè¿°æ‚¨çš„é—®é¢˜<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbianji<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Chat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="èŠå¤©å®¢æœ-åŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¢æœ-åŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨" aria-hidden="true">#</a> èŠå¤©å®¢æœï¼šåŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨</h2><blockquote><p>ç›®æ ‡ï¼šå°†èŠå¤©æ•°æ®å­˜åœ¨æ•°ç»„çŠ¶æ€ä¸­ï¼Œå†åŠ¨æ€æ¸²æŸ“åˆ°ç•Œé¢ä¸Š</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å£°æ˜ä¸€ä¸ªæ•°ç»„çŠ¶æ€</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// èŠå¤©è®°å½•</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>messageList<span class="token punctuation">,</span> setMessageList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token comment">// æ”¾ä¸¤æ¡åˆå§‹æ¶ˆæ¯</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;robot&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;äº²çˆ±çš„ç”¨æˆ·æ‚¨å¥½ï¼Œå°æ™ºåŒå­¦ä¸ºæ‚¨æœåŠ¡ã€‚&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;ä½ å¥½&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä» Redux ä¸­è·å–å½“å‰ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å½“å‰ç”¨æˆ·ä¿¡æ¯</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æ ¹æ®æ•°ç»„æ•°æ®ï¼ŒåŠ¨æ€æ¸²æŸ“èŠå¤©è®°å½•åˆ—è¡¨</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* èŠå¤©è®°å½•åˆ—è¡¨ */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>messageList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æœºå™¨äººçš„æ¶ˆæ¯</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;robot&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconbtn_xiaozhitongxue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msg<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ç”¨æˆ·çš„æ¶ˆæ¯</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-item user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>photo <span class="token operator">||</span> <span class="token string">&#39;http://toutiao.itheima.net/images/user_head.jpg&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msg<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210904085509862.png" alt="image-20210904085509862" style="zoom:50%;"><hr><h2 id="èŠå¤©å®¢æœ-å»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¢æœ-å»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥" aria-hidden="true">#</a> èŠå¤©å®¢æœï¼šå»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥</h2><blockquote><p>ç›®æ ‡ï¼šä½¿ç”¨ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹ WebSocket é•¿è¿æ¥</p></blockquote><p>æœ¬é¡¹ç›®èŠå¤©å®¢æœçš„åç«¯æ¥å£ï¼Œä½¿ç”¨çš„æ˜¯åŸºäº WebSocket åè®®çš„ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥å£ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸“é—¨çš„ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®¢æˆ·ç«¯åº“ï¼Œå°±èƒ½è½»æ¾å»ºç«‹èµ·è¿æ¥å¹¶è¿›è¡Œäº’ç›¸é€šä¿¡ã€‚</p><p>å®ç°æ€è·¯ï¼š</p><ul><li>å€ŸåŠ© <code>useEffect</code>ï¼Œåœ¨è¿›å…¥é¡µé¢æ—¶è°ƒç”¨å®¢æˆ·ç«¯åº“å»ºç«‹ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¿æ¥</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å®‰è£… <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®¢æˆ·ç«¯åº“ï¼š<code>socket.io-client</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i socket.io-client --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>åœ¨è¿›å…¥æœºå™¨äººå®¢æœé¡µé¢æ—¶ï¼Œåˆ›å»º <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®¢æˆ·ç«¯</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> io <span class="token keyword">from</span> <span class="token string">&#39;socket.io-client&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getTokenInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/storage&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ç”¨äºç¼“å­˜ socket.io å®¢æˆ·ç«¯å®ä¾‹</span>
<span class="token keyword">const</span> clientRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹</span>
  <span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">&#39;http://toutiao.itheima.net&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">transports</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;websocket&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// åœ¨æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ä¸­ä¼ é€’ token</span>
    <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token function">getTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>token
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// ç›‘å¬è¿æ¥æˆåŠŸçš„äº‹ä»¶</span>
  client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;connect&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‘èŠå¤©è®°å½•ä¸­æ·»åŠ ä¸€æ¡æ¶ˆæ¯</span>
    <span class="token function">setMessageList</span><span class="token punctuation">(</span><span class="token parameter">messageList</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>messageList<span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;robot&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;æˆ‘ç°åœ¨æ­å€™ç€æ‚¨çš„æé—®ã€‚&#39;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// ç›‘å¬æ”¶åˆ°æ¶ˆæ¯çš„äº‹ä»¶</span>
  client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;&gt;&gt;&gt;&gt;æ”¶åˆ° socket.io æ¶ˆæ¯:&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// å°†å®¢æˆ·ç«¯å®ä¾‹ç¼“å­˜åˆ° ref å¼•ç”¨ä¸­</span>
  clientRef<span class="token punctuation">.</span>current <span class="token operator">=</span> client

  <span class="token comment">// åœ¨ç»„ä»¶é”€æ¯æ—¶å…³é—­ socket.io çš„è¿æ¥</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¸¸æƒ…å†µï¼Œä¸€è¿›å…¥å®¢æœé¡µé¢ï¼Œå°±èƒ½åœ¨æ§åˆ¶å°çœ‹åˆ°è¿æ¥æˆåŠŸçš„ä¿¡æ¯ï¼š</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210903181934664.png" alt="image-20210903181934664" style="zoom:40%;"><hr><h2 id="èŠå¤©å®¢æœ-ç»™æœºå™¨äººå‘æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¢æœ-ç»™æœºå™¨äººå‘æ¶ˆæ¯" aria-hidden="true">#</a> èŠå¤©å®¢æœï¼šç»™æœºå™¨äººå‘æ¶ˆæ¯</h2><blockquote><p>ç›®æ ‡ï¼šå°†è¾“å…¥æ¡†å†…å®¹é€šè¿‡ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å‘é€åˆ°æœåŠ¡ç«¯</p></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®ä¾‹çš„ <code>emit()</code> æ–¹æ³•å‘é€ä¿¡æ¯</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>å£°æ˜ä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶ç»‘å®šæ¶ˆæ¯è¾“å…¥æ¡†</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// è¾“å…¥æ¡†ä¸­çš„å†…å®¹</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-border<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·æè¿°æ‚¨çš„é—®é¢˜<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>
  <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä¸ºæ¶ˆæ¯è¾“å…¥æ¡†æ·»åŠ é”®ç›˜äº‹ä»¶ï¼Œåœ¨è¾“å…¥å›è½¦æ—¶å‘é€æ¶ˆæ¯</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
	<span class="token comment">// ...</span>
  <span class="token attr-name">onKeyUp</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSendMessage<span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// æŒ‰å›è½¦å‘é€æ¶ˆæ¯</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSendMessage</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// é€šè¿‡ socket.io å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯</span>
    clientRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">msg</span><span class="token operator">:</span> message<span class="token punctuation">,</span>
      <span class="token literal-property property">timestamp</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// å‘èŠå¤©è®°å½•ä¸­æ·»åŠ å½“å‰å‘é€çš„æ¶ˆæ¯</span>
    <span class="token function">setMessageList</span><span class="token punctuation">(</span><span class="token parameter">messageList</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>messageList<span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> message <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// å‘é€åæ¸…ç©ºè¾“å…¥æ¡†</span>
    <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="èŠå¤©å®¢æœ-æ¥æ”¶æœºå™¨äººå›å¤çš„æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¢æœ-æ¥æ”¶æœºå™¨äººå›å¤çš„æ¶ˆæ¯" aria-hidden="true">#</a> èŠå¤©å®¢æœï¼šæ¥æ”¶æœºå™¨äººå›å¤çš„æ¶ˆæ¯</h2><blockquote><p>ç›®æ ‡ï¼š</p><ol><li><p>é€šè¿‡ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ç›‘å¬å›å¤çš„æ¶ˆæ¯ï¼Œå¹¶æ·»åŠ åˆ°èŠå¤©åˆ—è¡¨ä¸­ï¼›</p></li><li><p>ä¸”å½“æ¶ˆæ¯è¾ƒå¤šå‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œæœ‰åç»­æ–°æ¶ˆæ¯çš„è¯æ€»å°†æ»šåŠ¨æ¡æ»šåŠ¨åˆ°æœ€åº•éƒ¨ã€‚</p></li></ol></blockquote><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®ä¾‹çš„ <code>message</code> äº‹ä»¶æ¥æ”¶ä¿¡æ¯</li><li>åœ¨èŠå¤©åˆ—è¡¨æ•°æ®å˜åŒ–æ—¶ï¼Œæ“ä½œåˆ—è¡¨å®¹å™¨å…ƒç´ æ¥è®¾ç½®æ»šåŠ¨é‡</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <a href="http://socket.io" target="_blank" rel="noopener noreferrer">socket.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®ä¾‹çš„ <code>message</code> äº‹ä»¶ä¸­ï¼Œå°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ·»åŠ åˆ°èŠå¤©åˆ—è¡¨ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ç›‘å¬æ”¶åˆ°æ¶ˆæ¯çš„äº‹ä»¶</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‘èŠå¤©è®°å½•ä¸­æ·»åŠ æœºå™¨äººå›å¤çš„æ¶ˆæ¯</span>
  <span class="token function">setMessageList</span><span class="token punctuation">(</span><span class="token parameter">messageList</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>messageList<span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;robot&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> data<span class="token punctuation">.</span>msg <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>å£°æ˜ä¸€ä¸ª ref å¹¶è®¾ç½®åˆ°èŠå¤©åˆ—è¡¨çš„å®¹å™¨å…ƒç´ ä¸Š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ç”¨äºæ“ä½œèŠå¤©åˆ—è¡¨å…ƒç´ çš„å¼•ç”¨</span>
<span class="token keyword">const</span> chatListRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chatListRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>é€šè¿‡ <code>useEffect</code> ç›‘å¬èŠå¤©æ•°æ®å˜åŒ–ï¼Œå¯¹èŠå¤©å®¹å™¨å…ƒç´ çš„ scrollTop è¿›è¡Œè®¾ç½®ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// ç›‘å¬èŠå¤©æ•°æ®çš„å˜åŒ–ï¼Œæ”¹å˜èŠå¤©å®¹å™¨å…ƒç´ çš„ scrollTop å€¼è®©é¡µé¢æ»šåˆ°æœ€åº•éƒ¨</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  chatListRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> chatListRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>scrollHeight
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>messageList<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="é€€å‡ºç™»å½•" tabindex="-1"><a class="header-anchor" href="#é€€å‡ºç™»å½•" aria-hidden="true">#</a> é€€å‡ºç™»å½•</h2><blockquote><p>ç›®æ ‡ï¼šç‚¹å‡» â€œé€€å‡ºç™»å½•â€ æŒ‰é’®åè¿”å›åˆ°ç™»å½•é¡µé¢</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210902104308053.png" alt="image-20210902104308053" style="zoom:40%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>ç‚¹å‡» â€œé€€å‡ºç™»å½•â€ åï¼Œéœ€è¦å¼¹ä¿¡æ¯æ¡†è®©ç”¨æˆ·ç¡®è®¤</li><li>ç¡®è®¤é€€å‡ºï¼Œåˆ™æ¸…ç©º Redux å’Œ LocalStorage ä¸­çš„ Token ä¿¡æ¯</li><li>æ¸…ç©º Token åè·³è½¬é¡µé¢åˆ°ç™»å½•é¡µ</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>ä¸ºâ€œé€€å‡ºç™»å½•â€æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå¹¶åœ¨ç›‘å¬å‡½æ•°ä¸­å¼¹å‡ºç¡®è®¤æ¡†ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLogout<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é€€å‡ºç™»å½•</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> DatePicker<span class="token punctuation">,</span> List<span class="token punctuation">,</span> Modal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;antd-mobile&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// é€€å‡ºç™»å½•</span>
<span class="token keyword">const</span> <span class="token function-variable function">onLogout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†</span>
  Modal<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;æ¸©é¦¨æç¤º&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ä½ ç¡®å®šé€€å‡ºå—ï¼Ÿ&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// å–æ¶ˆæŒ‰é’®</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;å–æ¶ˆ&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ç¡®è®¤æŒ‰é’®</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;ç¡®è®¤&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#FC6627&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onPress</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æ‰§è¡Œç™»å‡º....&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>store/reducers/login.js</code>ä¸­ï¼Œæ·»åŠ åˆ é™¤ Token ä¿¡æ¯çš„ Reducer é€»è¾‘ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&#39;login/clear&#39;</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åœ¨ <code>store/action/login.js</code>ä¸­ï¼Œæ·»åŠ ç”¨äºä» Redux å’Œ LocalStorage ä¸­åˆ é™¤ Token ä¿¡æ¯çš„ Action Creatorï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * å°† Token ä¿¡æ¯ä» Redux ä¸­åˆ é™¤
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">clearToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;login/clear&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * ç™»å‡º
 * <span class="token keyword">@returns</span> thunk
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">logout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ é™¤ LocalStorage ä¸­çš„ Token ä¿¡æ¯</span>
    <span class="token function">removeTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment">// åˆ é™¤ Redux ä¸­çš„ Token ä¿¡æ¯</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">clearToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åœ¨â€œé€€å‡ºç™»å½•â€çš„å¼¹æ¡†å›è°ƒ <code>onPress</code> ä¸­è°ƒç”¨ä»¥ä¸Š Action åˆ é™¤ Token åï¼Œè·³è½¬åˆ°ç™»å½•é¡µï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> logout <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/actions/login&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">onPress</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ é™¤ Token ä¿¡æ¯</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// è·³è½¬åˆ°ç™»å½•é¡µ</span>
  history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h1 id="æƒé™æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#æƒé™æ§åˆ¶" aria-hidden="true">#</a> æƒé™æ§åˆ¶</h1><h2 id="å¤„ç†ç™»å½•åçš„é¡µé¢è·³è½¬" tabindex="-1"><a class="header-anchor" href="#å¤„ç†ç™»å½•åçš„é¡µé¢è·³è½¬" aria-hidden="true">#</a> å¤„ç†ç™»å½•åçš„é¡µé¢è·³è½¬</h2><blockquote><p>ç›®æ ‡ï¼šå½“è¿›è¡Œç™»å½•è·å–åˆ° Token åï¼Œåº”å½“å°†é¡µé¢è·³åˆ°åˆé€‚çš„é¡µé¢å»</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ç™»å½•é¡µé¢è¡¨å•å¯¹è±¡çš„ <code>onSubmit</code> æ–¹æ³•ä¸­ï¼Œåœ¨è·å– Token åæ·»åŠ é¡µé¢è·³è½¬é€»è¾‘</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory<span class="token punctuation">,</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// è·å–è·¯ç”±ä¿¡æ¯ location å¯¹è±¡</span>
<span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Formik è¡¨å•å¯¹è±¡</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">useFormik</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// æäº¤</span>
  <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">login</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// ç™»å½•åè¿›è¡Œé¡µé¢è·³è½¬</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token punctuation">}</span> <span class="token operator">=</span> location
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœä¸æ˜¯ä»å…¶ä»–é¡µé¢è·³åˆ°çš„ç™»å½•é¡µï¼Œåˆ™ç™»å½•åé»˜è®¤è¿›å…¥é¦–é¡µ</span>
      history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/home/index&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦åˆ™è·³å›åˆ°ä¹‹å‰è®¿é—®çš„é¡µé¢</span>
      history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>from<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="token-çš„å¤±æ•ˆå¤„ç†å’Œæ— æ„Ÿåˆ·æ–°" tabindex="-1"><a class="header-anchor" href="#token-çš„å¤±æ•ˆå¤„ç†å’Œæ— æ„Ÿåˆ·æ–°" aria-hidden="true">#</a> Token çš„å¤±æ•ˆå¤„ç†å’Œæ— æ„Ÿåˆ·æ–°</h2><blockquote><p>ç›®æ ‡ï¼šäº†è§£å½“è¯·æ±‚åç«¯æ¥å£æ—¶ï¼Œå¦‚æœå‘ç”Ÿäº†ç”±äº Token å¤±æ•ˆè€Œäº§ç”Ÿçš„è¯·æ±‚å¤±è´¥ï¼Œåº”è¯¥å¦‚ä½•è¿›è¡Œå¤„ç†</p></blockquote><p>å¸¸ç”¨çš„å¤„ç†æµç¨‹ï¼š</p><p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210903111508949.png" alt="image-20210903111508949" loading="lazy"></p><p>æ€æƒ³æ€»ç»“ï¼š</p><ul><li>æ—  Tokenï¼Œç›´æ¥è·³åˆ°ç™»å½•é¡µ</li><li>æœ‰ Tokenï¼Œåˆ™ç”¨ Refresh Token æ¢æ–° Tokenï¼šæ¢æˆåŠŸåˆ™ç”¨æ–° Token é‡å‘åŸå…ˆçš„è¯·æ±‚ï¼Œæ²¡æ¢æˆåŠŸåˆ™è·³åˆ°ç™»å½•é¡µ</li></ul><blockquote><p>è¿™ä¸€ç³»åˆ—æ“ä½œï¼Œå¯ä»¥åœ¨å°è£…çš„ http è¯·æ±‚æ¨¡å—ä¸­å®Œæˆã€‚</p></blockquote><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨ <code>utils/http.js</code>æ¨¡å—é‡Œï¼Œå“åº”æ‹¦æˆªå™¨çš„é”™è¯¯å›è°ƒå‡½æ•°ä¸­ï¼Œå¤„ç† 401 é”™è¯¯ï¼š</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getTokenInfo<span class="token punctuation">,</span> removeTokenInfo<span class="token punctuation">,</span> setTokenInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./storage&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;@/store&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>http<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> response
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–é”™è¯¯ä¿¡æ¯ä¸­åŒ…å«çš„è¯·æ±‚é…ç½®ä¿¡æ¯å’Œå“åº”æ•°æ®</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> config<span class="token punctuation">,</span> response <span class="token punctuation">}</span> <span class="token operator">=</span> error

  <span class="token comment">// åˆ¤æ–­ HTTP çŠ¶æ€ç æ˜¯å¦ä¸º 401ï¼Œå³ token ä¸æ­£ç¡®é€ æˆçš„æˆæƒé—®é¢˜</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     
    <span class="token comment">// ... ã€æˆ‘ä»¬çš„ä¸»è¦å¤„ç†é€»è¾‘åœ¨è¿™é‡Œã€‘ ...</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å…¶ä»–é”™è¯¯</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ä¸Šé¢ 401 åˆ¤æ–­è¯­å¥ä¸‹ï¼šå…ˆè·å–å½“å‰ Token ä¿¡æ¯ï¼Œå¹¶åˆ¤æ–­ token å’Œ refresh_token æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è·³åˆ°ç™»å½•é¡µ</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> token<span class="token punctuation">,</span> refresh_token <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å¦‚æœæ˜¯æ²¡æœ‰ Token æˆ– Refresh Token</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token <span class="token operator">||</span> <span class="token operator">!</span>refresh_token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·³è½¬åˆ°ç™»å½•é¡µï¼Œå¹¶æºå¸¦ä¸Šå½“å‰æ­£åœ¨è®¿é—®çš„é¡µé¢ï¼Œç­‰ç™»å½•æˆåŠŸåå†è·³å›è¯¥é¡µé¢</span>
  history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> history<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">||</span> <span class="token string">&#39;/home&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æ¥ä¸Šé¢çš„é€»è¾‘ï¼šå¦‚æœä¸æ˜¯æ²¡æœ‰ Token ä¿¡æ¯çš„æƒ…å†µï¼Œåˆ™å°±æ˜¯ Token å¤±æ•ˆäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥ç”¨ refresh token å»å°è¯•æ¢å–æ–° tokenï¼Œè·å–åˆ°åå­˜å‚¨ï¼Œå¹¶é‡å‘è¯·æ±‚</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€šè¿‡ Refresh Token æ¢å–æ–° Token</span>
  <span class="token comment">// ç‰¹åˆ«è¯´æ˜ï¼šè¿™ä¸ªåœ°æ–¹å‘è¯·æ±‚çš„æ—¶å€™ï¼Œä¸èƒ½ä½¿ç”¨æ–°å»ºçš„ http å®ä¾‹å»è¯·æ±‚ï¼Œè¦ç”¨é»˜è®¤å®ä¾‹ axios å»è¯·æ±‚ï¼</span>
  <span class="token comment">// å¦åˆ™ä¼šå›  http å®ä¾‹çš„è¯·æ±‚æ‹¦æˆªå™¨çš„ä½œç”¨ï¼Œæºå¸¦ä¸Šè€çš„ token è€Œä¸æ˜¯ refresh_token</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>config<span class="token punctuation">.</span>baseURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/authorizations</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>refresh_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// å°†æ–°æ¢åˆ°çš„ Token ä¿¡æ¯ä¿å­˜åˆ° Redux å’Œ LocalStorage ä¸­</span>
  <span class="token keyword">const</span> tokenInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>token<span class="token punctuation">,</span>
    refresh_token<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTokenInfo</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">saveToken</span><span class="token punctuation">(</span>tokenInfo<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// é‡æ–°å‘é€ä¹‹å‰å›  Token æ— æ•ˆè€Œå¤±è´¥çš„è¯·æ±‚</span>
  <span class="token keyword">return</span> <span class="token function">http</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token comment">// ... è¿™é‡Œåç»­ç¼–å†™ Token æ¢å–å¤±è´¥çš„é€»è¾‘ ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>å¦‚æœæ¢å–æ–° token å¤±è´¥ï¼Œåˆ™æ¸…ç©ºæœ¬åœ°å·²æœ‰çš„ Token ä¿¡æ¯åï¼Œè·³è½¬åˆ°ç™»å½•é¡µ</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ¸…é™¤ Redux å’Œ LocalStorage ä¸­ Token ä¿¡æ¯</span>
  <span class="token function">removeTokenInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">clearToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// è·³è½¬åˆ°ç™»å½•é¡µï¼Œå¹¶æºå¸¦ä¸Šå½“å‰æ­£åœ¨è®¿é—®çš„é¡µé¢ï¼Œç­‰ç™»å½•æˆåŠŸåå†è·³å›è¯¥é¡µé¢</span>
  history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> history<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">||</span> <span class="token string">&#39;/home&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•ˆæœæµ‹è¯•ï¼š</p><p>æŒ‰ä¸‹å›¾ä¿®æ”¹ LocalStorage ä¸­çš„ tokenï¼Œä¿®æ”¹ååˆ·æ–°é¡µé¢ï¼ŒæˆåŠŸæ‰§è¡Œçš„è¯ï¼Œå¯ä»¥è¯¥tokenè¢«æ›¿æ¢æˆäº†æ–°çš„ token</p><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210903153923341.png" alt="image-20210903153923341" style="zoom:50%;"><hr><h2 id="å°è£…é‰´æƒè·¯ç”±ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å°è£…é‰´æƒè·¯ç”±ç»„ä»¶" aria-hidden="true">#</a> å°è£…é‰´æƒè·¯ç”±ç»„ä»¶</h2><blockquote><p>ç›®æ ‡ï¼šåŸºäº Route ç»„ä»¶ï¼Œå°è£…ä¸€ä¸ªåˆ¤æ–­å­˜åœ¨ token æ‰èƒ½æ­£å¸¸æ¸²æŸ“æŒ‡å®š component çš„è·¯ç”±ç»„ä»¶</p></blockquote><p>æœ¬é¡¹ç›®ä¸­æœ‰äº›é¡µé¢éœ€è¦ç™»å½•åæ‰å¯è®¿é—®ï¼Œå¦‚ï¼šä¸ªäººä¸­å¿ƒçš„æ‰€æœ‰é¡µé¢</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¸º Route ç»„ä»¶æ·»åŠ é¢å¤–çš„é€»è¾‘ï¼Œä½¿å¾—åœ¨è·¯ç”±åŒ¹é…åè¿›è¡Œç•Œé¢å±•ç¤ºæ—¶ï¼Œå¯ä»¥æŒ‰æ¡ä»¶å†³å®šå¦‚ä½•æ¸²æŸ“ã€‚</p><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ Router ç»„ä»¶çš„ <code>render-props</code> æœºåˆ¶</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åˆ›å»º<code>components/AuthRoute/index.js</code>ï¼Œç¼–å†™ç»„ä»¶ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> hasToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/storage&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Redirect<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>

<span class="token comment">/**
 * é‰´æƒè·¯ç”±ç»„ä»¶
 * @param {*} component æœ¬æ¥ Route ç»„ä»¶ä¸Šçš„ component å±æ€§
 * @param {Array} rest å…¶ä»–å±æ€§
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">AuthRoute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Component<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Route <span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœæœ‰ tokenï¼Œåˆ™å±•ç¤ºä¼ å…¥çš„ç»„ä»¶</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hasToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">}</span>

      <span class="token comment">// å¦åˆ™è°ƒç”¨ Redirect ç»„ä»¶è·³è½¬åˆ°ç™»å½•é¡µ</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">from</span><span class="token operator">:</span> props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AuthRoute
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åœ¨ <code>App.js</code> å’Œ <code>layouts/TabBarLayout.js</code> ä¸­ï¼Œä½¿ç”¨ <code>AuthRoute</code> ç»„ä»¶æ›¿ä»£æŸäº› <code>Route</code>ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> AuthRoute <span class="token keyword">from</span> <span class="token string">&#39;@/components/AuthRoute&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthRoute</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ProfileEdit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthRoute</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/feedback<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ProfileFeedback<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthRoute</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/profile/chat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Chat<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AuthRoute</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/profile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Profile<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ›¿ä»£åï¼Œå¦‚æœæœªç»ç™»å½•è®¿é—®ä¸ªäººä¸­å¿ƒçš„é¡µé¢ï¼Œå°±ä¼šç›´æ¥è·³åˆ°ç™»å½•é¡µã€‚</p><hr><h2 id="_404-é”™è¯¯é¡µé¢" tabindex="-1"><a class="header-anchor" href="#_404-é”™è¯¯é¡µé¢" aria-hidden="true">#</a> 404 é”™è¯¯é¡µé¢</h2><blockquote><p>ç›®æ ‡ï¼šå®ç°å½“ç”¨æˆ·è®¿é—®ä¸å­˜åœ¨çš„é¡µé¢è·¯å¾„æ—¶ï¼Œæ‰€è¦æ˜¾ç¤ºçš„é”™è¯¯æç¤ºé¡µ</p></blockquote><img src="https://wuxiaohui-1254415986.cos.ap-nanjing.myqcloud.com/2022/01/30/image20210903172102078.png" alt="image-20210903172102078" style="zoom:40%;"><p>å®ç°æ€è·¯ï¼š</p><ul><li>ä½¿ç”¨ä¸€ä¸ªæ•°å­—ç±»å‹çš„çŠ¶æ€ï¼Œè®°å½•å½“å‰å€’è®¡æ—¶çš„ç§’æ•°</li><li>ä½¿ç”¨ä¸€ä¸ª ref çŠ¶æ€ï¼Œå¼•ç”¨å»¶æ—¶å™¨</li><li>åœ¨å»¶æ—¶å™¨ä¸­åˆ¤æ–­æ˜¯å¦å€’è®¡æ—¶ç»“æŸï¼Œæœªç»“æŸåˆ™ç§’æ•°å‡ä¸€ï¼›ç»“æŸåˆ™æ¸…ç†å»¶æ—¶å™¨å¹¶è·³è½¬é¡µé¢</li></ul><p><strong>æ“ä½œæ­¥éª¤</strong></p><ol><li>åœ¨<code>pages/NotFound/index.js</code>ä¸­ï¼Œç¼–å†™ä»¥ä¸‹ä»£ç ï¼š</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">NotFound</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  <span class="token comment">// å€’è®¡æ—¶ç§’æ•°</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>second<span class="token punctuation">,</span> setSecond<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  
  <span class="token comment">// å»¶æ—¶å™¨å¼•ç”¨</span>
  <span class="token keyword">const</span> timerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  
  <span class="token comment">// åœ¨å€’è®¡æ—¶ç§’æ•°å˜åŒ–æ—¶æ‰§è¡Œ</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. åˆ›å»ºå»¶æ—¶å™¨</span>
    timerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>second <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å€’è®¡æ—¶ç»“æŸï¼šå…³é—­å®šæ—¶å™¨ï¼Œå¹¶è·³è½¬åˆ°é¦–é¡µ</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/home/index&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ°è®¡æ—¶æœªç»“æŸï¼šç§’æ•°å‡ä¸€</span>
        <span class="token function">setSecond</span><span class="token punctuation">(</span>second <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

    <span class="token comment">// 2. ç»„ä»¶é”€æ¯æ—¶è¦æ¸…ç†å»¶æ—¶å™¨</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>second<span class="token punctuation">,</span> history<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å¯¹ä¸èµ·ï¼Œä½ è®¿é—®çš„å†…å®¹ä¸å­˜åœ¨...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>second<span class="token punctuation">}</span><span class="token plain-text"> ç§’åï¼Œè¿”å›</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">é¦–é¡µ</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> NotFound
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/src/reactè¯¾ç¨‹/05-react-æå®¢å›­ç§»åŠ¨ç«¯/æå®¢å›­ç§»åŠ¨ç«¯1.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/5/22 10:16:09</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: wxh199311@outlook.com">æ­¦æ™“æ…§</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»‘é©¬ç¨‹åºå‘˜</div><div class="copyright">Copyright Â© 2022 æ­¦æ™“æ…§</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.88f692a7.js" defer></script>
  </body>
</html>
